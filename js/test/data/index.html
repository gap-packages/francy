<html>

<head>
  <meta charset="utf-8" content="text/html" property="GAP,francy,d3.v4">
  <link rel="stylesheet" type="text/css" href="../../extensions/browser/index.css">
  <script src="../../node_modules/d3/dist/d3.min.js"></script>
  <script src="../../extensions/browser/francy.bundle.js"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.2/MathJax.js?config=TeX-AMS-MML_HTMLorMML-full,Safe"></script>
  <title>Francy Test</title>
</head>

<body>
  <div id="francy" style="visibility:false;"></div>
  <script>
    /* global d3 Francy */

    function trigger(json) {
      console.log(`Trigger(${JSON.stringify(JSON.stringify(json))});`);
    }

    function resolvePromise(francy) {
      francy.render().catch(error => alert(error)).then(element => {
        document.getElementsByTagName('body')[0].appendChild(element);
      });
    }

    let settings = { verbose: true, appendTo: '#francy', callbackHandler: trigger };
    const francy = new Francy(settings);

    d3.json("json12.json").then(json => {
      resolvePromise(francy.load(json));
    });
  </script>
</body>

</html>
