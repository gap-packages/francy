{"version":3,"sources":["francy.bundle.js"],"names":["e","t","n","r","s","o","u","a","require","i","f","Error","code","l","exports","call","length","1","module","out$","define","this","requireDomNode","el","obj","HTMLElement","SVGElement","styles","options","cssLoadedCallback","selectorRemap","modifyStyle","css","fontsQueue","sheets","document","styleSheets","rules","cssRules","console","warn","href","match","j","rule","selectorText","err","querySelector","parentNode","selector","cssText","style","fontUrlRegexp","fontUrlMatch","externalFontUrl","startsWith","push","text","format","getFontMimeTypeFromUrl","url","fontUrl","supportedFormats","woff2","woff","otf","ttf","eot","sfnt","svg","extensions","Object","keys","extension","indexOf","error","processFontQueue","queue","font","pop","processNext","oReq","XMLHttpRequest","fontLoaded","fontBits","fontInBase64","arrayBufferToBase64","response","updateFontStyle","transferFailed","dataUrl","replace","setTimeout","addEventListener","open","responseType","send","buffer","binary","bytes","Uint8Array","len","byteLength","String","fromCharCode","window","btoa","getDimension","clone","dim","v","viewBox","baseVal","getAttribute","parseInt","getBoundingClientRect","getComputedStyle","getPropertyValue","isNaN","parseFloat","uriToBlob","uri","byteString","atob","split","mimeString","ArrayBuffer","intArray","charCodeAt","Blob","type","prepareSvg","cb","scale","responsive","xmlns","callback","images","querySelectorAll","left","checkDone","image","getAttributeNS","value","lastIndexOf","location","host","canvas","createElement","ctx","getContext","img","Image","crossOrigin","src","onload","width","height","drawImage","setAttributeNS","toDataURL","onerror","log","inlineImages","outer","cloneNode","tagName","getBBox","box","x","y","setAttribute","createElementNS","appendChild","removeAttribute","top","join","fos","innerHTML","defs","insertBefore","firstChild","outHtml","svgAsDataUri","data","encodeURIComponent","p1","c","decodeURIComponent","svgAsPngUri","encoderType","encoderOptions","convertToPng","w","h","png","context","canvg","backgroundColor","globalCompositeOperation","fillStyle","fillRect","SecurityError","name","slice","download","navigator","msSaveOrOpenBlob","saveLink","display","body","blob","URL","createObjectURL","onclick","requestAnimationFrame","revokeObjectURL","click","removeChild","saveSvg","saveSvgAsPng","2","defineProperty","requires","props","target","descriptor","oldValue","propertyPath","tmp","properties","_iteratorNormalCompletion","_didIteratorError","_iteratorError","undefined","_step","_iterator","Symbol","iterator","next","done","property","hasOwnProperty","return","getProperty","Array","values","apply","arguments","logger","debug","3","default","_createClass","defineProperties","enumerable","configurable","writable","key","Constructor","protoProps","staticProps","prototype","_frame2","_interopRequireDefault","_renderer2","__esModule","ALL_CANVAS","Francy","_Renderer","_ref","_ref$verbose","verbose","appendTo","callbackHandler","instance","TypeError","_classCallCheck","self","ReferenceError","_possibleConstructorReturn","__proto__","getPrototypeOf","subClass","superClass","create","constructor","setPrototypeOf","_inherits","frame","load","render","id","element","node","francy","oldResize","onresize","forEach","zoomToFit","./render/frame","./render/renderer","4","_logger2","_jsonUtils2","Base","_ref$appendTo","settings","_ref2","json","partial","parse","get","../util/json-utils","../util/logger","5","_dec","_class","_base2","_modalRequired2","decorators","desc","CallbackHandler","_Base","_this","_this2","requiredArgs","callbackObj","_execute","calbackObj","JSON","stringify","getOwnPropertyDescriptor","initializer","reverse","reduce","decorator","../decorator/data","./base","./modal-required","6","_composite2","_graph2","_chart2","Canvas","_Composite","graph","chart","add","content","zoom","d3","parent","bounds","clientBounds","fullWidth","right","fullHeight","bottom","midX","midY","Math","max","translateX","translateY","transition","duration","transitionDuration","attr","on","transform","zoomIdentity","translate","updateZoom","canvasId","select","append","event","defaultPrevented","stopPropagation","renderChildren","./chart","./composite","./graph","7","_tooltip2","BarChart","tooltip","axis","datasets","datasetNames","margin","scaleBand","range","padding","domain","scaleLinear","concat","d","domainRange","barsGroup","selectAll","index","bar","exit","remove","enter","colors","bandwidth","unrender","merge","xAxisGroup","axisBottom","title","yAxisGroup","axisLeft","showLegend","legendGroup","legend","./renderer","./tooltip","8","LineChart","linesGroup","valueLine","line","9","ScatterChart","scatterGroup","scatter","10","_chartBar2","_chartLine2","_chartScatter2","Chart","dataset","A","B","from","_","map","scaleSequential","interpolator","interpolateRainbow","./chart-bar","./chart-line","./chart-scatter","11","_renderer","Composite","renderers","renderer","12","_canvas2","_menuMain2","_message2","Frame","menu","messages","frameId","./canvas","./menu-main","./message","13","_component","GenericGraph","simulationActive","simulation","canvasNodes","nodes","canvasLinks","links","linkGroup","linksToAdd","link","find","nodeGroup","nodesToAdd","nodeEnter","symbol","getSymbol","size","layer","highlight","menus","drag","active","alphaTarget","restart","fx","fy","empty","applyEvents","showNeighbours","nodeOnClick","neighboring","b","linkedByIndex","preventDefault","toggle","__data__","source","centerForce","forceCenter","manyForce","forceManyBody","strength","linkForce","forceLink","distance","collideForce","forceCollide","forceX","forceY","forceSimulation","force","ticked","alpha","RegisterMathJax","SVGParent","../util/component","14","TreeGraph","root","hierarchy","treeData","children","x0","y0","levelWidth","childCount","level","newHeight","treemap","tree","update","descendants","depth","linkEnter","diagonal","_children","nodeUpdate","collapsed","collapse","dataMap","15","_graphTree2","_graphGeneric2","_menuContext2","_callback2","Graph","contextMenu","executeCallback","callbacks","trigger","execute","symbolCircle","symbolCross","symbolDiamond","symbolSquare","symbolTriangle","symbolStar","symbolWye","./callback","./graph-generic","./graph-tree","./menu-context","16","_menu","_menu2","ContextMenu","_Menu","HTMLParent","pos","mouse","menusIterator","traverse","./menu","17","_modalAbout2","SvgToPng","newObj","_interopRequireWildcard","MainMenu","aboutModal","menuId","html","entry","../../node_modules/save-svg-as-png/saveSvgAsPng","./modal-about","18","Menu","hasNext","menuItem","action","subMenusIterator","array","nextIndex","19","Message","alertsId","message","messageEnter","20","AboutModal","modalId","overlay","holder","form","version","syntaxHighlight","RegisterJupyterKeyboardEvents","cls","test","21","RequiredArgsModal","headerTitle","arg","row","input","onchange","checked","footer","checkValidity","focus","22","_base","Renderer","toLowerCase","23","Tooltip","table","24","MathJax","Hub","Config","jax","tex2jax","inlineMath","displayMath","processEscapes","skipStartupTypeset","Register","StartupHook","each","mathJax","Queue","Configured","info","classes","cl","Jupyter","keyboard_manager","register_events","_logger","25","JsonUtils","exec","mime","MIME","26","Logger","_format","_error","Date","toISOString"],"mappings":"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","file":"../francy.bundle.js","sourcesContent":["(function e(t,n,r){function s(o,u){if(!n[o]){if(!t[o]){var a=typeof require==\"function\"&&require;if(!u&&a)return a(o,!0);if(i)return i(o,!0);var f=new Error(\"Cannot find module '\"+o+\"'\");throw f.code=\"MODULE_NOT_FOUND\",f}var l=n[o]={exports:{}};t[o][0].call(l.exports,function(e){var n=t[o][1][e];return s(n?n:e)},l,l.exports,e,t,n,r)}return n[o].exports}var i=typeof require==\"function\"&&require;for(var o=0;o<r.length;o++)s(r[o]);return s})({1:[function(require,module,exports){\n(function() {\n  var out$ = typeof exports != 'undefined' && exports || typeof define != 'undefined' && {} || this;\n\n  var doctype = '<?xml version=\"1.0\" standalone=\"no\"?><!DOCTYPE svg PUBLIC \"-//W3C//DTD SVG 1.1//EN\" \"http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd\" [<!ENTITY nbsp \"&#160;\">]>';\n\n  function isElement(obj) {\n    return obj instanceof HTMLElement || obj instanceof SVGElement;\n  }\n\n  function requireDomNode(el) {\n    if (!isElement(el)) {\n      throw new Error('an HTMLElement or SVGElement is required; got ' + el);\n    }\n  }\n\n  function isExternal(url) {\n    return url && url.lastIndexOf('http',0) == 0 && url.lastIndexOf(window.location.host) == -1;\n  }\n\n  function inlineImages(el, callback) {\n    requireDomNode(el);\n\n    var images = el.querySelectorAll('image'),\n        left = images.length,\n        checkDone = function() {\n          if (left === 0) {\n            callback();\n          }\n        };\n\n    checkDone();\n    for (var i = 0; i < images.length; i++) {\n      (function(image) {\n        var href = image.getAttributeNS(\"http://www.w3.org/1999/xlink\", \"href\");\n        if (href) {\n          if (isExternal(href.value)) {\n            console.warn(\"Cannot render embedded images linking to external hosts: \"+href.value);\n            return;\n          }\n        }\n        var canvas = document.createElement('canvas');\n        var ctx = canvas.getContext('2d');\n        var img = new Image();\n        img.crossOrigin=\"anonymous\";\n        href = href || image.getAttribute('href');\n        if (href) {\n          img.src = href;\n          img.onload = function() {\n            canvas.width = img.width;\n            canvas.height = img.height;\n            ctx.drawImage(img, 0, 0);\n            image.setAttributeNS(\"http://www.w3.org/1999/xlink\", \"href\", canvas.toDataURL('image/png'));\n            left--;\n            checkDone();\n          }\n          img.onerror = function() {\n            console.log(\"Could not load \"+href);\n            left--;\n            checkDone();\n          }\n        } else {\n          left--;\n          checkDone();\n        }\n      })(images[i]);\n    }\n  }\n\n  function styles(el, options, cssLoadedCallback) {\n    var selectorRemap = options.selectorRemap;\n    var modifyStyle = options.modifyStyle;\n    var css = \"\";\n    // each font that has extranl link is saved into queue, and processed\n    // asynchronously\n    var fontsQueue = [];\n    var sheets = document.styleSheets;\n    for (var i = 0; i < sheets.length; i++) {\n      try {\n        var rules = sheets[i].cssRules;\n      } catch (e) {\n        console.warn(\"Stylesheet could not be loaded: \"+sheets[i].href);\n        continue;\n      }\n\n      if (rules != null) {\n        for (var j = 0, match; j < rules.length; j++, match = null) {\n          var rule = rules[j];\n          if (typeof(rule.style) != \"undefined\") {\n            var selectorText;\n\n            try {\n              selectorText = rule.selectorText;\n            } catch(err) {\n              console.warn('The following CSS rule has an invalid selector: \"' + rule + '\"', err);\n            }\n\n            try {\n              if (selectorText) {\n                match = el.querySelector(selectorText) || el.parentNode.querySelector(selectorText);\n              }\n            } catch(err) {\n              console.warn('Invalid CSS selector \"' + selectorText + '\"', err);\n            }\n\n            if (match) {\n              var selector = selectorRemap ? selectorRemap(rule.selectorText) : rule.selectorText;\n              var cssText = modifyStyle ? modifyStyle(rule.style.cssText) : rule.style.cssText;\n              css += selector + \" { \" + cssText + \" }\\n\";\n            } else if(rule.cssText.match(/^@font-face/)) {\n              // below we are trying to find matches to external link. E.g.\n              // @font-face {\n              //   // ...\n              //   src: local('Abel'), url(https://fonts.gstatic.com/s/abel/v6/UzN-iejR1VoXU2Oc-7LsbvesZW2xOQ-xsNqO47m55DA.woff2);\n              // }\n              //\n              // This regex will save extrnal link into first capture group\n              var fontUrlRegexp = /url\\([\"']?(.+?)[\"']?\\)/;\n              // TODO: This needs to be changed to support multiple url declarations per font.\n              var fontUrlMatch = rule.cssText.match(fontUrlRegexp);\n\n              var externalFontUrl = (fontUrlMatch && fontUrlMatch[1]) || '';\n              var fontUrlIsDataURI = externalFontUrl.match(/^data:/);\n              if (fontUrlIsDataURI) {\n                // We should ignore data uri - they are already embedded\n                externalFontUrl = '';\n              }\n\n              if (externalFontUrl) {\n                // okay, we are lucky. We can fetch this font later\n\n                //handle url if relative\n                if (externalFontUrl.startsWith('../')) {\n                  externalFontUrl = sheets[i].href + '/../' + externalFontUrl\n                } else if (externalFontUrl.startsWith('./')) {\n                  externalFontUrl = sheets[i].href + '/.' + externalFontUrl\n                }\n\n                fontsQueue.push({\n                  text: rule.cssText,\n                  // Pass url regex, so that once font is downladed, we can run `replace()` on it\n                  fontUrlRegexp: fontUrlRegexp,\n                  format: getFontMimeTypeFromUrl(externalFontUrl),\n                  url: externalFontUrl\n                });\n              } else {\n                // otherwise, use previous logic\n                css += rule.cssText + '\\n';\n              }\n            }\n          }\n        }\n      }\n    }\n\n    // Now all css is processed, it's time to handle scheduled fonts\n    processFontQueue(fontsQueue);\n\n    function getFontMimeTypeFromUrl(fontUrl) {\n      var supportedFormats = {\n        'woff2': 'font/woff2',\n        'woff': 'font/woff',\n        'otf': 'application/x-font-opentype',\n        'ttf': 'application/x-font-ttf',\n        'eot': 'application/vnd.ms-fontobject',\n        'sfnt': 'application/font-sfnt',\n        'svg': 'image/svg+xml'\n      };\n      var extensions = Object.keys(supportedFormats);\n      for (var i = 0; i < extensions.length; ++i) {\n        var extension = extensions[i];\n        // TODO: This is not bullet proof, it needs to handle edge cases...\n        if (fontUrl.indexOf('.' + extension) > 0) {\n          return supportedFormats[extension];\n        }\n      }\n\n      // If you see this error message, you probably need to update code above.\n      console.error('Unknown font format for ' + fontUrl+ '; Fonts may not be working correctly');\n      return 'application/octet-stream';\n    }\n\n    function processFontQueue(queue) {\n      if (queue.length > 0) {\n        // load fonts one by one until we have anything in the queue:\n        var font = queue.pop();\n        processNext(font);\n      } else {\n        // no more fonts to load.\n        cssLoadedCallback(css);\n      }\n\n      function processNext(font) {\n        // TODO: This could benefit from caching.\n        var oReq = new XMLHttpRequest();\n        oReq.addEventListener('load', fontLoaded);\n        oReq.addEventListener('error', transferFailed);\n        oReq.addEventListener('abort', transferFailed);\n        oReq.open('GET', font.url);\n        oReq.responseType = 'arraybuffer';\n        oReq.send();\n\n        function fontLoaded() {\n          // TODO: it may be also worth to wait until fonts are fully loaded before\n          // attempting to rasterize them. (e.g. use https://developer.mozilla.org/en-US/docs/Web/API/FontFaceSet )\n          var fontBits = oReq.response;\n          var fontInBase64 = arrayBufferToBase64(fontBits);\n          updateFontStyle(font, fontInBase64);\n        }\n\n        function transferFailed(e) {\n          console.warn('Failed to load font from: ' + font.url);\n          console.warn(e)\n          css += font.text + '\\n';\n          processFontQueue();\n        }\n\n        function updateFontStyle(font, fontInBase64) {\n          var dataUrl = 'url(\"data:' + font.format + ';base64,' + fontInBase64 + '\")';\n          css += font.text.replace(font.fontUrlRegexp, dataUrl) + '\\n';\n\n          // schedule next font download on next tick.\n          setTimeout(function() {\n            processFontQueue(queue)\n          }, 0);\n        }\n\n      }\n    }\n\n    function arrayBufferToBase64(buffer) {\n      var binary = '';\n      var bytes = new Uint8Array(buffer);\n      var len = bytes.byteLength;\n\n      for (var i = 0; i < len; i++) {\n          binary += String.fromCharCode(bytes[i]);\n      }\n\n      return window.btoa(binary);\n    }\n  }\n\n  function getDimension(el, clone, dim) {\n    var v = (el.viewBox && el.viewBox.baseVal && el.viewBox.baseVal[dim]) ||\n      (clone.getAttribute(dim) !== null && !clone.getAttribute(dim).match(/%$/) && parseInt(clone.getAttribute(dim))) ||\n      el.getBoundingClientRect()[dim] ||\n      parseInt(clone.style[dim]) ||\n      parseInt(window.getComputedStyle(el).getPropertyValue(dim));\n    return (typeof v === 'undefined' || v === null || isNaN(parseFloat(v))) ? 0 : v;\n  }\n\n  function reEncode(data) {\n    data = encodeURIComponent(data);\n    data = data.replace(/%([0-9A-F]{2})/g, function(match, p1) {\n      var c = String.fromCharCode('0x'+p1);\n      return c === '%' ? '%25' : c;\n    });\n    return decodeURIComponent(data);\n  }\n\n  out$.prepareSvg = function(el, options, cb) {\n    requireDomNode(el);\n\n    options = options || {};\n    options.scale = options.scale || 1;\n    options.responsive = options.responsive || false;\n    var xmlns = \"http://www.w3.org/2000/xmlns/\";\n\n    inlineImages(el, function() {\n      var outer = document.createElement(\"div\");\n      var clone = el.cloneNode(true);\n      var width, height;\n      if(el.tagName == 'svg') {\n        width = options.width || getDimension(el, clone, 'width');\n        height = options.height || getDimension(el, clone, 'height');\n      } else if(el.getBBox) {\n        var box = el.getBBox();\n        width = box.x + box.width;\n        height = box.y + box.height;\n        clone.setAttribute('transform', clone.getAttribute('transform').replace(/translate\\(.*?\\)/, ''));\n\n        var svg = document.createElementNS('http://www.w3.org/2000/svg','svg')\n        svg.appendChild(clone)\n        clone = svg;\n      } else {\n        console.error('Attempted to render non-SVG element', el);\n        return;\n      }\n\n      clone.setAttribute(\"version\", \"1.1\");\n      if (!clone.getAttribute('xmlns')) {\n        clone.setAttributeNS(xmlns, \"xmlns\", \"http://www.w3.org/2000/svg\");\n      }\n      if (!clone.getAttribute('xmlns:xlink')) {\n        clone.setAttributeNS(xmlns, \"xmlns:xlink\", \"http://www.w3.org/1999/xlink\");\n      }\n\n      if (options.responsive) {\n        clone.removeAttribute('width');\n        clone.removeAttribute('height');\n        clone.setAttribute('preserveAspectRatio', 'xMinYMin meet');\n      } else {\n        clone.setAttribute(\"width\", width * options.scale);\n        clone.setAttribute(\"height\", height * options.scale);\n      }\n\n      clone.setAttribute(\"viewBox\", [\n        options.left || 0,\n        options.top || 0,\n        width,\n        height\n      ].join(\" \"));\n\n      var fos = clone.querySelectorAll('foreignObject > *');\n      for (var i = 0; i < fos.length; i++) {\n        if (!fos[i].getAttribute('xmlns')) {\n          fos[i].setAttributeNS(xmlns, \"xmlns\", \"http://www.w3.org/1999/xhtml\");\n        }\n      }\n\n      outer.appendChild(clone);\n\n      // In case of custom fonts we need to fetch font first, and then inline\n      // its url into data-uri format (encode as base64). That's why style\n      // processing is done asynchonously. Once all inlining is finshed\n      // cssLoadedCallback() is called.\n      styles(el, options, cssLoadedCallback);\n\n      function cssLoadedCallback(css) {\n        // here all fonts are inlined, so that we can render them properly.\n        var s = document.createElement('style');\n        s.setAttribute('type', 'text/css');\n        s.innerHTML = \"<![CDATA[\\n\" + css + \"\\n]]>\";\n        var defs = document.createElement('defs');\n        defs.appendChild(s);\n        clone.insertBefore(defs, clone.firstChild);\n\n        if (cb) {\n          var outHtml = outer.innerHTML;\n          outHtml = outHtml.replace(/NS\\d+:href/gi, 'xmlns:xlink=\"http://www.w3.org/1999/xlink\" xlink:href');\n          cb(outHtml, width, height);\n        }\n      }\n    });\n  }\n\n  out$.svgAsDataUri = function(el, options, cb) {\n    out$.prepareSvg(el, options, function(svg) {\n      var uri = 'data:image/svg+xml;base64,' + window.btoa(reEncode(doctype + svg));\n      if (cb) {\n        cb(uri);\n      }\n    });\n  }\n\n  out$.svgAsPngUri = function(el, options, cb) {\n    requireDomNode(el);\n\n    options = options || {};\n    options.encoderType = options.encoderType || 'image/png';\n    options.encoderOptions = options.encoderOptions || 0.8;\n\n    var convertToPng = function(src, w, h) {\n      var canvas = document.createElement('canvas');\n      var context = canvas.getContext('2d');\n      canvas.width = w;\n      canvas.height = h;\n\n      if(options.canvg) {\n        options.canvg(canvas, src);\n      } else {\n        context.drawImage(src, 0, 0);\n      }\n\n      if(options.backgroundColor){\n        context.globalCompositeOperation = 'destination-over';\n        context.fillStyle = options.backgroundColor;\n        context.fillRect(0, 0, canvas.width, canvas.height);\n      }\n\n      var png;\n      try {\n        png = canvas.toDataURL(options.encoderType, options.encoderOptions);\n      } catch (e) {\n        if ((typeof SecurityError !== 'undefined' && e instanceof SecurityError) || e.name == \"SecurityError\") {\n          console.error(\"Rendered SVG images cannot be downloaded in this browser.\");\n          return;\n        } else {\n          throw e;\n        }\n      }\n      cb(png);\n    }\n\n    if(options.canvg) {\n      out$.prepareSvg(el, options, convertToPng);\n    } else {\n      out$.svgAsDataUri(el, options, function(uri) {\n        var image = new Image();\n\n        image.onload = function() {\n          convertToPng(image, image.width, image.height);\n        }\n\n        image.onerror = function() {\n          console.error(\n            'There was an error loading the data URI as an image on the following SVG\\n',\n            window.atob(uri.slice(26)), '\\n',\n            \"Open the following link to see browser's diagnosis\\n\",\n            uri);\n        }\n\n        image.src = uri;\n      });\n    }\n  }\n\n  out$.download = function(name, uri) {\n    if (navigator.msSaveOrOpenBlob) {\n      navigator.msSaveOrOpenBlob(uriToBlob(uri), name);\n    } else {\n      var saveLink = document.createElement('a');\n      var downloadSupported = 'download' in saveLink;\n      if (downloadSupported) {\n        saveLink.download = name;\n        saveLink.style.display = 'none';\n        document.body.appendChild(saveLink);\n        try {\n          var blob = uriToBlob(uri);\n          var url = URL.createObjectURL(blob);\n          saveLink.href = url;\n          saveLink.onclick = function() {\n            requestAnimationFrame(function() {\n              URL.revokeObjectURL(url);\n            })\n          };\n        } catch (e) {\n          console.warn('This browser does not support object URLs. Falling back to string URL.');\n          saveLink.href = uri;\n        }\n        saveLink.click();\n        document.body.removeChild(saveLink);\n      }\n      else {\n        window.open(uri, '_temp', 'menubar=no,toolbar=no,status=no');\n      }\n    }\n  }\n\n  function uriToBlob(uri) {\n    var byteString = window.atob(uri.split(',')[1]);\n    var mimeString = uri.split(',')[0].split(':')[1].split(';')[0]\n    var buffer = new ArrayBuffer(byteString.length);\n    var intArray = new Uint8Array(buffer);\n    for (var i = 0; i < byteString.length; i++) {\n      intArray[i] = byteString.charCodeAt(i);\n    }\n    return new Blob([buffer], {type: mimeString});\n  }\n\n  out$.saveSvg = function(el, name, options) {\n    requireDomNode(el);\n\n    options = options || {};\n    out$.svgAsDataUri(el, options, function(uri) {\n      out$.download(name, uri);\n    });\n  }\n\n  out$.saveSvgAsPng = function(el, name, options) {\n    requireDomNode(el);\n\n    options = options || {};\n    out$.svgAsPngUri(el, options, function(uri) {\n      out$.download(name, uri);\n    });\n  }\n\n  // if define is defined create as an AMD module\n  if (typeof define !== 'undefined') {\n    define(function() {\n      return out$;\n    });\n  }\n\n})();\n\n},{}],2:[function(require,module,exports){\n'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.requires = requires;\nfunction requires(props) {\n  return function decorator(target, name, descriptor) {\n    var oldValue = descriptor.value;\n\n    descriptor.value = function () {\n      if (!hasData(getProperty(this.data, props))) {\n        this.logger.debug('No data here [' + props + '], nothing to render... continuing...');\n        return;\n      }\n      return oldValue.apply(this, arguments);\n    };\n\n    return descriptor;\n  };\n}\n\nfunction getProperty(obj, propertyPath) {\n\n  var tmp = obj;\n\n  if (tmp && propertyPath) {\n    var properties = propertyPath.split('.');\n\n    var _iteratorNormalCompletion = true;\n    var _didIteratorError = false;\n    var _iteratorError = undefined;\n\n    try {\n      for (var _iterator = properties[Symbol.iterator](), _step; !(_iteratorNormalCompletion = (_step = _iterator.next()).done); _iteratorNormalCompletion = true) {\n        var property = _step.value;\n\n        if (!tmp.hasOwnProperty(property)) {\n          tmp = undefined;\n          break;\n        } else {\n          tmp = tmp[property];\n        }\n      }\n    } catch (err) {\n      _didIteratorError = true;\n      _iteratorError = err;\n    } finally {\n      try {\n        if (!_iteratorNormalCompletion && _iterator.return) {\n          _iterator.return();\n        }\n      } finally {\n        if (_didIteratorError) {\n          throw _iteratorError;\n        }\n      }\n    }\n  }\n\n  return tmp;\n}\n\nfunction hasData(obj) {\n  return obj && (obj instanceof Array && obj.length || obj instanceof Object && Object.values(obj).length);\n}\n\n},{}],3:[function(require,module,exports){\n'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = undefined;\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nvar _frame = require('./render/frame');\n\nvar _frame2 = _interopRequireDefault(_frame);\n\nvar _renderer = require('./render/renderer');\n\nvar _renderer2 = _interopRequireDefault(_renderer);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\nvar ALL_CANVAS = {};\n\n/**\r\n * Francy is the main entry point for the whole framework. By passing an input string/object to the {Francy.handle} function,\r\n * Francy will handle the creation of that json as long it is a valid and understandable json object to Francy.\r\n * @access public\r\n * \r\n * @version 0.5.0\r\n * \r\n * @example\r\n * let francy = new Francy({verbose: true, appendTo: '#div-id', callbackHandler: console.log});\r\n * francy.load(json).render();\r\n */\n\nvar Francy = function (_Renderer) {\n  _inherits(Francy, _Renderer);\n\n  /**\r\n   * Creates an instance of Francy with the following options:\r\n   * @typedef {Object} Options\r\n   * @property {Boolean} verbose prints extra log information to console.log, default false\r\n   * @property {Boolean} appendTo where the generated html/svg components will be attached to, default body\r\n   * @property {Function} callbackHandler this handler will be used to invoke actions from the menu, default console.log\r\n   */\n  function Francy(_ref) {\n    var _ref$verbose = _ref.verbose,\n        verbose = _ref$verbose === undefined ? false : _ref$verbose,\n        appendTo = _ref.appendTo,\n        callbackHandler = _ref.callbackHandler;\n\n    _classCallCheck(this, Francy);\n\n    return _possibleConstructorReturn(this, (Francy.__proto__ || Object.getPrototypeOf(Francy)).call(this, { verbose: verbose, appendTo: appendTo, callbackHandler: callbackHandler }));\n    //if (!d3) {\n    //  throw new Error('D3 is not imported! Francy won\\'t work without it... please import D3 v4+.');\n    //}\n  }\n\n  /**\r\n   * Main entry point. Calling render passing a json representation string will \r\n   * trigger the drawing of a json object.\r\n   * @returns {Object} the html element created\r\n   */\n\n\n  _createClass(Francy, [{\n    key: 'render',\n    value: function render() {\n      var frame = new _frame2.default(this.options).load(this.data).render();\n      ALL_CANVAS[this.data.canvas.id] = frame;\n      return frame.element.node();\n    }\n  }], [{\n    key: 'unrender',\n    value: function unrender(id) {\n      delete ALL_CANVAS[id];\n    }\n  }]);\n\n  return Francy;\n}(_renderer2.default);\n/* eslint-disable no-console */\n\n\nexports.default = Francy;\nvar francy = new Francy({ verbose: false, appendTo: 'body', callbackHandler: console.log });\n/* eslint-enable no-console */\n\ntry {\n  exports.Francy = window.Francy = francy;\n  // handle events on resize\n  var oldResize = window.onresize;\n  window.onresize = function () {\n    // zoom to fit all canvas on resize\n    Object.values(ALL_CANVAS).forEach(function (frame) {\n      frame.canvas.zoomToFit();\n    });\n    // call old resize function if any!\n    if (typeof oldResize === 'function') {\n      oldResize();\n    }\n  };\n} catch (e) {\n  exports.Francy = francy;\n}\n\n},{\"./render/frame\":12,\"./render/renderer\":22}],4:[function(require,module,exports){\n'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = undefined;\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nvar _logger = require('../util/logger');\n\nvar _logger2 = _interopRequireDefault(_logger);\n\nvar _jsonUtils = require('../util/json-utils');\n\nvar _jsonUtils2 = _interopRequireDefault(_jsonUtils);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nvar Base = function () {\n  function Base(_ref) {\n    var _ref$verbose = _ref.verbose,\n        verbose = _ref$verbose === undefined ? false : _ref$verbose,\n        _ref$appendTo = _ref.appendTo,\n        appendTo = _ref$appendTo === undefined ? 'body' : _ref$appendTo,\n        callbackHandler = _ref.callbackHandler;\n\n    _classCallCheck(this, Base);\n\n    this.settings({ verbose: verbose, appendTo: appendTo, callbackHandler: callbackHandler });\n    /**\r\n     * @type {Logger} the logger for this class\r\n     */\n    this.log = new _logger2.default(this.options);\n  }\n\n  _createClass(Base, [{\n    key: 'settings',\n    value: function settings(_ref2) {\n      var verbose = _ref2.verbose,\n          appendTo = _ref2.appendTo,\n          callbackHandler = _ref2.callbackHandler;\n\n      this.options = this.options || {};\n      if (!this.options.callbackHandler && !callbackHandler) {\n        throw new Error('A Callback Handler must be provided! This will be used to trigger events from the graphics produced...');\n      }\n      if (!this.options.appendTo && !appendTo) {\n        throw new Error('Missing an element or id to append the graphics to...!');\n      }\n      /**\r\n       * @typedef {Object} Options\r\n       * @property {Boolean} verbose prints extra log information to console.log, default false\r\n       * @property {Boolean} appendTo where the generated html/svg components will be attached to, default body\r\n       * @property {Function} callbackHandler this handler will be used to invoke actions from the menu, default console.log\r\n       */\n      this.options.verbose = verbose || this.options.verbose;\n      this.options.appendTo = appendTo || this.options.verbose;\n      this.options.callbackHandler = callbackHandler || this.options.callbackHandler;\n      return this;\n    }\n  }, {\n    key: 'load',\n    value: function load(json, partial) {\n      var data = _jsonUtils2.default.parse(json, partial);\n      if (data) {\n        this.data = data;\n      }\n      return this;\n    }\n  }, {\n    key: 'logger',\n    get: function get() {\n      return this.log;\n    }\n  }]);\n\n  return Base;\n}();\n\nexports.default = Base;\n\n},{\"../util/json-utils\":25,\"../util/logger\":26}],5:[function(require,module,exports){\n'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = undefined;\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nvar _dec, _desc, _value, _class;\n\nvar _base = require('./base');\n\nvar _base2 = _interopRequireDefault(_base);\n\nvar _modalRequired = require('./modal-required');\n\nvar _modalRequired2 = _interopRequireDefault(_modalRequired);\n\nvar _data = require('../decorator/data');\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\nfunction _applyDecoratedDescriptor(target, property, decorators, descriptor, context) {\n  var desc = {};\n  Object['ke' + 'ys'](descriptor).forEach(function (key) {\n    desc[key] = descriptor[key];\n  });\n  desc.enumerable = !!desc.enumerable;\n  desc.configurable = !!desc.configurable;\n\n  if ('value' in desc || desc.initializer) {\n    desc.writable = true;\n  }\n\n  desc = decorators.slice().reverse().reduce(function (desc, decorator) {\n    return decorator(target, property, desc) || desc;\n  }, desc);\n\n  if (context && desc.initializer !== void 0) {\n    desc.value = desc.initializer ? desc.initializer.call(context) : void 0;\n    desc.initializer = undefined;\n  }\n\n  if (desc.initializer === void 0) {\n    Object['define' + 'Property'](target, property, desc);\n    desc = null;\n  }\n\n  return desc;\n}\n\nvar CallbackHandler = (_dec = (0, _data.requires)('callback'), (_class = function (_Base) {\n  _inherits(CallbackHandler, _Base);\n\n  function CallbackHandler(_ref) {\n    var _ref$verbose = _ref.verbose,\n        verbose = _ref$verbose === undefined ? false : _ref$verbose,\n        appendTo = _ref.appendTo,\n        callbackHandler = _ref.callbackHandler;\n\n    _classCallCheck(this, CallbackHandler);\n\n    var _this = _possibleConstructorReturn(this, (CallbackHandler.__proto__ || Object.getPrototypeOf(CallbackHandler)).call(this, { verbose: verbose, appendTo: appendTo, callbackHandler: callbackHandler }));\n\n    _this.callback = callbackHandler;\n    return _this;\n  }\n\n  _createClass(CallbackHandler, [{\n    key: 'execute',\n    value: function execute() {\n      var _this2 = this;\n\n      if (Object.keys(this.data.callback.requiredArgs).length) {\n        var options = this.options;\n        options.callbackHandler = function (callbackObj) {\n          return _this2._execute.call(_this2, callbackObj);\n        };\n        return new _modalRequired2.default(options).load(this.data, true).render();\n      } else {\n        // Trigger is the expected command on GAP for this events!\n        this._execute(this.data.callback);\n      }\n    }\n  }, {\n    key: '_execute',\n    value: function _execute(calbackObj) {\n      this.callback('Trigger(' + JSON.stringify(JSON.stringify(calbackObj)) + ');');\n    }\n  }]);\n\n  return CallbackHandler;\n}(_base2.default), (_applyDecoratedDescriptor(_class.prototype, 'execute', [_dec], Object.getOwnPropertyDescriptor(_class.prototype, 'execute'), _class.prototype)), _class));\nexports.default = CallbackHandler;\n\n},{\"../decorator/data\":2,\"./base\":4,\"./modal-required\":21}],6:[function(require,module,exports){\n'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = undefined;\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nvar _dec, _desc, _value, _class;\n\nvar _composite = require('./composite');\n\nvar _composite2 = _interopRequireDefault(_composite);\n\nvar _graph = require('./graph');\n\nvar _graph2 = _interopRequireDefault(_graph);\n\nvar _chart = require('./chart');\n\nvar _chart2 = _interopRequireDefault(_chart);\n\nvar _data = require('../decorator/data');\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\nfunction _applyDecoratedDescriptor(target, property, decorators, descriptor, context) {\n  var desc = {};\n  Object['ke' + 'ys'](descriptor).forEach(function (key) {\n    desc[key] = descriptor[key];\n  });\n  desc.enumerable = !!desc.enumerable;\n  desc.configurable = !!desc.configurable;\n\n  if ('value' in desc || desc.initializer) {\n    desc.writable = true;\n  }\n\n  desc = decorators.slice().reverse().reduce(function (desc, decorator) {\n    return decorator(target, property, desc) || desc;\n  }, desc);\n\n  if (context && desc.initializer !== void 0) {\n    desc.value = desc.initializer ? desc.initializer.call(context) : void 0;\n    desc.initializer = undefined;\n  }\n\n  if (desc.initializer === void 0) {\n    Object['define' + 'Property'](target, property, desc);\n    desc = null;\n  }\n\n  return desc;\n}\n\n/* global d3 */\n\nvar Canvas = (_dec = (0, _data.requires)('canvas'), (_class = function (_Composite) {\n  _inherits(Canvas, _Composite);\n\n  function Canvas(_ref) {\n    var _ref$verbose = _ref.verbose,\n        verbose = _ref$verbose === undefined ? false : _ref$verbose,\n        appendTo = _ref.appendTo,\n        callbackHandler = _ref.callbackHandler;\n\n    _classCallCheck(this, Canvas);\n\n    var _this = _possibleConstructorReturn(this, (Canvas.__proto__ || Object.getPrototypeOf(Canvas)).call(this, { verbose: verbose, appendTo: appendTo, callbackHandler: callbackHandler }));\n\n    _this.graph = new _graph2.default(_this.options);\n    _this.chart = new _chart2.default(_this.options);\n    _this.add(_this.graph).add(_this.chart);\n    return _this;\n  }\n\n  _createClass(Canvas, [{\n    key: 'render',\n    value: function render() {\n      var content = void 0;\n      var zoom = d3.zoom();\n      var parent = this.options.appendTo.element;\n      var self = this;\n\n      function updateZoom(translateX, translateY, scale) {\n        self.element.call(zoom.transform, d3.zoomIdentity.translate(translateX, translateY).scale(scale, scale));\n      }\n\n      function zoomed() {\n        content.attr(\"transform\", d3.event.transform);\n      }\n\n      function stopped() {\n        if (d3.event.defaultPrevented) {\n          d3.event.stopPropagation();\n        }\n      }\n\n      function zoomToFit() {\n        // only execute if enable, of course\n        if (self.data.canvas.zoomToFit) {\n          var bounds = content.node().getBBox();\n\n          var clientBounds = self.element.node().getBoundingClientRect(),\n              fullWidth = clientBounds.right - clientBounds.left,\n              fullHeight = clientBounds.bottom - clientBounds.top;\n\n          var width = +bounds.width,\n              height = +bounds.height;\n\n          if (width === 0 || height === 0) return;\n\n          var midX = bounds.x + width / 2,\n              midY = bounds.y + height / 2;\n\n          var scale = 0.9 / Math.max(width / fullWidth, height / fullHeight);\n          var translateX = fullWidth / 2 - scale * midX,\n              translateY = fullHeight / 2 - scale * midY;\n\n          content.transition().duration(self.transitionDuration).attr('transform', 'translate(' + translateX + ',' + translateY + ')scale(' + scale + ',' + scale + ')').on('end', function () {\n            return updateZoom(translateX, translateY, scale);\n          });\n        }\n      }\n\n      var canvasId = 'Canvas-' + this.data.canvas.id;\n      this.element = d3.select('svg#' + canvasId);\n      // check if the canvas is already present\n      if (!this.element.node()) {\n        // create a svg element detached from the DOM!\n        this.logger.debug('Creating Canvas [' + canvasId + ']...');\n        this.element = parent.append('svg').attr('class', 'francy-canvas').attr('id', canvasId);\n      }\n\n      // cannot continue if canvas is not present\n      if (!this.element.node()) {\n        throw new Error('Oops, could not create canvas with id [' + canvasId + ']... Cannot proceed.');\n      }\n\n      this.element.attr('width', this.data.canvas.width).attr('height', this.data.canvas.height);\n\n      content = this.element.select('g.francy-content');\n\n      if (!content.node()) {\n        content = this.element.append('g').attr('class', 'francy-content');\n        zoom.on(\"zoom\", zoomed);\n        // remove zoom on double click!\n        this.element.call(zoom).on(\"dblclick.zoom\", null);\n      }\n\n      this.element.on(\"click\", stopped, true);\n\n      this.element.zoomToFit = this.zoomToFit = zoomToFit;\n\n      this.logger.debug('Canvas updated [' + canvasId + ']...');\n\n      this.renderChildren();\n\n      setTimeout(function () {\n        zoomToFit();\n      }, this.transitionDuration);\n\n      return this;\n    }\n  }, {\n    key: 'unrender',\n    value: function unrender() {}\n  }]);\n\n  return Canvas;\n}(_composite2.default), (_applyDecoratedDescriptor(_class.prototype, 'render', [_dec], Object.getOwnPropertyDescriptor(_class.prototype, 'render'), _class.prototype)), _class));\nexports.default = Canvas;\n\n},{\"../decorator/data\":2,\"./chart\":10,\"./composite\":11,\"./graph\":15}],7:[function(require,module,exports){\n'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = undefined;\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nvar _renderer = require('./renderer');\n\nvar _renderer2 = _interopRequireDefault(_renderer);\n\nvar _tooltip = require('./tooltip');\n\nvar _tooltip2 = _interopRequireDefault(_tooltip);\n\nvar _chart = require('./chart');\n\nvar _chart2 = _interopRequireDefault(_chart);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\n/* global d3 */\n\nvar BarChart = function (_Renderer) {\n  _inherits(BarChart, _Renderer);\n\n  function BarChart(_ref) {\n    var _ref$verbose = _ref.verbose,\n        verbose = _ref$verbose === undefined ? false : _ref$verbose,\n        appendTo = _ref.appendTo,\n        callbackHandler = _ref.callbackHandler;\n\n    _classCallCheck(this, BarChart);\n\n    return _possibleConstructorReturn(this, (BarChart.__proto__ || Object.getPrototypeOf(BarChart)).call(this, { verbose: verbose, appendTo: appendTo, callbackHandler: callbackHandler }));\n  }\n\n  _createClass(BarChart, [{\n    key: 'render',\n    value: function render() {\n\n      var parent = this.options.appendTo.element;\n\n      var tooltip = new _tooltip2.default(this.options);\n\n      var axis = this.data.canvas.chart.axis,\n          datasets = this.data.canvas.chart.data,\n          datasetNames = Object.keys(datasets);\n\n      this.element = parent.select('g.francy-content');\n\n      var margin = { top: 50, right: 50, bottom: 50, left: 50 },\n          width = +parent.attr('width') || d3.select('body').node().getBoundingClientRect().width,\n          height = +parent.attr('height') || d3.select('body').node().getBoundingClientRect().height;\n\n      // set the dimensions and margins of the chart\n      width = width - margin.left - margin.right;\n      height = height - margin.top - margin.bottom;\n\n      // set the ranges\n      var x = d3.scaleBand().range([0, width]).padding(0.1).domain(axis.x.domain);\n      var y = d3.scaleLinear().range([height, 0]).domain(axis.y.domain);\n\n      var tmp = [];\n      datasetNames.forEach(function (key) {\n        return tmp = tmp.concat(datasets[key]);\n      });\n\n      if (!axis.y.domain.length) {\n        y.domain([0, d3.max(tmp, function (d) {\n          return d;\n        })]);\n      }\n\n      if (!axis.x.domain.length) {\n        axis.x.domain = _chart2.default.domainRange(tmp.length / datasetNames.length);\n        x.domain(axis.x.domain);\n      }\n\n      var barsGroup = this.element.selectAll('g.francy-bars');\n\n      if (!barsGroup.node()) {\n        barsGroup = this.element.append('g').attr('class', 'francy-bars');\n      }\n\n      datasetNames.forEach(function (key, index) {\n        var bar = barsGroup.selectAll('.francy-bar-' + index).data(datasets[key]);\n\n        bar.exit().transition().duration(750).style(\"fill-opacity\", 1e-6).remove();\n\n        // append the rectangles for the bar chart\n        var barEnter = bar.enter().append('rect').style('fill', function () {\n          return _chart2.default.colors(index * 5);\n        }).attr('class', 'francy-bar-' + index).attr('x', function (d, i) {\n          return x(axis.x.domain[i]) + index * (x.bandwidth() / datasetNames.length);\n        }).attr('width', x.bandwidth() / datasetNames.length - 1).attr('y', function (d) {\n          return y(d);\n        }).attr('height', function (d) {\n          return height - y(d);\n        }).on(\"mouseenter\", function (d) {\n          d3.select(this).transition().duration(250).style(\"fill-opacity\", 0.5);\n          tooltip.load(_chart2.default.tooltip(key, d), true).render();\n        }).on(\"mouseleave\", function () {\n          d3.select(this).transition().duration(250).style(\"fill-opacity\", 1);\n          tooltip.unrender();\n        });\n\n        barEnter.merge(bar).attr('x', function (d, i) {\n          return x(axis.x.domain[i]) + index * (x.bandwidth() / datasetNames.length);\n        }).attr('width', x.bandwidth() / datasetNames.length - 1).attr('y', function (d) {\n          return y(d);\n        }).attr('height', function (d) {\n          return height - y(d);\n        });\n      });\n\n      // force rebuild axis again\n      var xAxisGroup = this.element.selectAll('g.francy-x-axis');\n\n      if (!xAxisGroup.node()) {\n        xAxisGroup = this.element.append('g').attr('class', 'francy-x-axis');\n      }\n\n      xAxisGroup.selectAll('*').remove();\n\n      // add the x Axis\n      xAxisGroup.attr('transform', 'translate(0,' + height + ')').call(d3.axisBottom(x)).append('text').attr('dy', 50).attr('dx', width / 2).attr('fill', 'black').attr('class', 'francy-axis').style('text-anchor', 'end').text(axis.x.title);\n\n      // force rebuild axis again\n      var yAxisGroup = this.element.selectAll('g.francy-y-axis');\n\n      if (!yAxisGroup.node()) {\n        yAxisGroup = this.element.append('g').attr('class', 'francy-y-axis');\n      }\n\n      yAxisGroup.selectAll('*').remove();\n\n      // add the y Axis\n      yAxisGroup.call(d3.axisLeft(y)).append('text').attr('dx', -50).attr('dy', height / 2).attr('fill', 'black').attr('class', 'francy-axis').style('text-anchor', 'end').text(axis.y.title);\n\n      if (this.data.canvas.chart.showLegend) {\n\n        var legendGroup = this.element.selectAll('.francy-legend');\n\n        if (!legendGroup.node()) {\n          legendGroup = this.element.append('g').attr('class', 'francy-legend');\n        }\n\n        // force rebuild legend again\n        legendGroup.selectAll('*').remove();\n\n        var legend = legendGroup.selectAll('g').data(datasetNames.slice());\n\n        legend.exit().remove();\n\n        legend = legend.enter().append('g').attr('transform', function (d, i) {\n          return 'translate(0,' + i * 20 + ')';\n        }).merge(legend);\n\n        legend.append('rect').attr('x', width + 20).attr('width', 19).attr('height', 19).style('fill', function (d, i) {\n          return _chart2.default.colors(i * 5);\n        });\n\n        legend.append('text').attr('x', width + 80).attr('y', 9).attr('dy', '.35em').style('text-anchor', 'end').text(function (d) {\n          return d;\n        });\n      }\n\n      return this;\n    }\n  }, {\n    key: 'unrender',\n    value: function unrender() {}\n  }]);\n\n  return BarChart;\n}(_renderer2.default);\n\nexports.default = BarChart;\n\n},{\"./chart\":10,\"./renderer\":22,\"./tooltip\":23}],8:[function(require,module,exports){\n'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = undefined;\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nvar _renderer = require('./renderer');\n\nvar _renderer2 = _interopRequireDefault(_renderer);\n\nvar _tooltip = require('./tooltip');\n\nvar _tooltip2 = _interopRequireDefault(_tooltip);\n\nvar _chart = require('./chart');\n\nvar _chart2 = _interopRequireDefault(_chart);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\n/* global d3 */\n\nvar LineChart = function (_Renderer) {\n  _inherits(LineChart, _Renderer);\n\n  function LineChart(_ref) {\n    var _ref$verbose = _ref.verbose,\n        verbose = _ref$verbose === undefined ? false : _ref$verbose,\n        appendTo = _ref.appendTo,\n        callbackHandler = _ref.callbackHandler;\n\n    _classCallCheck(this, LineChart);\n\n    return _possibleConstructorReturn(this, (LineChart.__proto__ || Object.getPrototypeOf(LineChart)).call(this, { verbose: verbose, appendTo: appendTo, callbackHandler: callbackHandler }));\n  }\n\n  _createClass(LineChart, [{\n    key: 'render',\n    value: function render() {\n\n      var tooltip = new _tooltip2.default(this.options);\n\n      var parent = this.options.appendTo.element;\n\n      var axis = this.data.canvas.chart.axis,\n          datasets = this.data.canvas.chart.data,\n          datasetNames = Object.keys(datasets);\n\n      this.element = parent.select('g.francy-content');\n\n      var margin = { top: 50, right: 50, bottom: 50, left: 50 },\n          width = +parent.attr('width') || d3.select('body').node().getBoundingClientRect().width,\n          height = +parent.attr('height') || d3.select('body').node().getBoundingClientRect().height;\n\n      // set the dimensions and margins of the chart\n      width = width - margin.left - margin.right;\n      height = height - margin.top - margin.bottom;\n\n      // set the ranges\n      var x = d3.scaleLinear().range([0, width]).domain(axis.x.domain);\n      var y = d3.scaleLinear().range([height, 0]).domain(axis.y.domain);\n\n      var tmp = [];\n      datasetNames.forEach(function (key) {\n        return tmp = tmp.concat(datasets[key]);\n      });\n\n      if (!axis.y.domain.length) {\n        y.domain([0, d3.max(tmp, function (d) {\n          return d;\n        })]);\n      }\n\n      if (!axis.x.domain.length) {\n        x.domain([0, tmp.length / datasetNames.length]);\n      }\n\n      var linesGroup = this.element.selectAll('g.francy-lines');\n\n      if (!linesGroup.node()) {\n        linesGroup = this.element.append('g').attr('class', 'francy-lines');\n      }\n\n      datasetNames.forEach(function (key, index) {\n        var valueLine = d3.line().x(function (d, i) {\n          return x(i);\n        }).y(function (d) {\n          return y(d);\n        });\n\n        var line = linesGroup.selectAll('.francy-line-' + index).data([datasets[key]]);\n\n        line.exit().transition().duration(750).style(\"fill-opacity\", 1e-6).remove();\n\n        // append the rectangles for the bar chart\n        var lineEnter = line.enter().append('path').style('stroke', function () {\n          return _chart2.default.colors(index * 5);\n        }).style('stroke-width', '5px').attr('class', 'francy-line-' + index).attr('d', valueLine).on(\"mouseenter\", function (d) {\n          d3.select(this).transition().duration(250).style(\"stroke-opacity\", 0.5).style('stroke-width', '10px');\n          tooltip.load(_chart2.default.tooltip(key, d), true).render();\n        }).on(\"mouseleave\", function () {\n          d3.select(this).transition().duration(250).style(\"stroke-opacity\", 1).style('stroke-width', '5px');\n          tooltip.unrender();\n        });\n\n        lineEnter.merge(line);\n      });\n\n      // force rebuild axis again\n      var xAxisGroup = this.element.selectAll('g.francy-x-axis');\n\n      if (!xAxisGroup.node()) {\n        xAxisGroup = this.element.append('g').attr('class', 'francy-x-axis');\n      }\n\n      xAxisGroup.selectAll('*').remove();\n\n      // add the x Axis\n      xAxisGroup.attr('transform', 'translate(0,' + height + ')').call(d3.axisBottom(x)).append('text').attr('dy', 50).attr('dx', width / 2).attr('fill', 'black').attr('class', 'francy-axis').style('text-anchor', 'end').text(axis.x.title);\n\n      // force rebuild axis again\n      var yAxisGroup = this.element.selectAll('g.francy-y-axis');\n\n      if (!yAxisGroup.node()) {\n        yAxisGroup = this.element.append('g').attr('class', 'francy-y-axis');\n      }\n\n      yAxisGroup.selectAll('*').remove();\n\n      // add the y Axis\n      yAxisGroup.call(d3.axisLeft(y)).append('text').attr('dx', -50).attr('dy', height / 2).attr('fill', 'black').attr('class', 'francy-axis').style('text-anchor', 'end').text(axis.y.title);\n\n      if (this.data.canvas.chart.showLegend) {\n\n        var legendGroup = this.element.selectAll('.francy-legend');\n\n        if (!legendGroup.node()) {\n          legendGroup = this.element.append('g').attr('class', 'francy-legend');\n        }\n\n        // force rebuild legend again\n        legendGroup.selectAll('*').remove();\n\n        var legend = legendGroup.selectAll('g').data(datasetNames.slice());\n\n        legend.exit().remove();\n\n        legend = legend.enter().append('g').attr('transform', function (d, i) {\n          return 'translate(0,' + i * 20 + ')';\n        }).merge(legend);\n\n        legend.append('rect').attr('x', width + 20).attr('width', 19).attr('height', 19).style('fill', function (d, i) {\n          return _chart2.default.colors(i * 5);\n        });\n\n        legend.append('text').attr('x', width + 80).attr('y', 9).attr('dy', '.35em').style('text-anchor', 'end').text(function (d) {\n          return d;\n        });\n      }\n\n      return this;\n    }\n  }, {\n    key: 'unrender',\n    value: function unrender() {}\n  }]);\n\n  return LineChart;\n}(_renderer2.default);\n\nexports.default = LineChart;\n\n},{\"./chart\":10,\"./renderer\":22,\"./tooltip\":23}],9:[function(require,module,exports){\n'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = undefined;\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nvar _renderer = require('./renderer');\n\nvar _renderer2 = _interopRequireDefault(_renderer);\n\nvar _tooltip = require('./tooltip');\n\nvar _tooltip2 = _interopRequireDefault(_tooltip);\n\nvar _chart = require('./chart');\n\nvar _chart2 = _interopRequireDefault(_chart);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\n/* global d3 */\n\nvar ScatterChart = function (_Renderer) {\n  _inherits(ScatterChart, _Renderer);\n\n  function ScatterChart(_ref) {\n    var _ref$verbose = _ref.verbose,\n        verbose = _ref$verbose === undefined ? false : _ref$verbose,\n        appendTo = _ref.appendTo,\n        callbackHandler = _ref.callbackHandler;\n\n    _classCallCheck(this, ScatterChart);\n\n    return _possibleConstructorReturn(this, (ScatterChart.__proto__ || Object.getPrototypeOf(ScatterChart)).call(this, { verbose: verbose, appendTo: appendTo, callbackHandler: callbackHandler }));\n  }\n\n  _createClass(ScatterChart, [{\n    key: 'render',\n    value: function render() {\n\n      var tooltip = new _tooltip2.default(this.options);\n\n      var parent = this.options.appendTo.element;\n\n      var axis = this.data.canvas.chart.axis,\n          datasets = this.data.canvas.chart.data,\n          datasetNames = Object.keys(datasets);\n\n      this.element = parent.select('g.francy-content');\n\n      var margin = { top: 50, right: 50, bottom: 50, left: 50 },\n          width = +parent.attr('width') || d3.select('body').node().getBoundingClientRect().width,\n          height = +parent.attr('height') || d3.select('body').node().getBoundingClientRect().height;\n\n      // set the dimensions and margins of the chart\n      width = width - margin.left - margin.right;\n      height = height - margin.top - margin.bottom;\n\n      // set the ranges\n      var x = d3.scaleLinear().range([0, width]).domain(axis.x.domain);\n      var y = d3.scaleLinear().range([height, 0]).domain(axis.y.domain);\n\n      var tmp = [];\n      datasetNames.forEach(function (key) {\n        return tmp = tmp.concat(datasets[key]);\n      });\n\n      if (!axis.y.domain.length) {\n        y.domain([0, d3.max(tmp, function (d) {\n          return d;\n        })]);\n      }\n\n      if (!axis.x.domain.length) {\n        x.domain([0, tmp.length / datasetNames.length]);\n      }\n\n      var scatterGroup = this.element.selectAll('g.francy-scatters');\n\n      if (!scatterGroup.node()) {\n        scatterGroup = this.element.append('g').attr('class', 'francy-scatters');\n      }\n\n      datasetNames.forEach(function (key, index) {\n        var scatter = scatterGroup.selectAll('.francy-scatter-' + index).data(datasets[key]);\n\n        scatter.exit().transition().duration(750).style(\"fill-opacity\", 1e-6).remove();\n\n        // append the rectangles for the bar chart\n        var scatterEnter = scatter.enter().append('circle').style('fill', function () {\n          return _chart2.default.colors(index * 5);\n        }).attr('class', 'francy-scatter-' + index).attr(\"r\", 5).attr(\"cx\", function (d, i) {\n          return x(i);\n        }).attr(\"cy\", function (d) {\n          return y(d);\n        }).on(\"mouseenter\", function (d) {\n          d3.select(this).transition().duration(250).style(\"fill-opacity\", 0.5).attr('r', 10);\n          tooltip.load(_chart2.default.tooltip(key, d), true).render();\n        }).on(\"mouseleave\", function () {\n          d3.select(this).transition().duration(250).style(\"fill-opacity\", 1).attr('r', 5);\n          tooltip.unrender();\n        });\n\n        scatterEnter.merge(scatter);\n      });\n\n      // force rebuild axis again\n      var xAxisGroup = this.element.selectAll('g.francy-x-axis');\n\n      if (!xAxisGroup.node()) {\n        xAxisGroup = this.element.append('g').attr('class', 'francy-x-axis');\n      }\n\n      xAxisGroup.selectAll('*').remove();\n\n      // add the x Axis\n      xAxisGroup.attr('transform', 'translate(0,' + height + ')').call(d3.axisBottom(x)).append('text').attr('dy', 50).attr('dx', width / 2).attr('fill', 'black').attr('class', 'francy-axis').style('text-anchor', 'end').text(axis.x.title);\n\n      // force rebuild axis again\n      var yAxisGroup = this.element.selectAll('g.francy-y-axis');\n\n      if (!yAxisGroup.node()) {\n        yAxisGroup = this.element.append('g').attr('class', 'francy-y-axis');\n      }\n\n      yAxisGroup.selectAll('*').remove();\n\n      // add the y Axis\n      yAxisGroup.call(d3.axisLeft(y)).append('text').attr('dx', -50).attr('dy', height / 2).attr('fill', 'black').attr('class', 'francy-axis').style('text-anchor', 'end').text(axis.y.title);\n\n      if (this.data.canvas.chart.showLegend) {\n\n        var legendGroup = this.element.selectAll('.francy-legend');\n\n        if (!legendGroup.node()) {\n          legendGroup = this.element.append('g').attr('class', 'francy-legend');\n        }\n\n        // force rebuild legend again\n        legendGroup.selectAll('*').remove();\n\n        var legend = legendGroup.selectAll('g').data(datasetNames.slice());\n\n        legend.exit().remove();\n\n        legend = legend.enter().append('g').attr('transform', function (d, i) {\n          return 'translate(0,' + i * 20 + ')';\n        }).merge(legend);\n\n        legend.append('rect').attr('x', width + 20).attr('width', 19).attr('height', 19).style('fill', function (d, i) {\n          return _chart2.default.colors(i * 5);\n        });\n\n        legend.append('text').attr('x', width + 80).attr('y', 9).attr('dy', '.35em').style('text-anchor', 'end').text(function (d) {\n          return d;\n        });\n      }\n\n      return this;\n    }\n  }, {\n    key: 'unrender',\n    value: function unrender() {}\n  }]);\n\n  return ScatterChart;\n}(_renderer2.default);\n\nexports.default = ScatterChart;\n\n},{\"./chart\":10,\"./renderer\":22,\"./tooltip\":23}],10:[function(require,module,exports){\n'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = undefined;\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nvar _dec, _desc, _value, _class;\n\nvar _renderer = require('./renderer');\n\nvar _renderer2 = _interopRequireDefault(_renderer);\n\nvar _chartBar = require('./chart-bar');\n\nvar _chartBar2 = _interopRequireDefault(_chartBar);\n\nvar _chartLine = require('./chart-line');\n\nvar _chartLine2 = _interopRequireDefault(_chartLine);\n\nvar _chartScatter = require('./chart-scatter');\n\nvar _chartScatter2 = _interopRequireDefault(_chartScatter);\n\nvar _data = require('../decorator/data');\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\nfunction _applyDecoratedDescriptor(target, property, decorators, descriptor, context) {\n  var desc = {};\n  Object['ke' + 'ys'](descriptor).forEach(function (key) {\n    desc[key] = descriptor[key];\n  });\n  desc.enumerable = !!desc.enumerable;\n  desc.configurable = !!desc.configurable;\n\n  if ('value' in desc || desc.initializer) {\n    desc.writable = true;\n  }\n\n  desc = decorators.slice().reverse().reduce(function (desc, decorator) {\n    return decorator(target, property, desc) || desc;\n  }, desc);\n\n  if (context && desc.initializer !== void 0) {\n    desc.value = desc.initializer ? desc.initializer.call(context) : void 0;\n    desc.initializer = undefined;\n  }\n\n  if (desc.initializer === void 0) {\n    Object['define' + 'Property'](target, property, desc);\n    desc = null;\n  }\n\n  return desc;\n}\n\n/* global d3 */\n\nvar Chart = (_dec = (0, _data.requires)('canvas.chart'), (_class = function (_Renderer) {\n  _inherits(Chart, _Renderer);\n\n  function Chart(_ref) {\n    var _ref$verbose = _ref.verbose,\n        verbose = _ref$verbose === undefined ? false : _ref$verbose,\n        appendTo = _ref.appendTo,\n        callbackHandler = _ref.callbackHandler;\n\n    _classCallCheck(this, Chart);\n\n    return _possibleConstructorReturn(this, (Chart.__proto__ || Object.getPrototypeOf(Chart)).call(this, { verbose: verbose, appendTo: appendTo, callbackHandler: callbackHandler }));\n  }\n\n  _createClass(Chart, [{\n    key: 'render',\n    value: function render() {\n\n      switch (this.data.canvas.chart.type) {\n        case \"bar\":\n          this.element = new _chartBar2.default(this.options).load(this.data).render();\n          break;\n        case \"line\":\n          this.element = new _chartLine2.default(this.options).load(this.data).render();\n          break;\n        case \"scatter\":\n          this.element = new _chartScatter2.default(this.options).load(this.data).render();\n          break;\n      }\n\n      return this;\n    }\n  }, {\n    key: 'unrender',\n    value: function unrender() {}\n  }], [{\n    key: 'tooltip',\n    value: function tooltip(dataset, value) {\n      return { \"A\": { 'title': 'Dataset', 'text': dataset }, \"B\": { 'title': 'Value', 'text': value } };\n    }\n  }, {\n    key: 'domainRange',\n    value: function domainRange(max) {\n      return Array.from(new Array(max), function (_, i) {\n        return i;\n      }).map(function (x) {\n        return x;\n      });\n    }\n  }, {\n    key: 'colors',\n    get: function get() {\n      return d3.scaleSequential().domain([0, 100]).interpolator(d3.interpolateRainbow);\n    }\n  }]);\n\n  return Chart;\n}(_renderer2.default), (_applyDecoratedDescriptor(_class.prototype, 'render', [_dec], Object.getOwnPropertyDescriptor(_class.prototype, 'render'), _class.prototype)), _class));\nexports.default = Chart;\n\n},{\"../decorator/data\":2,\"./chart-bar\":7,\"./chart-line\":8,\"./chart-scatter\":9,\"./renderer\":22}],11:[function(require,module,exports){\n'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = undefined;\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nvar _renderer = require('./renderer');\n\nvar _renderer2 = _interopRequireDefault(_renderer);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\nvar Composite = function (_Renderer) {\n  _inherits(Composite, _Renderer);\n\n  function Composite(_ref) {\n    var _ref$verbose = _ref.verbose,\n        verbose = _ref$verbose === undefined ? false : _ref$verbose,\n        appendTo = _ref.appendTo,\n        callbackHandler = _ref.callbackHandler;\n\n    _classCallCheck(this, Composite);\n\n    var _this = _possibleConstructorReturn(this, (Composite.__proto__ || Object.getPrototypeOf(Composite)).call(this, { verbose: verbose, appendTo: appendTo, callbackHandler: callbackHandler }));\n\n    if (new.target === Composite) {\n      throw new TypeError('Cannot construct [Composite] instances directly!');\n    }\n    _this.renderers = [];\n    return _this;\n  }\n\n  _createClass(Composite, [{\n    key: 'add',\n    value: function add(renderer) {\n      this.renderers.push(renderer);\n      return this;\n    }\n  }, {\n    key: 'renderChildren',\n    value: function renderChildren() {\n      // update children rendering with a new parent!\n      var options = this.options;\n      options.appendTo = this;\n      // render other components\n      var _iteratorNormalCompletion = true;\n      var _didIteratorError = false;\n      var _iteratorError = undefined;\n\n      try {\n        for (var _iterator = this.renderers[Symbol.iterator](), _step; !(_iteratorNormalCompletion = (_step = _iterator.next()).done); _iteratorNormalCompletion = true) {\n          var renderer = _step.value;\n\n          renderer.settings(options).load(this.data).render();\n        }\n      } catch (err) {\n        _didIteratorError = true;\n        _iteratorError = err;\n      } finally {\n        try {\n          if (!_iteratorNormalCompletion && _iterator.return) {\n            _iterator.return();\n          }\n        } finally {\n          if (_didIteratorError) {\n            throw _iteratorError;\n          }\n        }\n      }\n    }\n  }]);\n\n  return Composite;\n}(_renderer2.default);\n\nexports.default = Composite;\n\n},{\"./renderer\":22}],12:[function(require,module,exports){\n'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = undefined;\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nvar _dec, _desc, _value, _class;\n\nvar _composite = require('./composite');\n\nvar _composite2 = _interopRequireDefault(_composite);\n\nvar _canvas = require('./canvas');\n\nvar _canvas2 = _interopRequireDefault(_canvas);\n\nvar _menuMain = require('./menu-main');\n\nvar _menuMain2 = _interopRequireDefault(_menuMain);\n\nvar _message = require('./message');\n\nvar _message2 = _interopRequireDefault(_message);\n\nvar _data = require('../decorator/data');\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\nfunction _applyDecoratedDescriptor(target, property, decorators, descriptor, context) {\n  var desc = {};\n  Object['ke' + 'ys'](descriptor).forEach(function (key) {\n    desc[key] = descriptor[key];\n  });\n  desc.enumerable = !!desc.enumerable;\n  desc.configurable = !!desc.configurable;\n\n  if ('value' in desc || desc.initializer) {\n    desc.writable = true;\n  }\n\n  desc = decorators.slice().reverse().reduce(function (desc, decorator) {\n    return decorator(target, property, desc) || desc;\n  }, desc);\n\n  if (context && desc.initializer !== void 0) {\n    desc.value = desc.initializer ? desc.initializer.call(context) : void 0;\n    desc.initializer = undefined;\n  }\n\n  if (desc.initializer === void 0) {\n    Object['define' + 'Property'](target, property, desc);\n    desc = null;\n  }\n\n  return desc;\n}\n\n/* global d3 */\n\nvar Frame = (_dec = (0, _data.requires)('canvas'), (_class = function (_Composite) {\n  _inherits(Frame, _Composite);\n\n  function Frame(_ref) {\n    var _ref$verbose = _ref.verbose,\n        verbose = _ref$verbose === undefined ? false : _ref$verbose,\n        appendTo = _ref.appendTo,\n        callbackHandler = _ref.callbackHandler;\n\n    _classCallCheck(this, Frame);\n\n    var _this = _possibleConstructorReturn(this, (Frame.__proto__ || Object.getPrototypeOf(Frame)).call(this, { verbose: verbose, appendTo: appendTo, callbackHandler: callbackHandler }));\n\n    _this.canvas = new _canvas2.default(_this.options);\n    _this.menu = new _menuMain2.default(_this.options);\n    _this.messages = new _message2.default(_this.options);\n    _this.add(_this.messages).add(_this.menu).add(_this.canvas);\n    return _this;\n  }\n\n  _createClass(Frame, [{\n    key: 'render',\n    value: function render() {\n      var parent = d3.select(this.options.appendTo);\n\n      var frameId = 'Frame-' + this.data.canvas.id;\n      this.element = d3.select('div#' + frameId);\n      // check if the canvas is already present\n      if (!this.element.node()) {\n        // create a svg element detached from the DOM!\n        this.logger.debug('Creating Frame [' + frameId + ']...');\n        this.element = parent.append('div').attr('class', 'francy').attr('id', frameId);\n      }\n\n      // cannot continue if canvas is not present\n      if (!this.element.node()) {\n        throw new Error('Oops, could not create frame with id [' + frameId + ']... Cannot proceed.');\n      }\n\n      this.logger.debug('Frame updated [' + frameId + ']...');\n\n      this.renderChildren();\n\n      return this;\n    }\n  }, {\n    key: 'unrender',\n    value: function unrender() {}\n  }]);\n\n  return Frame;\n}(_composite2.default), (_applyDecoratedDescriptor(_class.prototype, 'render', [_dec], Object.getOwnPropertyDescriptor(_class.prototype, 'render'), _class.prototype)), _class));\nexports.default = Frame;\n\n},{\"../decorator/data\":2,\"./canvas\":6,\"./composite\":11,\"./menu-main\":17,\"./message\":19}],13:[function(require,module,exports){\n'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = undefined;\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nvar _renderer = require('./renderer');\n\nvar _renderer2 = _interopRequireDefault(_renderer);\n\nvar _graph = require('./graph');\n\nvar _graph2 = _interopRequireDefault(_graph);\n\nvar _component = require('../util/component');\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\n/* global d3 */\n\nvar GenericGraph = function (_Renderer) {\n  _inherits(GenericGraph, _Renderer);\n\n  function GenericGraph(_ref) {\n    var _ref$verbose = _ref.verbose,\n        verbose = _ref$verbose === undefined ? false : _ref$verbose,\n        appendTo = _ref.appendTo,\n        callbackHandler = _ref.callbackHandler;\n\n    _classCallCheck(this, GenericGraph);\n\n    return _possibleConstructorReturn(this, (GenericGraph.__proto__ || Object.getPrototypeOf(GenericGraph)).call(this, { verbose: verbose, appendTo: appendTo, callbackHandler: callbackHandler }));\n  }\n\n  _createClass(GenericGraph, [{\n    key: 'render',\n    value: function render() {\n\n      var parent = this.options.appendTo.element;\n\n      var simulationActive = this.data.canvas.graph.simulation;\n\n      var canvasNodes = this.data.canvas.graph.nodes ? Object.values(this.data.canvas.graph.nodes) : [],\n          canvasLinks = this.data.canvas.graph.links ? Object.values(this.data.canvas.graph.links) : [];\n\n      this.element = parent.select('g.francy-content');\n\n      var width = +parent.attr('width') || d3.select('body').node().getBoundingClientRect().width,\n          height = +parent.attr('height') || d3.select('body').node().getBoundingClientRect().height;\n\n      var linkGroup = this.element.selectAll('g.francy-links');\n\n      if (!linkGroup.node()) {\n        linkGroup = this.element.append('g').attr('class', 'francy-links');\n      }\n\n      var links = linkGroup.selectAll('g.francy-link').data();\n      var linksToAdd = [];\n      canvasLinks.forEach(function (l) {\n        var link = links.find(function (d) {\n          return d.id === l.id;\n        });\n        if (link) {\n          linksToAdd.push(link);\n        } else {\n          linksToAdd.push(l);\n        }\n      });\n\n      var link = linkGroup.selectAll('g.francy-link').data(linksToAdd, function (d) {\n        return d.id;\n      });\n\n      var nodeGroup = this.element.selectAll('g.francy-nodes');\n\n      if (!nodeGroup.node()) {\n        nodeGroup = this.element.append('g').attr('class', 'francy-nodes');\n      }\n\n      var nodes = nodeGroup.selectAll('g.francy-node').data();\n      var nodesToAdd = [];\n      canvasNodes.forEach(function (n) {\n        var node = nodes.find(function (d) {\n          return d.id === n.id;\n        });\n        if (node) {\n          nodesToAdd.push(node);\n        } else {\n          nodesToAdd.push(n);\n        }\n      });\n\n      var node = nodeGroup.selectAll('g.francy-node').data(nodesToAdd, function (d) {\n        return d.id;\n      });\n\n      if (node.exit().data().length === 0 && node.enter().data().length === 0 && link.enter().data().length === 0 && link.exit().data().length === 0) {\n        return;\n      }\n\n      var linkEnter = link.enter().append('g').attr('class', 'francy-link');\n\n      linkEnter.append('line').attr('class', 'francy-edge');\n\n      link.exit().remove();\n\n      link = linkGroup.selectAll('g.francy-link line.francy-edge');\n\n      if (this.data.canvas.graph.type === 'directed') {\n        // this means we need arrows, so we append the marker\n        parent.append('defs').selectAll('marker').data(['arrow']).enter().append('marker').attr('class', 'francy-arrows').attr('id', function (d) {\n          return d;\n        }).attr('viewBox', '0 -5 10 10').attr('refX', 25).attr('refY', 0).attr('markerWidth', 10).attr('markerHeight', 10).attr('orient', 'auto').append('path').attr('d', 'M0,-5L10,0L0,5 L10,0 L0, -5');\n        // update the style of the link\n        link.style('marker-end', 'url(#arrow)');\n      }\n\n      var nodeEnter = node.enter().append('g').attr('class', 'francy-node').attr('id', function (d) {\n        return d.id;\n      });\n\n      nodeEnter.append('path').attr('d', d3.symbol().type(function (d) {\n        return _graph2.default.getSymbol(d.type);\n      }).size(function (d) {\n        return d.size * 100;\n      })).style('fill', function (d) {\n        return _graph2.default.colors(d.layer * 5);\n      }).attr('class', function (d) {\n        return 'francy-symbol' + (d.highlight ? ' francy-highlight' : '') + (Object.values(d.menus).length ? ' francy-context' : '');\n      });\n\n      nodeEnter.append('text').attr('class', 'francy-label').attr('x', function (d) {\n        return -(d.title.length * 2.5);\n      }).text(function (d) {\n        return d.title;\n      });\n\n      node.exit().remove();\n\n      node = nodeGroup.selectAll('g.francy-node');\n\n      if (this.data.canvas.graph.drag) {\n        node.call(d3.drag().on('start', dragstarted).on('drag', dragged).on('end', dragended));\n      }\n\n      if (node && !node.empty()) {\n\n        _graph2.default.applyEvents(node, this.options);\n\n        if (this.data.canvas.graph.showNeighbours) {\n          var nodeOnClick = node.on('click');\n          node.on('click', function (d) {\n            // default, highlight connected nodes\n            connectedNodes.call(this);\n            // any callbacks will be handled here\n            nodeOnClick.call(this, d);\n          });\n        }\n      }\n\n      if (simulationActive) {\n        // Canvas Forces\n        var centerForce = d3.forceCenter().x(width / 2).y(height / 2);\n        var manyForce = d3.forceManyBody().strength(-canvasNodes.length * 50);\n        var linkForce = d3.forceLink(canvasLinks).id(function (d) {\n          return d.id;\n        }).distance(50);\n        var collideForce = d3.forceCollide(function (d) {\n          return d.size * 2;\n        });\n\n        //Generic gravity for the X position\n        var forceX = d3.forceX(width / 2).strength(0.05);\n\n        //Generic gravity for the Y position - undirected/directed graphs fall here\n        var forceY = d3.forceY(height / 2).strength(0.25);\n\n        if (this.data.canvas.graph.type === 'hasse') {\n          //Generic gravity for the X position\n          forceX = d3.forceX(width / 2).strength(0.3);\n          //Strong y positioning based on layer to simulate the hasse diagram\n          forceY = d3.forceY(function (d) {\n            return d.layer * 75;\n          }).strength(0.7);\n        }\n\n        var simulation = d3.forceSimulation().nodes(nodesToAdd).force(\"charge\", manyForce).force(\"link\", linkForce).force(\"center\", centerForce).force(\"x\", forceX).force(\"y\", forceY).force(\"collide\", collideForce).on('tick', ticked).on(\"end\", function () {\n          // zoom to fit when simulation is over\n          parent.zoomToFit();\n        });\n\n        //force simulation restart\n        simulation.alpha(0.5).restart();\n      } else {\n        // well, simulation is off, apply fixed positions and zoom to fit now\n        ticked();\n        parent.zoomToFit();\n      }\n\n      function ticked() {\n        link.attr('x1', function (d) {\n          return d.source.x;\n        }).attr('y1', function (d) {\n          return d.source.y;\n        }).attr('x2', function (d) {\n          return d.target.x;\n        }).attr('y2', function (d) {\n          return d.target.y;\n        });\n\n        node.attr('transform', function (d) {\n          return 'translate(' + d.x + ',' + d.y + ')';\n        });\n      }\n\n      // HIGHLIGHT\n      //Toggle stores whether the highlighting is on\n      var toggle = 0;\n      //Create an array logging what is connected to what\n      var linkedByIndex = {};\n\n      for (var i = 0; i < canvasNodes.length; i++) {\n        linkedByIndex[i + ',' + i] = 1;\n      }\n\n      canvasLinks.forEach(function (d) {\n        linkedByIndex[d.source.index + ',' + d.target.index] = 1;\n      });\n\n      function connectedNodes() {\n        //This function looks up whether a pair are neighbours\n        function neighboring(a, b) {\n          return linkedByIndex[a.index + ',' + b.index];\n        }\n        d3.event.preventDefault();\n        if (toggle === 0) {\n          //Reduce the opacity of all but the neighbouring nodes\n          var d = d3.select(this).node().__data__;\n          node.style('opacity', function (o) {\n            return neighboring(d, o) || neighboring(o, d) ? 1 : 0.1;\n          });\n          link.style('opacity', function (o) {\n            return d.index === o.source.index || d.index === o.target.index ? 1 : 0.1;\n          });\n          //Reduce the op\n          toggle = 1;\n        } else {\n          //Put them back to opacity=1\n          node.style('opacity', 1);\n          link.style('opacity', 1);\n          toggle = 0;\n        }\n      }\n\n      function dragstarted(d) {\n        if (!d3.event.active && simulationActive) {\n          simulation.alphaTarget(0.01).restart();\n        }\n        d.fx = d.x;\n        d.fy = d.y;\n      }\n\n      function dragged(d) {\n        d.fx = d3.event.x;\n        d.fy = d3.event.y;\n      }\n\n      function dragended(d) {\n        if (!d3.event.active && simulationActive) {\n          simulation.alphaTarget(0);\n        }\n        d.fx = null;\n        d.fy = null;\n      }\n\n      (0, _component.RegisterMathJax)(this.SVGParent);\n\n      return this;\n    }\n  }, {\n    key: 'unrender',\n    value: function unrender() {}\n  }]);\n\n  return GenericGraph;\n}(_renderer2.default);\n\nexports.default = GenericGraph;\n\n},{\"../util/component\":24,\"./graph\":15,\"./renderer\":22}],14:[function(require,module,exports){\n'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = undefined;\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nvar _renderer = require('./renderer');\n\nvar _renderer2 = _interopRequireDefault(_renderer);\n\nvar _graph = require('./graph');\n\nvar _graph2 = _interopRequireDefault(_graph);\n\nvar _component = require('../util/component');\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\n/* global d3 */\n\nvar TreeGraph = function (_Renderer) {\n  _inherits(TreeGraph, _Renderer);\n\n  function TreeGraph(_ref) {\n    var _ref$verbose = _ref.verbose,\n        verbose = _ref$verbose === undefined ? false : _ref$verbose,\n        appendTo = _ref.appendTo,\n        callbackHandler = _ref.callbackHandler;\n\n    _classCallCheck(this, TreeGraph);\n\n    return _possibleConstructorReturn(this, (TreeGraph.__proto__ || Object.getPrototypeOf(TreeGraph)).call(this, { verbose: verbose, appendTo: appendTo, callbackHandler: callbackHandler }));\n  }\n\n  _createClass(TreeGraph, [{\n    key: 'render',\n    value: function render() {\n\n      var parent = this.options.appendTo.element;\n\n      this.element = parent.select('g.francy-content');\n\n      var width = +parent.attr('width') || d3.select('body').node().getBoundingClientRect().width,\n          height = +parent.attr('height') || d3.select('body').node().getBoundingClientRect().height;\n\n      var i = 0,\n          root = void 0;\n\n      root = d3.hierarchy(this.treeData, function (d) {\n        return d.children;\n      });\n      root.x0 = height / 2;\n      root.y0 = 0;\n\n      // compute height based on the depth of the graph\n      var levelWidth = [1];\n      var childCount = function childCount(level, n) {\n\n        if (n.children && n.children.length > 0) {\n          if (levelWidth.length <= level + 1) levelWidth.push(0);\n\n          levelWidth[level + 1] += n.children.length;\n          n.children.forEach(function (d) {\n            childCount(level + 1, d);\n          });\n        }\n      };\n      childCount(0, root);\n      var newHeight = d3.max(levelWidth) * 100;\n\n      var treemap = d3.tree().size([newHeight, width]);\n\n      if (this.data.canvas.graph.collapsed) {\n        root.children.forEach(collapse);\n      }\n\n      update.call(this, root);\n\n      function collapse(d) {\n        if (d.children) {\n          d._children = d.children;\n          d._children.forEach(collapse);\n          d.children = null;\n        }\n      }\n\n      function update(source) {\n        var _this2 = this;\n\n        var treeData = treemap(root);\n\n        var nodes = treeData.descendants(),\n            links = treeData.descendants().slice(1);\n\n        nodes.forEach(function (d) {\n          return d.y = d.depth * 180;\n        });\n\n        var linkGroup = this.element.selectAll('g.francy-links');\n\n        if (!linkGroup.node()) {\n          linkGroup = this.element.append('g').attr('class', 'francy-links');\n        }\n\n        var link = linkGroup.selectAll('path.francy-edge').data(links, function (d) {\n          return d.id || (d.id = ++i);\n        });\n\n        var linkEnter = link.enter().append('path').attr('class', 'francy-edge').attr('d', function () {\n          var o = { x: source.x0, y: source.y0 };\n          return diagonal(o, o);\n        });\n\n        linkEnter.merge(link).transition().duration(this.transitionDuration).attr('d', function (d) {\n          return diagonal(d, d.parent);\n        });\n\n        link.exit().transition().duration(this.transitionDuration).attr('d', function () {\n          var o = { x: source.x, y: source.y };\n          return diagonal(o, o);\n        }).remove();\n\n        linkGroup.selectAll('path.francy-edge').style('fill', 'none').style('stroke', '#ccc').style('stroke-width', '1px');\n\n        nodes.forEach(function (d) {\n          d.x0 = d.x;\n          d.y0 = d.y;\n        });\n\n        function diagonal(s, d) {\n          return 'M ' + s.y + ' ' + s.x + '\\n            C ' + (s.y + d.y) / 2 + ' ' + s.x + ',\\n              ' + (s.y + d.y) / 2 + ' ' + d.x + ',\\n              ' + d.y + ' ' + d.x;\n        }\n\n        var nodeGroup = this.element.selectAll('g.francy-nodes');\n\n        if (!nodeGroup.node()) {\n          nodeGroup = this.element.append('g').attr('class', 'francy-nodes');\n        }\n\n        var node = nodeGroup.selectAll('g.francy-node').data(nodes, function (d) {\n          return d.id || (d.id = ++i);\n        });\n\n        var nodeEnter = node.enter().append('g').attr('class', 'francy-node').attr('transform', function () {\n          return 'translate(' + source.y0 + ',' + source.x0 + ')';\n        });\n\n        nodeEnter.append('path').attr('d', d3.symbol().type(function (d) {\n          return _graph2.default.getSymbol(d.data.type);\n        }).size(function (d) {\n          return d.data.size * 100;\n        })).attr('class', 'francy-symbol');\n\n        nodeEnter.append('text').attr('class', 'francy-label').attr('x', function (d) {\n          return -(d.data.title.length * 2.5);\n        }).style('cursor', function (d) {\n          return d.children || d._children ? 'pointer' : 'default';\n        }).text(function (d) {\n          return d.data.title;\n        });\n\n        var nodeUpdate = nodeEnter.merge(node);\n\n        nodeUpdate.transition().duration(this.transitionDuration).attr('transform', function (d) {\n          return 'translate(' + d.y + ',' + d.x + ')';\n        });\n\n        node.exit().transition().duration(this.transitionDuration).attr('transform', function () {\n          return 'translate(' + source.y + ',' + source.x + ')';\n        }).remove();\n\n        nodeGroup.selectAll('path.francy-symbol').style('fill', function (d) {\n          return d.children || d._children ? 'lightsteelblue' : _graph2.default.colors(d.data.layer * 5);\n        }).style('cursor', function (d) {\n          return d.children || d._children ? 'pointer' : 'default';\n        });\n\n        node = nodeGroup.selectAll('g.francy-node');\n        _graph2.default.applyEvents(node, this.options);\n\n        var nodeOnClick = node.on('click');\n        node.on('click', function (d) {\n          // any callbacks will be handled here\n          nodeOnClick.call(_this2, d.data);\n          // default, highlight connected nodes\n          click.call(_this2, d);\n        });\n\n        // Toggle children on click.\n        var self = this;\n\n        function click(d) {\n          if (d.children) {\n            d._children = d.children;\n            d.children = null;\n          } else {\n            d.children = d._children;\n            d._children = null;\n          }\n          update.call(self, d);\n        }\n\n        (0, _component.RegisterMathJax)(this.SVGParent);\n\n        setTimeout(function () {\n          parent.zoomToFit();\n        }, this.transitionDuration);\n      }\n\n      return this;\n    }\n  }, {\n    key: 'unrender',\n    value: function unrender() {}\n\n    /**\r\n     * Transforms flat data into tree data by analysing the parents of each node\r\n     * @returns {Object} the data transformed in tree data\r\n     */\n\n  }, {\n    key: 'treeData',\n    get: function get() {\n      var canvasNodes = this.data.canvas.graph.nodes ? Object.values(this.data.canvas.graph.nodes) : [];\n      var dataMap = canvasNodes.reduce(function (map, node) {\n        map[node.id] = node;\n        return map;\n      }, {});\n      var treeData = [];\n      canvasNodes.forEach(function (node) {\n        var parent = dataMap[node.parent];\n        if (parent) {\n          (parent.children || (parent.children = [])).push(node);\n        } else {\n          treeData.push(node);\n        }\n      });\n      return treeData[0];\n    }\n  }]);\n\n  return TreeGraph;\n}(_renderer2.default);\n\nexports.default = TreeGraph;\n\n},{\"../util/component\":24,\"./graph\":15,\"./renderer\":22}],15:[function(require,module,exports){\n'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = undefined;\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nvar _dec, _desc, _value, _class;\n\nvar _renderer = require('./renderer');\n\nvar _renderer2 = _interopRequireDefault(_renderer);\n\nvar _graphTree = require('./graph-tree');\n\nvar _graphTree2 = _interopRequireDefault(_graphTree);\n\nvar _graphGeneric = require('./graph-generic');\n\nvar _graphGeneric2 = _interopRequireDefault(_graphGeneric);\n\nvar _menuContext = require('./menu-context');\n\nvar _menuContext2 = _interopRequireDefault(_menuContext);\n\nvar _tooltip = require('./tooltip');\n\nvar _tooltip2 = _interopRequireDefault(_tooltip);\n\nvar _callback = require('./callback');\n\nvar _callback2 = _interopRequireDefault(_callback);\n\nvar _data = require('../decorator/data');\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\nfunction _applyDecoratedDescriptor(target, property, decorators, descriptor, context) {\n  var desc = {};\n  Object['ke' + 'ys'](descriptor).forEach(function (key) {\n    desc[key] = descriptor[key];\n  });\n  desc.enumerable = !!desc.enumerable;\n  desc.configurable = !!desc.configurable;\n\n  if ('value' in desc || desc.initializer) {\n    desc.writable = true;\n  }\n\n  desc = decorators.slice().reverse().reduce(function (desc, decorator) {\n    return decorator(target, property, desc) || desc;\n  }, desc);\n\n  if (context && desc.initializer !== void 0) {\n    desc.value = desc.initializer ? desc.initializer.call(context) : void 0;\n    desc.initializer = undefined;\n  }\n\n  if (desc.initializer === void 0) {\n    Object['define' + 'Property'](target, property, desc);\n    desc = null;\n  }\n\n  return desc;\n}\n\n/* global d3 */\n\nvar Graph = (_dec = (0, _data.requires)('canvas.graph'), (_class = function (_Renderer) {\n  _inherits(Graph, _Renderer);\n\n  function Graph(_ref) {\n    var _ref$verbose = _ref.verbose,\n        verbose = _ref$verbose === undefined ? false : _ref$verbose,\n        appendTo = _ref.appendTo,\n        callbackHandler = _ref.callbackHandler;\n\n    _classCallCheck(this, Graph);\n\n    return _possibleConstructorReturn(this, (Graph.__proto__ || Object.getPrototypeOf(Graph)).call(this, { verbose: verbose, appendTo: appendTo, callbackHandler: callbackHandler }));\n  }\n\n  _createClass(Graph, [{\n    key: 'render',\n    value: function render() {\n\n      var element = undefined;\n      switch (this.data.canvas.graph.type) {\n        case 'tree':\n          element = new _graphTree2.default(this.options).load(this.data).render();\n          break;\n        default:\n          element = new _graphGeneric2.default(this.options).load(this.data).render();\n      }\n\n      return element;\n    }\n  }, {\n    key: 'unrender',\n    value: function unrender() {}\n  }], [{\n    key: 'applyEvents',\n    value: function applyEvents(element, options) {\n      if (!element) return;\n\n      var tooltip = new _tooltip2.default(options);\n      var contextMenu = new _menuContext2.default(options);\n      var callback = new _callback2.default(options);\n\n      element.on('contextmenu', function (d) {\n        d = d.data || d;\n        // default, build context menu\n        contextMenu.load(d, true).render();\n        // any callbacks will be handled here\n        executeCallback.call(this, d, 'contextmenu');\n      }).on('click', function (d) {\n        d = d.data || d;\n        // any callbacks will be handled here\n        executeCallback.call(this, d, 'click');\n      }).on('dblclick', function (d) {\n        d = d.data || d;\n        // any callbacks will be handled here\n        executeCallback.call(this, d, 'dblclick');\n      }).on('mouseenter', function (d) {\n        d = d.data || d;\n        // default, show tooltip\n        tooltip.load(d.messages, true).render();\n      }).on('mouseleave', function () {\n        // default, hide tooltip\n        tooltip.unrender();\n      });\n\n      function executeCallback(data, event) {\n        if (data.callbacks) {\n          Object.values(data.callbacks).forEach(function (cb) {\n            // execute the ones that match the event!\n            cb.trigger === event && callback.load({ callback: cb }, true).execute();\n          });\n        }\n      }\n    }\n  }, {\n    key: 'getSymbol',\n    value: function getSymbol(type) {\n      if (type === 'circle') {\n        return d3.symbolCircle;\n      } else if (type === 'cross') {\n        return d3.symbolCross;\n      } else if (type === 'diamond') {\n        return d3.symbolDiamond;\n      } else if (type === 'square') {\n        return d3.symbolSquare;\n      } else if (type === 'triangle') {\n        return d3.symbolTriangle;\n      } else if (type === 'star') {\n        return d3.symbolStar;\n      } else if (type === 'wye') {\n        return d3.symbolWye;\n      } else {\n        return d3.symbolCircle;\n      }\n    }\n  }, {\n    key: 'colors',\n    get: function get() {\n      return d3.scaleSequential().domain([0, 100]).interpolator(d3.interpolateRainbow);\n    }\n  }]);\n\n  return Graph;\n}(_renderer2.default), (_applyDecoratedDescriptor(_class.prototype, 'render', [_dec], Object.getOwnPropertyDescriptor(_class.prototype, 'render'), _class.prototype)), _class));\nexports.default = Graph;\n\n},{\"../decorator/data\":2,\"./callback\":5,\"./graph-generic\":13,\"./graph-tree\":14,\"./menu-context\":16,\"./renderer\":22,\"./tooltip\":23}],16:[function(require,module,exports){\n'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\nexports.default = undefined;\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nvar _dec, _desc, _value, _class;\n\nvar _menu = require('./menu');\n\nvar _menu2 = _interopRequireDefault(_menu);\n\nvar _data = require('../decorator/data');\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\nfunction _applyDecoratedDescriptor(target, property, decorators, descriptor, context) {\n    var desc = {};\n    Object['ke' + 'ys'](descriptor).forEach(function (key) {\n        desc[key] = descriptor[key];\n    });\n    desc.enumerable = !!desc.enumerable;\n    desc.configurable = !!desc.configurable;\n\n    if ('value' in desc || desc.initializer) {\n        desc.writable = true;\n    }\n\n    desc = decorators.slice().reverse().reduce(function (desc, decorator) {\n        return decorator(target, property, desc) || desc;\n    }, desc);\n\n    if (context && desc.initializer !== void 0) {\n        desc.value = desc.initializer ? desc.initializer.call(context) : void 0;\n        desc.initializer = undefined;\n    }\n\n    if (desc.initializer === void 0) {\n        Object['define' + 'Property'](target, property, desc);\n        desc = null;\n    }\n\n    return desc;\n}\n\n/* global d3 */\n\nvar ContextMenu = (_dec = (0, _data.requires)('menus'), (_class = function (_Menu) {\n    _inherits(ContextMenu, _Menu);\n\n    function ContextMenu(_ref) {\n        var _ref$verbose = _ref.verbose,\n            verbose = _ref$verbose === undefined ? false : _ref$verbose,\n            appendTo = _ref.appendTo,\n            callbackHandler = _ref.callbackHandler;\n\n        _classCallCheck(this, ContextMenu);\n\n        return _possibleConstructorReturn(this, (ContextMenu.__proto__ || Object.getPrototypeOf(ContextMenu)).call(this, { verbose: verbose, appendTo: appendTo, callbackHandler: callbackHandler }));\n    }\n\n    _createClass(ContextMenu, [{\n        key: 'render',\n        value: function render() {\n            var _this2 = this;\n\n            d3.event.preventDefault();\n\n            this.element = this.HTMLParent.select('div.francy-context-menu-holder');\n            // check if the window is already present\n            if (!this.element.node()) {\n                this.element = this.HTMLParent.append('div').attr('class', 'francy-context-menu-holder');\n            }\n\n            var pos = d3.mouse(this.SVGParent.node());\n\n            this.element.style('left', pos[0] + 5 + 'px').style('top', pos[1] + 5 + 'px');\n\n            // show the context menu\n            this.element.style('display', 'block');\n\n            // check if it exists already\n            if (this.element.selectAll('*').node()) {\n                return;\n            }\n\n            // destroy menu\n            d3.select('body').on('click.francy-context-menu', function () {\n                return _this2.unrender();\n            });\n\n            // this gets executed when a contextmenu event occurs\n            var menu = this.element.append('div').attr('class', 'francy-context-menu').append('ul');\n            var menusIterator = this.iterator(Object.values(this.data.menus));\n            this.traverse(menu, menusIterator);\n\n            return this;\n        }\n    }, {\n        key: 'unrender',\n        value: function unrender() {\n            if (this.element) {\n                this.element.selectAll('*').remove();\n                this.element.style('display', null);\n            }\n        }\n    }]);\n\n    return ContextMenu;\n}(_menu2.default), (_applyDecoratedDescriptor(_class.prototype, 'render', [_dec], Object.getOwnPropertyDescriptor(_class.prototype, 'render'), _class.prototype)), _class));\nexports.default = ContextMenu;\n\n},{\"../decorator/data\":2,\"./menu\":18}],17:[function(require,module,exports){\n'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\nexports.default = undefined;\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nvar _menu = require('./menu');\n\nvar _menu2 = _interopRequireDefault(_menu);\n\nvar _modalAbout = require('./modal-about');\n\nvar _modalAbout2 = _interopRequireDefault(_modalAbout);\n\nvar _saveSvgAsPng = require('../../node_modules/save-svg-as-png/saveSvgAsPng');\n\nvar SvgToPng = _interopRequireWildcard(_saveSvgAsPng);\n\nfunction _interopRequireWildcard(obj) { if (obj && obj.__esModule) { return obj; } else { var newObj = {}; if (obj != null) { for (var key in obj) { if (Object.prototype.hasOwnProperty.call(obj, key)) newObj[key] = obj[key]; } } newObj.default = obj; return newObj; } }\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\n/* global d3 window */\n\nvar MainMenu = function (_Menu) {\n    _inherits(MainMenu, _Menu);\n\n    function MainMenu(_ref) {\n        var _ref$verbose = _ref.verbose,\n            verbose = _ref$verbose === undefined ? false : _ref$verbose,\n            appendTo = _ref.appendTo,\n            callbackHandler = _ref.callbackHandler;\n\n        _classCallCheck(this, MainMenu);\n\n        return _possibleConstructorReturn(this, (MainMenu.__proto__ || Object.getPrototypeOf(MainMenu)).call(this, { verbose: verbose, appendTo: appendTo, callbackHandler: callbackHandler }));\n    }\n\n    _createClass(MainMenu, [{\n        key: 'render',\n        value: function render() {\n            var _this2 = this;\n\n            var parent = this.options.appendTo.element;\n\n            var aboutModal = new _modalAbout2.default(this.options);\n\n            // Otherwise clashes with the canvas itself!\n            var menuId = 'MainMenu-' + this.data.canvas.id;\n            this.element = d3.select('#' + menuId);\n\n            // Check if the menu is already present\n            if (!this.element.node()) {\n                // create a div element detached from the DOM!\n                this.logger.debug('Creating Main Menu [' + menuId + ']...');\n                this.element = parent.append('div').attr('class', 'francy-main-menu-holder').attr('id', menuId);\n            }\n\n            // Force rebuild menu again\n            this.element.selectAll('*').remove();\n\n            this.element = this.element.append('ul').attr('class', 'francy-main-menu');\n\n            if (this.data.canvas.title) {\n                this.element.append('li').attr('class', 'francy-title').append('a').html(this.data.canvas.title);\n            }\n\n            var entry = this.element.append('li');\n            entry.append('a').html('Francy');\n            var content = entry.append('ul');\n            content.append('li').append('a').on('click', function () {\n                return _this2.options.appendTo.canvas.zoomToFit();\n            }).attr('title', 'Zoom to Fit').html('Zoom to Fit');\n            content.append('li').append('a').on('click', function () {\n                return SvgToPng.saveSvgAsPng(_this2.SVGParent.node(), \"diagram.png\");\n            }).attr('title', 'Save to PNG').html('Save to PNG');\n            content.append('li').append('a').on('click', function () {\n                return aboutModal.load(_this2.data).render();\n            }).attr('title', 'About').html('About');\n\n            // Traverse all menus and flatten them!\n            var menusIterator = this.iterator(Object.values(this.data.canvas.menus));\n            this.traverse(this.element, menusIterator);\n\n            this.logger.debug('Main Menu updated [' + menuId + ']...');\n\n            return this;\n        }\n    }, {\n        key: 'unrender',\n        value: function unrender() {}\n    }]);\n\n    return MainMenu;\n}(_menu2.default);\n\nexports.default = MainMenu;\n\n},{\"../../node_modules/save-svg-as-png/saveSvgAsPng\":1,\"./menu\":18,\"./modal-about\":20}],18:[function(require,module,exports){\n'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = undefined;\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nvar _renderer = require('./renderer');\n\nvar _renderer2 = _interopRequireDefault(_renderer);\n\nvar _callback = require('./callback');\n\nvar _callback2 = _interopRequireDefault(_callback);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\nvar Menu = function (_Renderer) {\n  _inherits(Menu, _Renderer);\n\n  function Menu(_ref) {\n    var _ref$verbose = _ref.verbose,\n        verbose = _ref$verbose === undefined ? false : _ref$verbose,\n        appendTo = _ref.appendTo,\n        callbackHandler = _ref.callbackHandler;\n\n    _classCallCheck(this, Menu);\n\n    return _possibleConstructorReturn(this, (Menu.__proto__ || Object.getPrototypeOf(Menu)).call(this, { verbose: verbose, appendTo: appendTo, callbackHandler: callbackHandler }));\n  }\n\n  _createClass(Menu, [{\n    key: 'traverse',\n    value: function traverse(appendTo, menusIterator) {\n      var _this2 = this;\n\n      while (menusIterator.hasNext()) {\n        var menuItem = menusIterator.next();\n        var entry = appendTo.append('li');\n        var action = entry.selectAll('a').data([menuItem]).enter().append('a').attr('title', menuItem.title).html(menuItem.title);\n        if (menuItem.callback && Object.values(menuItem.callback).length) {\n          action.on('click', function (d) {\n            return new _callback2.default(_this2.options).load(d, true).execute();\n          });\n        }\n        if (menuItem.menus && Object.values(menuItem.menus).length > 0) {\n          var content = entry.append('ul');\n          var subMenusIterator = this.iterator(Object.values(menuItem.menus));\n          this.traverse(content, subMenusIterator);\n        }\n      }\n    }\n  }, {\n    key: 'iterator',\n    value: function iterator(array) {\n      var nextIndex = 0;\n      return {\n        next: function next() {\n          return this.hasNext() ? array[nextIndex++] : undefined;\n        },\n        hasNext: function hasNext() {\n          return nextIndex < array.length;\n        }\n      };\n    }\n  }, {\n    key: 'unrender',\n    value: function unrender() {}\n  }]);\n\n  return Menu;\n}(_renderer2.default);\n\nexports.default = Menu;\n\n},{\"./callback\":5,\"./renderer\":22}],19:[function(require,module,exports){\n'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = undefined;\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nvar _dec, _desc, _value, _class;\n\nvar _renderer = require('./renderer');\n\nvar _renderer2 = _interopRequireDefault(_renderer);\n\nvar _data = require('../decorator/data');\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\nfunction _applyDecoratedDescriptor(target, property, decorators, descriptor, context) {\n  var desc = {};\n  Object['ke' + 'ys'](descriptor).forEach(function (key) {\n    desc[key] = descriptor[key];\n  });\n  desc.enumerable = !!desc.enumerable;\n  desc.configurable = !!desc.configurable;\n\n  if ('value' in desc || desc.initializer) {\n    desc.writable = true;\n  }\n\n  desc = decorators.slice().reverse().reduce(function (desc, decorator) {\n    return decorator(target, property, desc) || desc;\n  }, desc);\n\n  if (context && desc.initializer !== void 0) {\n    desc.value = desc.initializer ? desc.initializer.call(context) : void 0;\n    desc.initializer = undefined;\n  }\n\n  if (desc.initializer === void 0) {\n    Object['define' + 'Property'](target, property, desc);\n    desc = null;\n  }\n\n  return desc;\n}\n\n/* global d3 */\n\nvar Message = (_dec = (0, _data.requires)('canvas.messages'), (_class = function (_Renderer) {\n  _inherits(Message, _Renderer);\n\n  function Message(_ref) {\n    var _ref$verbose = _ref.verbose,\n        verbose = _ref$verbose === undefined ? false : _ref$verbose,\n        appendTo = _ref.appendTo,\n        callbackHandler = _ref.callbackHandler;\n\n    _classCallCheck(this, Message);\n\n    return _possibleConstructorReturn(this, (Message.__proto__ || Object.getPrototypeOf(Message)).call(this, { verbose: verbose, appendTo: appendTo, callbackHandler: callbackHandler }));\n  }\n\n  _createClass(Message, [{\n    key: 'render',\n    value: function render() {\n      var _this2 = this;\n\n      var parent = this.options.appendTo.element;\n\n      var messages = Object.keys(this.data.canvas.messages).map(function (key) {\n        return {\n          id: key,\n          type: _this2.data.canvas.messages[key].type,\n          title: _this2.data.canvas.messages[key].title,\n          text: _this2.data.canvas.messages[key].text\n        };\n      });\n\n      var alertsId = 'Messages-' + this.data.canvas.id;\n      this.element = d3.select('#' + alertsId);\n      // check if the div is already present\n      if (!this.element.node()) {\n        this.element = parent.append('div').attr('class', 'francy-message-holder').attr('id', alertsId);\n      }\n\n      var message = this.element.selectAll('div.francy-alert').data(messages, function (d) {\n        return d.id;\n      });\n      var messageEnter = message.enter().append('div').attr('id', function (d) {\n        return d.id;\n      }).attr('class', function (d) {\n        return 'francy-alert alert-' + d.type;\n      }).on('click', function () {\n        d3.select(this).style('display', 'none');\n      });\n      messageEnter.append('span').attr('class', 'strong').text(function (d) {\n        return d.title;\n      });\n      messageEnter.append('span').text(function (d) {\n        return d.text;\n      });\n      messageEnter.append('span').attr('class', 'strong').style('display', 'none').text(\"x\");\n\n      messageEnter.merge(message);\n\n      message.exit().remove();\n\n      this.element.style('display', 'block');\n\n      return this;\n    }\n  }, {\n    key: 'unrender',\n    value: function unrender() {}\n  }]);\n\n  return Message;\n}(_renderer2.default), (_applyDecoratedDescriptor(_class.prototype, 'render', [_dec], Object.getOwnPropertyDescriptor(_class.prototype, 'render'), _class.prototype)), _class));\nexports.default = Message;\n\n},{\"../decorator/data\":2,\"./renderer\":22}],20:[function(require,module,exports){\n'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = undefined;\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nvar _renderer = require('./renderer');\n\nvar _renderer2 = _interopRequireDefault(_renderer);\n\nvar _component = require('../util/component');\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\n/* global d3 */\n\nvar AboutModal = function (_Renderer) {\n  _inherits(AboutModal, _Renderer);\n\n  function AboutModal(_ref) {\n    var _ref$verbose = _ref.verbose,\n        verbose = _ref$verbose === undefined ? false : _ref$verbose,\n        appendTo = _ref.appendTo,\n        callbackHandler = _ref.callbackHandler;\n\n    _classCallCheck(this, AboutModal);\n\n    return _possibleConstructorReturn(this, (AboutModal.__proto__ || Object.getPrototypeOf(AboutModal)).call(this, { verbose: verbose, appendTo: appendTo, callbackHandler: callbackHandler }));\n  }\n\n  _createClass(AboutModal, [{\n    key: 'render',\n    value: function render() {\n      var self = this;\n\n      var modalId = 'AboutModalWindow';\n\n      this.logger.debug('Creating About Modal [' + modalId + ']...');\n\n      // we want to overlay everything, hence 'body' must be used\n      var overlay = d3.select('body').append('div').attr('class', 'francy-overlay');\n      var holder = d3.select('body').append('div').attr('class', 'francy');\n      this.element = holder.append('div').attr('id', modalId).attr('class', 'francy-modal');\n\n      var form = this.element.append('form');\n\n      var header = form.append('div').attr('class', 'francy-modal-header');\n\n      header.append('span').html('About Francy v' + (this.data.version || 'N/A'));\n\n      var content = form.append('div').attr('class', 'francy-modal-content').append('div').attr('class', 'francy-table').append('div').attr('class', 'francy-table-body');\n\n      content.append('span').text('Loaded Object:');\n      content.append('pre').attr('class', 'francy').html(AboutModal.syntaxHighlight(JSON.stringify(this.data.canvas, null, 2)));\n      content.append('span').append('a').attr('href', 'https://github.com/mcmartins/francy').text('Francy on Github');\n\n      var footer = form.append('div').attr('class', 'francy-modal-footer');\n\n      footer.append('button').text('Ok').on('click', function () {\n        overlay.remove();\n        self.element.remove();\n        holder.remove();\n        d3.event.preventDefault();\n        return false;\n      });\n\n      // disable keyboard shortcuts when using this modal in Jupyter\n      (0, _component.RegisterJupyterKeyboardEvents)(['.francy', '.francy-arg', '.francy-overlay', '.francy-modal']);\n\n      this.logger.debug('Callback About updated [' + modalId + ']...');\n\n      return this;\n    }\n  }, {\n    key: 'unrender',\n    value: function unrender() {}\n\n    // credits here: https://stackoverflow.com/questions/4810841/how-can-i-pretty-print-json-using-javascript#answer-7220510\n\n  }], [{\n    key: 'syntaxHighlight',\n    value: function syntaxHighlight(json) {\n      json = json.replace(/&/g, '&amp;').replace(/</g, '&lt;').replace(/>/g, '&gt;');\n      return json.replace(/(\"(\\\\u[a-zA-Z0-9]{4}|\\\\[^u]|[^\"])*\"(\\s*:)?|\\b(true|false|null)\\b|-?\\d+(?:\\.\\d*)?(?:[eE][+-]?\\d+)?)/g, function (match) {\n        var cls = 'number';\n        if (/^\"/.test(match)) {\n          if (/:$/.test(match)) {\n            cls = 'key';\n          } else {\n            cls = 'string';\n          }\n        } else if (/true|false/.test(match)) {\n          cls = 'boolean';\n        } else if (/null/.test(match)) {\n          cls = 'null';\n        }\n        return '<span class=\"' + cls + '\">' + match + '</span>';\n      });\n    }\n  }]);\n\n  return AboutModal;\n}(_renderer2.default);\n\nexports.default = AboutModal;\n\n},{\"../util/component\":24,\"./renderer\":22}],21:[function(require,module,exports){\n'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = undefined;\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nvar _renderer = require('./renderer');\n\nvar _renderer2 = _interopRequireDefault(_renderer);\n\nvar _component = require('../util/component');\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\n/* global d3 */\n\nvar RequiredArgsModal = function (_Renderer) {\n  _inherits(RequiredArgsModal, _Renderer);\n\n  function RequiredArgsModal(_ref) {\n    var _ref$verbose = _ref.verbose,\n        verbose = _ref$verbose === undefined ? false : _ref$verbose,\n        appendTo = _ref.appendTo,\n        callbackHandler = _ref.callbackHandler;\n\n    _classCallCheck(this, RequiredArgsModal);\n\n    return _possibleConstructorReturn(this, (RequiredArgsModal.__proto__ || Object.getPrototypeOf(RequiredArgsModal)).call(this, { verbose: verbose, appendTo: appendTo, callbackHandler: callbackHandler }));\n  }\n\n  _createClass(RequiredArgsModal, [{\n    key: 'render',\n    value: function render() {\n      var self = this;\n\n      var modalId = this.data.callback.id;\n\n      this.logger.debug('Creating Callback Modal [' + modalId + ']...');\n\n      // we want to overlay everything, hence 'body' must be used\n      var overlay = d3.select('body').append('div').attr('class', 'francy-overlay');\n      var holder = d3.select('body').append('div').attr('class', 'francy');\n      this.element = holder.append('div').attr('id', modalId).attr('class', 'francy-modal');\n\n      var form = this.element.append('form');\n\n      var header = form.append('div').attr('class', 'francy-modal-header');\n\n      var headerTitle = header.append('span').html('Required arguments&nbsp;');\n      if (this.data.title) {\n        headerTitle.append('span').attr('style', 'font-weight: bold;').text('for ' + this.data.title);\n      }\n\n      var content = form.append('div').attr('class', 'francy-modal-content').append('div').attr('class', 'francy-table').append('div').attr('class', 'francy-table-body');\n\n      var _iteratorNormalCompletion = true;\n      var _didIteratorError = false;\n      var _iteratorError = undefined;\n\n      try {\n        for (var _iterator = Object.values(this.data.callback.requiredArgs)[Symbol.iterator](), _step; !(_iteratorNormalCompletion = (_step = _iterator.next()).done); _iteratorNormalCompletion = true) {\n          var arg = _step.value;\n\n          var row = content.append('div').attr('class', 'francy-table-row');\n          row.append('div').attr('class', 'francy-table-cell').append('label').attr('for', arg.id).text(arg.title);\n          var input = row.append('div').attr('class', 'francy-table-cell').append('input').attr('id', arg.id).attr('class', 'francy-arg').attr('required', '').attr('name', arg.id).attr('type', arg.type).attr('value', arg.value).on('change', function () {\n            self.data.callback.requiredArgs[this.id].value = this.value;\n          }).on('input', this.onchange).on('keyup', this.onchange).on('paste', this.onchange);\n          // wait, if it is boolean we create a checkbox\n          if (arg.type === 'boolean') {\n            // well, a checkbox works this way so we need to initialize \n            // the value to false and update the value based on the checked \n            // property that triggers the onchange event\n            arg.value = arg.value || false;\n            input.attr('type', 'checkbox').attr('required', null).attr('value', arg.value).on('change', function () {\n              self.data.callback.requiredArgs[this.id].value = this.value = this.checked;\n            });\n          }\n          row.append('span').attr('class', 'validity');\n        }\n      } catch (err) {\n        _didIteratorError = true;\n        _iteratorError = err;\n      } finally {\n        try {\n          if (!_iteratorNormalCompletion && _iterator.return) {\n            _iterator.return();\n          }\n        } finally {\n          if (_didIteratorError) {\n            throw _iteratorError;\n          }\n        }\n      }\n\n      var footer = form.append('div').attr('class', 'francy-modal-footer');\n\n      footer.append('button').text('Ok').on('click', function () {\n        if (form.node().checkValidity()) {\n          d3.event.preventDefault();\n          self.options.callbackHandler(self.data.callback);\n          overlay.remove();\n          self.element.remove();\n          holder.remove();\n        }\n        return false;\n      });\n      footer.append('button').text('Cancel').on('click', function () {\n        overlay.remove();\n        self.element.remove();\n        holder.remove();\n        d3.event.preventDefault();\n        return false;\n      });\n\n      // disable keyboard shortcuts when using this modal in Jupyter\n      (0, _component.RegisterJupyterKeyboardEvents)(['.francy', '.francy-arg', '.francy-overlay', '.francy-modal']);\n\n      content.selectAll('.francy-arg').node().focus();\n\n      this.logger.debug('Callback Modal updated [' + modalId + ']...');\n\n      return this;\n    }\n  }, {\n    key: 'unrender',\n    value: function unrender() {}\n  }]);\n\n  return RequiredArgsModal;\n}(_renderer2.default);\n\nexports.default = RequiredArgsModal;\n\n},{\"../util/component\":24,\"./renderer\":22}],22:[function(require,module,exports){\n'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = undefined;\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nvar _base = require('./base');\n\nvar _base2 = _interopRequireDefault(_base);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\n/* global d3 */\n\nvar Renderer = function (_Base) {\n  _inherits(Renderer, _Base);\n\n  function Renderer(_ref) {\n    var _ref$verbose = _ref.verbose,\n        verbose = _ref$verbose === undefined ? false : _ref$verbose,\n        appendTo = _ref.appendTo,\n        callbackHandler = _ref.callbackHandler;\n\n    _classCallCheck(this, Renderer);\n\n    var _this = _possibleConstructorReturn(this, (Renderer.__proto__ || Object.getPrototypeOf(Renderer)).call(this, { verbose: verbose, appendTo: appendTo, callbackHandler: callbackHandler }));\n\n    if (new.target === Renderer) {\n      throw new TypeError('Cannot construct [Renderer] instances directly!');\n    }\n    if (_this.render === undefined || typeof _this.render !== 'function') {\n      throw new TypeError('Must override [render()] method!');\n    }\n    if (_this.unrender === undefined) {\n      _this.logger.debug('No [unrender()] method specified...');\n    }\n    _this.element = undefined;\n    _this.transitionDuration = 750; //ms\n    return _this;\n  }\n\n  _createClass(Renderer, [{\n    key: 'HTMLParent',\n    get: function get() {\n      return this.options.appendTo.element.node().tagName.toLowerCase() === 'svg' ? d3.select(this.options.appendTo.element.node().parentNode) : this.options.appendTo.element;\n    }\n  }, {\n    key: 'SVGParent',\n    get: function get() {\n      return this.options.appendTo.element.node().tagName.toLowerCase() === 'div' ? this.options.appendTo.element.select('svg') : this.options.appendTo.element;\n    }\n  }]);\n\n  return Renderer;\n}(_base2.default);\n\nexports.default = Renderer;\n\n},{\"./base\":4}],23:[function(require,module,exports){\n'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = undefined;\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nvar _dec, _desc, _value, _class;\n\nvar _renderer = require('./renderer');\n\nvar _renderer2 = _interopRequireDefault(_renderer);\n\nvar _data = require('../decorator/data');\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\nfunction _applyDecoratedDescriptor(target, property, decorators, descriptor, context) {\n  var desc = {};\n  Object['ke' + 'ys'](descriptor).forEach(function (key) {\n    desc[key] = descriptor[key];\n  });\n  desc.enumerable = !!desc.enumerable;\n  desc.configurable = !!desc.configurable;\n\n  if ('value' in desc || desc.initializer) {\n    desc.writable = true;\n  }\n\n  desc = decorators.slice().reverse().reduce(function (desc, decorator) {\n    return decorator(target, property, desc) || desc;\n  }, desc);\n\n  if (context && desc.initializer !== void 0) {\n    desc.value = desc.initializer ? desc.initializer.call(context) : void 0;\n    desc.initializer = undefined;\n  }\n\n  if (desc.initializer === void 0) {\n    Object['define' + 'Property'](target, property, desc);\n    desc = null;\n  }\n\n  return desc;\n}\n\n/* global d3 */\n\nvar Tooltip = (_dec = (0, _data.requires)(), (_class = function (_Renderer) {\n  _inherits(Tooltip, _Renderer);\n\n  function Tooltip(_ref) {\n    var _ref$verbose = _ref.verbose,\n        verbose = _ref$verbose === undefined ? false : _ref$verbose,\n        appendTo = _ref.appendTo,\n        callbackHandler = _ref.callbackHandler;\n\n    _classCallCheck(this, Tooltip);\n\n    return _possibleConstructorReturn(this, (Tooltip.__proto__ || Object.getPrototypeOf(Tooltip)).call(this, { verbose: verbose, appendTo: appendTo, callbackHandler: callbackHandler }));\n  }\n\n  _createClass(Tooltip, [{\n    key: 'render',\n    value: function render() {\n\n      this.element = this.HTMLParent.select('div.francy-tooltip-holder');\n      // check if the window is already present\n      if (!this.element.node()) {\n        this.element = this.HTMLParent.append('div').attr('class', 'francy-tooltip-holder');\n      }\n\n      // check if it exists already\n      if (this.element.selectAll('*').node()) {\n        return;\n      }\n\n      var pos = d3.mouse(this.SVGParent.node());\n\n      // TODO fix always visible tooltip, fine until someone complains about :P\n      this.element.style('left', pos[0] + 5 + 'px').style('top', pos[1] - 5 + 'px');\n\n      var table = this.element.append('div').attr('class', 'francy-tooltip').append('div').attr('class', 'francy-table').append('div').attr('class', 'francy-table-body');\n      var self = this;\n      Object.keys(this.data).map(function (key) {\n        var row = table.append('div').attr('class', 'francy-table-row');\n        row.append('div').attr('class', 'francy-table-cell').text(self.data[key].title);\n        row.append('div').attr('class', 'francy-table-cell').text(self.data[key].text);\n      });\n\n      // show tooltip\n      this.element.style('display', 'block');\n\n      return this;\n    }\n  }, {\n    key: 'unrender',\n    value: function unrender() {\n      if (this.element) {\n        this.element.selectAll('*').remove();\n        this.element.style('display', null);\n      }\n    }\n  }]);\n\n  return Tooltip;\n}(_renderer2.default), (_applyDecoratedDescriptor(_class.prototype, 'render', [_dec], Object.getOwnPropertyDescriptor(_class.prototype, 'render'), _class.prototype)), _class));\nexports.default = Tooltip;\n\n},{\"../decorator/data\":2,\"./renderer\":22}],24:[function(require,module,exports){\n\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.RegisterMathJax = RegisterMathJax;\nexports.RegisterJupyterKeyboardEvents = RegisterJupyterKeyboardEvents;\n\nvar _logger = require(\"../util/logger\");\n\nvar _logger2 = _interopRequireDefault(_logger);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\n/* global Jupyter, MathJax, d3 */\n\nfunction RegisterMathJax(element) {\n  if (!element) return;\n  setTimeout(function () {\n    try {\n      MathJax.Hub.Config({\n        extensions: [\"tex2jax.js\"],\n        jax: [\"input/TeX\", \"output/SVG\"],\n        tex2jax: {\n          inlineMath: [['$', '$'], [\"\\\\(\", \"\\\\)\"]],\n          displayMath: [['$$', '$$'], [\"\\\\[\", \"\\\\]\"]],\n          processEscapes: true\n        },\n        skipStartupTypeset: true\n      });\n\n      MathJax.Hub.Register.StartupHook('End', function () {\n        setTimeout(function () {\n          element.selectAll('.francy-label').each(function () {\n            var self = d3.select(this),\n                mathJax = self.select('text>span>svg');\n            if (mathJax.node()) {\n              setTimeout(function () {\n                mathJax.attr('x', self.attr('x'));\n                mathJax.attr('y', -15);\n                d3.select(self.node().parentNode).append(function () {\n                  return mathJax.node();\n                });\n                self.selectAll('*').remove();\n              }, 10);\n            }\n          });\n        }, 250);\n      });\n\n      MathJax.Hub.Queue([\"setRenderer\", MathJax.Hub, \"SVG\"], ['Typeset', MathJax.Hub, element.node()]);\n\n      MathJax.Hub.Configured();\n    } catch (e) {\n      if (e.name === 'ReferenceError') {\n        new _logger2.default().info('It seems MathJax is not loaded...', e);\n      }\n    }\n  }, 10);\n}\n\nfunction RegisterJupyterKeyboardEvents(classes) {\n  // disable keyboard shortcuts in Jupyter for classes\n  if (!classes) return;\n  try {\n    classes.map(function (cl) {\n      Jupyter.keyboard_manager.register_events(cl);\n    });\n  } catch (e) {\n    if (e.name === 'ReferenceError') {\n      new _logger2.default().info('It seems we\\'re not running on Jupyter...', e);\n    }\n  }\n}\n\n},{\"../util/logger\":26}],25:[function(require,module,exports){\n'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\n/**\r\n * This class contains methods to deal with JSON.\r\n */\nvar JsonUtils = function () {\n  function JsonUtils() {\n    _classCallCheck(this, JsonUtils);\n  }\n\n  _createClass(JsonUtils, null, [{\n    key: 'parse',\n\n\n    /**\r\n     * Parses an input nd checks whether this input is valid and returns a JSON object.\r\n     * @param input - the input to parse\r\n     * @param partial - if the input is not a complete Francy JSON Object\r\n     * @returns {json} - if the input is a valid JSON object, otherwise returns {undefined}\r\n     */\n    value: function parse(input, partial) {\n      if (!input) return;\n      input = typeof input !== \"string\" ? JSON.stringify(input) : input;\n      input = input.replace(/[\\n\\r\\b\\\\]+|(gap>)/g, '');\n      var jsonRegex = /{(?:[^])*}/g;\n      var match = jsonRegex.exec(input);\n      if (match) {\n        input = match[0];\n        try {\n          var json = JSON.parse(input);\n          return json.mime === JsonUtils.MIME || partial ? json : undefined;\n        } catch (e) {\n          /* eslint-disable no-console */\n          console.error(e);\n          /* eslint-enable no-console */\n        }\n      }\n    }\n  }, {\n    key: 'MIME',\n    get: function get() {\n      return 'application/vnd.francy+json';\n    }\n  }]);\n\n  return JsonUtils;\n}();\n\nexports.default = JsonUtils;\n\n},{}],26:[function(require,module,exports){\n'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\n/**\r\n * This class provides a logger for the Francy application.\r\n */\nvar Logger = function () {\n\n  /**\r\n   * Logger constructor\r\n   * @param verbose prints extra log information to console.log, defaults to false\r\n   */\n  function Logger() {\n    var _ref = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {},\n        _ref$verbose = _ref.verbose,\n        verbose = _ref$verbose === undefined ? false : _ref$verbose;\n\n    _classCallCheck(this, Logger);\n\n    this.verbose = verbose;\n    this.console = console;\n  }\n\n  /**\r\n   * Creates a [DEBUG] entry in the console log\r\n   * @param message the message to print\r\n   */\n\n\n  _createClass(Logger, [{\n    key: 'debug',\n    value: function debug(message) {\n      if (this.verbose) {\n        this.console.debug(Logger._format('DEBUG', message));\n      }\n    }\n\n    /**\r\n     * Creates a [INFO] entry in the console log\r\n     * @param message the message to print\r\n     */\n\n  }, {\n    key: 'info',\n    value: function info(message) {\n      this.console.info(Logger._format('INFO', message));\n    }\n\n    /**\r\n     * Creates a [ERROR] entry in the console log\r\n     * @param message the message to print\r\n     * @param error the error Object to attach to the message\r\n     */\n\n  }, {\n    key: 'error',\n    value: function error(message, _error) {\n      this.console.error(Logger._format('ERROR', message), _error);\n    }\n\n    /**\r\n     * Creates a [WARN] entry in the console log\r\n     * @param message the message to print\r\n     * @param error the error Object to attach to the message\r\n     */\n\n  }, {\n    key: 'warn',\n    value: function warn(message, error) {\n      error = error || {};\n      this.console.error(Logger._format('WARN', message), error);\n    }\n\n    /**\r\n     * This is a private method that formats all log messages\r\n     * @param level the log level\r\n     * @param message the message to print\r\n     */\n\n  }], [{\n    key: '_format',\n    value: function _format(level, message) {\n      return '[' + level + '] - ' + new Date().toISOString() + ' - ' + message;\n    }\n  }]);\n\n  return Logger;\n}();\n\nexports.default = Logger;\n\n},{}]},{},[3])\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIm5vZGVfbW9kdWxlcy9icm93c2VyLXBhY2svX3ByZWx1ZGUuanMiLCJub2RlX21vZHVsZXMvc2F2ZS1zdmctYXMtcG5nL3NhdmVTdmdBc1BuZy5qcyIsInNyYy9kZWNvcmF0b3IvZGF0YS5qcyIsInNyYy9mcmFuY3kuanMiLCJzcmMvcmVuZGVyL2Jhc2UuanMiLCJzcmMvcmVuZGVyL2NhbGxiYWNrLmpzIiwic3JjL3JlbmRlci9jYW52YXMuanMiLCJzcmMvcmVuZGVyL2NoYXJ0LWJhci5qcyIsInNyYy9yZW5kZXIvY2hhcnQtbGluZS5qcyIsInNyYy9yZW5kZXIvY2hhcnQtc2NhdHRlci5qcyIsInNyYy9yZW5kZXIvY2hhcnQuanMiLCJzcmMvcmVuZGVyL2NvbXBvc2l0ZS5qcyIsInNyYy9yZW5kZXIvZnJhbWUuanMiLCJzcmMvcmVuZGVyL2dyYXBoLWdlbmVyaWMuanMiLCJzcmMvcmVuZGVyL2dyYXBoLXRyZWUuanMiLCJzcmMvcmVuZGVyL2dyYXBoLmpzIiwic3JjL3JlbmRlci9tZW51LWNvbnRleHQuanMiLCJzcmMvcmVuZGVyL21lbnUtbWFpbi5qcyIsInNyYy9yZW5kZXIvbWVudS5qcyIsInNyYy9yZW5kZXIvbWVzc2FnZS5qcyIsInNyYy9yZW5kZXIvbW9kYWwtYWJvdXQuanMiLCJzcmMvcmVuZGVyL21vZGFsLXJlcXVpcmVkLmpzIiwic3JjL3JlbmRlci9yZW5kZXJlci5qcyIsInNyYy9yZW5kZXIvdG9vbHRpcC5qcyIsInNyYy91dGlsL2NvbXBvbmVudC5qcyIsInNyYy91dGlsL2pzb24tdXRpbHMuanMiLCJzcmMvdXRpbC9sb2dnZXIuanMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUE7QUNBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtB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QUNoQixhQUFPLDZCQUFQO0FBQ0Q7Ozs7OztrQkE5QmtCLFM7Ozs7Ozs7Ozs7Ozs7QUNIckI7OztJQUdxQixNOztBQUVuQjs7OztBQUlBLG9CQUFzQztBQUFBLG1GQUFKLEVBQUk7QUFBQSw0QkFBeEIsT0FBd0I7QUFBQSxRQUF4QixPQUF3QixnQ0FBZCxLQUFjOztBQUFBOztBQUNwQyxTQUFLLE9BQUwsR0FBZSxPQUFmO0FBQ0EsU0FBSyxPQUFMLEdBQWUsT0FBZjtBQUNEOztBQUVEOzs7Ozs7OzswQkFJTSxPLEVBQVM7QUFDYixVQUFJLEtBQUssT0FBVCxFQUFrQjtBQUNoQixhQUFLLE9BQUwsQ0FBYSxLQUFiLENBQW1CLE9BQU8sT0FBUCxDQUFlLE9BQWYsRUFBd0IsT0FBeEIsQ0FBbkI7QUFDRDtBQUNGOztBQUVEOzs7Ozs7O3lCQUlLLE8sRUFBUztBQUNaLFdBQUssT0FBTCxDQUFhLElBQWIsQ0FBa0IsT0FBTyxPQUFQLENBQWUsTUFBZixFQUF1QixPQUF2QixDQUFsQjtBQUNEOztBQUVEOzs7Ozs7OzswQkFLTSxPLEVBQVMsTSxFQUFPO0FBQ3BCLFdBQUssT0FBTCxDQUFhLEtBQWIsQ0FBbUIsT0FBTyxPQUFQLENBQWUsT0FBZixFQUF3QixPQUF4QixDQUFuQixFQUFxRCxNQUFyRDtBQUNEOztBQUVEOzs7Ozs7Ozt5QkFLSyxPLEVBQVMsSyxFQUFPO0FBQ25CLGNBQVEsU0FBUyxFQUFqQjtBQUNBLFdBQUssT0FBTCxDQUFhLEtBQWIsQ0FBbUIsT0FBTyxPQUFQLENBQWUsTUFBZixFQUF1QixPQUF2QixDQUFuQixFQUFvRCxLQUFwRDtBQUNEOztBQUVEOzs7Ozs7Ozs0QkFLZSxLLEVBQU8sTyxFQUFTO0FBQzdCLG1CQUFXLEtBQVgsWUFBdUIsSUFBSSxJQUFKLEdBQVcsV0FBWCxFQUF2QixXQUFxRCxPQUFyRDtBQUNEOzs7Ozs7a0JBdkRrQixNIiwiZmlsZSI6ImdlbmVyYXRlZC5qcyIsInNvdXJjZVJvb3QiOiIiLCJzb3VyY2VzQ29udGVudCI6WyIoZnVuY3Rpb24gZSh0LG4scil7ZnVuY3Rpb24gcyhvLHUpe2lmKCFuW29dKXtpZighdFtvXSl7dmFyIGE9dHlwZW9mIHJlcXVpcmU9PVwiZnVuY3Rpb25cIiYmcmVxdWlyZTtpZighdSYmYSlyZXR1cm4gYShvLCEwKTtpZihpKXJldHVybiBpKG8sITApO3ZhciBmPW5ldyBFcnJvcihcIkNhbm5vdCBmaW5kIG1vZHVsZSAnXCIrbytcIidcIik7dGhyb3cgZi5jb2RlPVwiTU9EVUxFX05PVF9GT1VORFwiLGZ9dmFyIGw9bltvXT17ZXhwb3J0czp7fX07dFtvXVswXS5jYWxsKGwuZXhwb3J0cyxmdW5jdGlvbihlKXt2YXIgbj10W29dWzFdW2VdO3JldHVybiBzKG4/bjplKX0sbCxsLmV4cG9ydHMsZSx0LG4scil9cmV0dXJuIG5bb10uZXhwb3J0c312YXIgaT10eXBlb2YgcmVxdWlyZT09XCJmdW5jdGlvblwiJiZyZXF1aXJlO2Zvcih2YXIgbz0wO288ci5sZW5ndGg7bysrKXMocltvXSk7cmV0dXJuIHN9KSIsIihmdW5jdGlvbigpIHtcbiAgdmFyIG91dCQgPSB0eXBlb2YgZXhwb3J0cyAhPSAndW5kZWZpbmVkJyAmJiBleHBvcnRzIHx8IHR5cGVvZiBkZWZpbmUgIT0gJ3VuZGVmaW5lZCcgJiYge30gfHwgdGhpcztcblxuICB2YXIgZG9jdHlwZSA9ICc8P3htbCB2ZXJzaW9uPVwiMS4wXCIgc3RhbmRhbG9uZT1cIm5vXCI/PjwhRE9DVFlQRSBzdmcgUFVCTElDIFwiLS8vVzNDLy9EVEQgU1ZHIDEuMS8vRU5cIiBcImh0dHA6Ly93d3cudzMub3JnL0dyYXBoaWNzL1NWRy8xLjEvRFREL3N2ZzExLmR0ZFwiIFs8IUVOVElUWSBuYnNwIFwiJiMxNjA7XCI+XT4nO1xuXG4gIGZ1bmN0aW9uIGlzRWxlbWVudChvYmopIHtcbiAgICByZXR1cm4gb2JqIGluc3RhbmNlb2YgSFRNTEVsZW1lbnQgfHwgb2JqIGluc3RhbmNlb2YgU1ZHRWxlbWVudDtcbiAgfVxuXG4gIGZ1bmN0aW9uIHJlcXVpcmVEb21Ob2RlKGVsKSB7XG4gICAgaWYgKCFpc0VsZW1lbnQoZWwpKSB7XG4gICAgICB0aHJvdyBuZXcgRXJyb3IoJ2FuIEhUTUxFbGVtZW50IG9yIFNWR0VsZW1lbnQgaXMgcmVxdWlyZWQ7IGdvdCAnICsgZWwpO1xuICAgIH1cbiAgfVxuXG4gIGZ1bmN0aW9uIGlzRXh0ZXJuYWwodXJsKSB7XG4gICAgcmV0dXJuIHVybCAmJiB1cmwubGFzdEluZGV4T2YoJ2h0dHAnLDApID09IDAgJiYgdXJsLmxhc3RJbmRleE9mKHdpbmRvdy5sb2NhdGlvbi5ob3N0KSA9PSAtMTtcbiAgfVxuXG4gIGZ1bmN0aW9uIGlubGluZUltYWdlcyhlbCwgY2FsbGJhY2spIHtcbiAgICByZXF1aXJlRG9tTm9kZShlbCk7XG5cbiAgICB2YXIgaW1hZ2VzID0gZWwucXVlcnlTZWxlY3RvckFsbCgnaW1hZ2UnKSxcbiAgICAgICAgbGVmdCA9IGltYWdlcy5sZW5ndGgsXG4gICAgICAgIGNoZWNrRG9uZSA9IGZ1bmN0aW9uKCkge1xuICAgICAgICAgIGlmIChsZWZ0ID09PSAwKSB7XG4gICAgICAgICAgICBjYWxsYmFjaygpO1xuICAgICAgICAgIH1cbiAgICAgICAgfTtcblxuICAgIGNoZWNrRG9uZSgpO1xuICAgIGZvciAodmFyIGkgPSAwOyBpIDwgaW1hZ2VzLmxlbmd0aDsgaSsrKSB7XG4gICAgICAoZnVuY3Rpb24oaW1hZ2UpIHtcbiAgICAgICAgdmFyIGhyZWYgPSBpbWFnZS5nZXRBdHRyaWJ1dGVOUyhcImh0dHA6Ly93d3cudzMub3JnLzE5OTkveGxpbmtcIiwgXCJocmVmXCIpO1xuICAgICAgICBpZiAoaHJlZikge1xuICAgICAgICAgIGlmIChpc0V4dGVybmFsKGhyZWYudmFsdWUpKSB7XG4gICAgICAgICAgICBjb25zb2xlLndhcm4oXCJDYW5ub3QgcmVuZGVyIGVtYmVkZGVkIGltYWdlcyBsaW5raW5nIHRvIGV4dGVybmFsIGhvc3RzOiBcIitocmVmLnZhbHVlKTtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgdmFyIGNhbnZhcyA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2NhbnZhcycpO1xuICAgICAgICB2YXIgY3R4ID0gY2FudmFzLmdldENvbnRleHQoJzJkJyk7XG4gICAgICAgIHZhciBpbWcgPSBuZXcgSW1hZ2UoKTtcbiAgICAgICAgaW1nLmNyb3NzT3JpZ2luPVwiYW5vbnltb3VzXCI7XG4gICAgICAgIGhyZWYgPSBocmVmIHx8IGltYWdlLmdldEF0dHJpYnV0ZSgnaHJlZicpO1xuICAgICAgICBpZiAoaHJlZikge1xuICAgICAgICAgIGltZy5zcmMgPSBocmVmO1xuICAgICAgICAgIGltZy5vbmxvYWQgPSBmdW5jdGlvbigpIHtcbiAgICAgICAgICAgIGNhbnZhcy53aWR0aCA9IGltZy53aWR0aDtcbiAgICAgICAgICAgIGNhbnZhcy5oZWlnaHQgPSBpbWcuaGVpZ2h0O1xuICAgICAgICAgICAgY3R4LmRyYXdJbWFnZShpbWcsIDAsIDApO1xuICAgICAgICAgICAgaW1hZ2Uuc2V0QXR0cmlidXRlTlMoXCJodHRwOi8vd3d3LnczLm9yZy8xOTk5L3hsaW5rXCIsIFwiaHJlZlwiLCBjYW52YXMudG9EYXRhVVJMKCdpbWFnZS9wbmcnKSk7XG4gICAgICAgICAgICBsZWZ0LS07XG4gICAgICAgICAgICBjaGVja0RvbmUoKTtcbiAgICAgICAgICB9XG4gICAgICAgICAgaW1nLm9uZXJyb3IgPSBmdW5jdGlvbigpIHtcbiAgICAgICAgICAgIGNvbnNvbGUubG9nKFwiQ291bGQgbm90IGxvYWQgXCIraHJlZik7XG4gICAgICAgICAgICBsZWZ0LS07XG4gICAgICAgICAgICBjaGVja0RvbmUoKTtcbiAgICAgICAgICB9XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgbGVmdC0tO1xuICAgICAgICAgIGNoZWNrRG9uZSgpO1xuICAgICAgICB9XG4gICAgICB9KShpbWFnZXNbaV0pO1xuICAgIH1cbiAgfVxuXG4gIGZ1bmN0aW9uIHN0eWxlcyhlbCwgb3B0aW9ucywgY3NzTG9hZGVkQ2FsbGJhY2spIHtcbiAgICB2YXIgc2VsZWN0b3JSZW1hcCA9IG9wdGlvbnMuc2VsZWN0b3JSZW1hcDtcbiAgICB2YXIgbW9kaWZ5U3R5bGUgPSBvcHRpb25zLm1vZGlmeVN0eWxlO1xuICAgIHZhciBjc3MgPSBcIlwiO1xuICAgIC8vIGVhY2ggZm9udCB0aGF0IGhhcyBleHRyYW5sIGxpbmsgaXMgc2F2ZWQgaW50byBxdWV1ZSwgYW5kIHByb2Nlc3NlZFxuICAgIC8vIGFzeW5jaHJvbm91c2x5XG4gICAgdmFyIGZvbnRzUXVldWUgPSBbXTtcbiAgICB2YXIgc2hlZXRzID0gZG9jdW1lbnQuc3R5bGVTaGVldHM7XG4gICAgZm9yICh2YXIgaSA9IDA7IGkgPCBzaGVldHMubGVuZ3RoOyBpKyspIHtcbiAgICAgIHRyeSB7XG4gICAgICAgIHZhciBydWxlcyA9IHNoZWV0c1tpXS5jc3NSdWxlcztcbiAgICAgIH0gY2F0Y2ggKGUpIHtcbiAgICAgICAgY29uc29sZS53YXJuKFwiU3R5bGVzaGVldCBjb3VsZCBub3QgYmUgbG9hZGVkOiBcIitzaGVldHNbaV0uaHJlZik7XG4gICAgICAgIGNvbnRpbnVlO1xuICAgICAgfVxuXG4gICAgICBpZiAocnVsZXMgIT0gbnVsbCkge1xuICAgICAgICBmb3IgKHZhciBqID0gMCwgbWF0Y2g7IGogPCBydWxlcy5sZW5ndGg7IGorKywgbWF0Y2ggPSBudWxsKSB7XG4gICAgICAgICAgdmFyIHJ1bGUgPSBydWxlc1tqXTtcbiAgICAgICAgICBpZiAodHlwZW9mKHJ1bGUuc3R5bGUpICE9IFwidW5kZWZpbmVkXCIpIHtcbiAgICAgICAgICAgIHZhciBzZWxlY3RvclRleHQ7XG5cbiAgICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICAgIHNlbGVjdG9yVGV4dCA9IHJ1bGUuc2VsZWN0b3JUZXh0O1xuICAgICAgICAgICAgfSBjYXRjaChlcnIpIHtcbiAgICAgICAgICAgICAgY29uc29sZS53YXJuKCdUaGUgZm9sbG93aW5nIENTUyBydWxlIGhhcyBhbiBpbnZhbGlkIHNlbGVjdG9yOiBcIicgKyBydWxlICsgJ1wiJywgZXJyKTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgICAgaWYgKHNlbGVjdG9yVGV4dCkge1xuICAgICAgICAgICAgICAgIG1hdGNoID0gZWwucXVlcnlTZWxlY3RvcihzZWxlY3RvclRleHQpIHx8IGVsLnBhcmVudE5vZGUucXVlcnlTZWxlY3RvcihzZWxlY3RvclRleHQpO1xuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9IGNhdGNoKGVycikge1xuICAgICAgICAgICAgICBjb25zb2xlLndhcm4oJ0ludmFsaWQgQ1NTIHNlbGVjdG9yIFwiJyArIHNlbGVjdG9yVGV4dCArICdcIicsIGVycik7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGlmIChtYXRjaCkge1xuICAgICAgICAgICAgICB2YXIgc2VsZWN0b3IgPSBzZWxlY3RvclJlbWFwID8gc2VsZWN0b3JSZW1hcChydWxlLnNlbGVjdG9yVGV4dCkgOiBydWxlLnNlbGVjdG9yVGV4dDtcbiAgICAgICAgICAgICAgdmFyIGNzc1RleHQgPSBtb2RpZnlTdHlsZSA/IG1vZGlmeVN0eWxlKHJ1bGUuc3R5bGUuY3NzVGV4dCkgOiBydWxlLnN0eWxlLmNzc1RleHQ7XG4gICAgICAgICAgICAgIGNzcyArPSBzZWxlY3RvciArIFwiIHsgXCIgKyBjc3NUZXh0ICsgXCIgfVxcblwiO1xuICAgICAgICAgICAgfSBlbHNlIGlmKHJ1bGUuY3NzVGV4dC5tYXRjaCgvXkBmb250LWZhY2UvKSkge1xuICAgICAgICAgICAgICAvLyBiZWxvdyB3ZSBhcmUgdHJ5aW5nIHRvIGZpbmQgbWF0Y2hlcyB0byBleHRlcm5hbCBsaW5rLiBFLmcuXG4gICAgICAgICAgICAgIC8vIEBmb250LWZhY2Uge1xuICAgICAgICAgICAgICAvLyAgIC8vIC4uLlxuICAgICAgICAgICAgICAvLyAgIHNyYzogbG9jYWwoJ0FiZWwnKSwgdXJsKGh0dHBzOi8vZm9udHMuZ3N0YXRpYy5jb20vcy9hYmVsL3Y2L1V6Ti1pZWpSMVZvWFUyT2MtN0xzYnZlc1pXMnhPUS14c05xTzQ3bTU1REEud29mZjIpO1xuICAgICAgICAgICAgICAvLyB9XG4gICAgICAgICAgICAgIC8vXG4gICAgICAgICAgICAgIC8vIFRoaXMgcmVnZXggd2lsbCBzYXZlIGV4dHJuYWwgbGluayBpbnRvIGZpcnN0IGNhcHR1cmUgZ3JvdXBcbiAgICAgICAgICAgICAgdmFyIGZvbnRVcmxSZWdleHAgPSAvdXJsXFwoW1wiJ10/KC4rPylbXCInXT9cXCkvO1xuICAgICAgICAgICAgICAvLyBUT0RPOiBUaGlzIG5lZWRzIHRvIGJlIGNoYW5nZWQgdG8gc3VwcG9ydCBtdWx0aXBsZSB1cmwgZGVjbGFyYXRpb25zIHBlciBmb250LlxuICAgICAgICAgICAgICB2YXIgZm9udFVybE1hdGNoID0gcnVsZS5jc3NUZXh0Lm1hdGNoKGZvbnRVcmxSZWdleHApO1xuXG4gICAgICAgICAgICAgIHZhciBleHRlcm5hbEZvbnRVcmwgPSAoZm9udFVybE1hdGNoICYmIGZvbnRVcmxNYXRjaFsxXSkgfHwgJyc7XG4gICAgICAgICAgICAgIHZhciBmb250VXJsSXNEYXRhVVJJID0gZXh0ZXJuYWxGb250VXJsLm1hdGNoKC9eZGF0YTovKTtcbiAgICAgICAgICAgICAgaWYgKGZvbnRVcmxJc0RhdGFVUkkpIHtcbiAgICAgICAgICAgICAgICAvLyBXZSBzaG91bGQgaWdub3JlIGRhdGEgdXJpIC0gdGhleSBhcmUgYWxyZWFkeSBlbWJlZGRlZFxuICAgICAgICAgICAgICAgIGV4dGVybmFsRm9udFVybCA9ICcnO1xuICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgaWYgKGV4dGVybmFsRm9udFVybCkge1xuICAgICAgICAgICAgICAgIC8vIG9rYXksIHdlIGFyZSBsdWNreS4gV2UgY2FuIGZldGNoIHRoaXMgZm9udCBsYXRlclxuXG4gICAgICAgICAgICAgICAgLy9oYW5kbGUgdXJsIGlmIHJlbGF0aXZlXG4gICAgICAgICAgICAgICAgaWYgKGV4dGVybmFsRm9udFVybC5zdGFydHNXaXRoKCcuLi8nKSkge1xuICAgICAgICAgICAgICAgICAgZXh0ZXJuYWxGb250VXJsID0gc2hlZXRzW2ldLmhyZWYgKyAnLy4uLycgKyBleHRlcm5hbEZvbnRVcmxcbiAgICAgICAgICAgICAgICB9IGVsc2UgaWYgKGV4dGVybmFsRm9udFVybC5zdGFydHNXaXRoKCcuLycpKSB7XG4gICAgICAgICAgICAgICAgICBleHRlcm5hbEZvbnRVcmwgPSBzaGVldHNbaV0uaHJlZiArICcvLicgKyBleHRlcm5hbEZvbnRVcmxcbiAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICBmb250c1F1ZXVlLnB1c2goe1xuICAgICAgICAgICAgICAgICAgdGV4dDogcnVsZS5jc3NUZXh0LFxuICAgICAgICAgICAgICAgICAgLy8gUGFzcyB1cmwgcmVnZXgsIHNvIHRoYXQgb25jZSBmb250IGlzIGRvd25sYWRlZCwgd2UgY2FuIHJ1biBgcmVwbGFjZSgpYCBvbiBpdFxuICAgICAgICAgICAgICAgICAgZm9udFVybFJlZ2V4cDogZm9udFVybFJlZ2V4cCxcbiAgICAgICAgICAgICAgICAgIGZvcm1hdDogZ2V0Rm9udE1pbWVUeXBlRnJvbVVybChleHRlcm5hbEZvbnRVcmwpLFxuICAgICAgICAgICAgICAgICAgdXJsOiBleHRlcm5hbEZvbnRVcmxcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAvLyBvdGhlcndpc2UsIHVzZSBwcmV2aW91cyBsb2dpY1xuICAgICAgICAgICAgICAgIGNzcyArPSBydWxlLmNzc1RleHQgKyAnXFxuJztcbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1cblxuICAgIC8vIE5vdyBhbGwgY3NzIGlzIHByb2Nlc3NlZCwgaXQncyB0aW1lIHRvIGhhbmRsZSBzY2hlZHVsZWQgZm9udHNcbiAgICBwcm9jZXNzRm9udFF1ZXVlKGZvbnRzUXVldWUpO1xuXG4gICAgZnVuY3Rpb24gZ2V0Rm9udE1pbWVUeXBlRnJvbVVybChmb250VXJsKSB7XG4gICAgICB2YXIgc3VwcG9ydGVkRm9ybWF0cyA9IHtcbiAgICAgICAgJ3dvZmYyJzogJ2ZvbnQvd29mZjInLFxuICAgICAgICAnd29mZic6ICdmb250L3dvZmYnLFxuICAgICAgICAnb3RmJzogJ2FwcGxpY2F0aW9uL3gtZm9udC1vcGVudHlwZScsXG4gICAgICAgICd0dGYnOiAnYXBwbGljYXRpb24veC1mb250LXR0ZicsXG4gICAgICAgICdlb3QnOiAnYXBwbGljYXRpb24vdm5kLm1zLWZvbnRvYmplY3QnLFxuICAgICAgICAnc2ZudCc6ICdhcHBsaWNhdGlvbi9mb250LXNmbnQnLFxuICAgICAgICAnc3ZnJzogJ2ltYWdlL3N2Zyt4bWwnXG4gICAgICB9O1xuICAgICAgdmFyIGV4dGVuc2lvbnMgPSBPYmplY3Qua2V5cyhzdXBwb3J0ZWRGb3JtYXRzKTtcbiAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgZXh0ZW5zaW9ucy5sZW5ndGg7ICsraSkge1xuICAgICAgICB2YXIgZXh0ZW5zaW9uID0gZXh0ZW5zaW9uc1tpXTtcbiAgICAgICAgLy8gVE9ETzogVGhpcyBpcyBub3QgYnVsbGV0IHByb29mLCBpdCBuZWVkcyB0byBoYW5kbGUgZWRnZSBjYXNlcy4uLlxuICAgICAgICBpZiAoZm9udFVybC5pbmRleE9mKCcuJyArIGV4dGVuc2lvbikgPiAwKSB7XG4gICAgICAgICAgcmV0dXJuIHN1cHBvcnRlZEZvcm1hdHNbZXh0ZW5zaW9uXTtcbiAgICAgICAgfVxuICAgICAgfVxuXG4gICAgICAvLyBJZiB5b3Ugc2VlIHRoaXMgZXJyb3IgbWVzc2FnZSwgeW91IHByb2JhYmx5IG5lZWQgdG8gdXBkYXRlIGNvZGUgYWJvdmUuXG4gICAgICBjb25zb2xlLmVycm9yKCdVbmtub3duIGZvbnQgZm9ybWF0IGZvciAnICsgZm9udFVybCsgJzsgRm9udHMgbWF5IG5vdCBiZSB3b3JraW5nIGNvcnJlY3RseScpO1xuICAgICAgcmV0dXJuICdhcHBsaWNhdGlvbi9vY3RldC1zdHJlYW0nO1xuICAgIH1cblxuICAgIGZ1bmN0aW9uIHByb2Nlc3NGb250UXVldWUocXVldWUpIHtcbiAgICAgIGlmIChxdWV1ZS5sZW5ndGggPiAwKSB7XG4gICAgICAgIC8vIGxvYWQgZm9udHMgb25lIGJ5IG9uZSB1bnRpbCB3ZSBoYXZlIGFueXRoaW5nIGluIHRoZSBxdWV1ZTpcbiAgICAgICAgdmFyIGZvbnQgPSBxdWV1ZS5wb3AoKTtcbiAgICAgICAgcHJvY2Vzc05leHQoZm9udCk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICAvLyBubyBtb3JlIGZvbnRzIHRvIGxvYWQuXG4gICAgICAgIGNzc0xvYWRlZENhbGxiYWNrKGNzcyk7XG4gICAgICB9XG5cbiAgICAgIGZ1bmN0aW9uIHByb2Nlc3NOZXh0KGZvbnQpIHtcbiAgICAgICAgLy8gVE9ETzogVGhpcyBjb3VsZCBiZW5lZml0IGZyb20gY2FjaGluZy5cbiAgICAgICAgdmFyIG9SZXEgPSBuZXcgWE1MSHR0cFJlcXVlc3QoKTtcbiAgICAgICAgb1JlcS5hZGRFdmVudExpc3RlbmVyKCdsb2FkJywgZm9udExvYWRlZCk7XG4gICAgICAgIG9SZXEuYWRkRXZlbnRMaXN0ZW5lcignZXJyb3InLCB0cmFuc2ZlckZhaWxlZCk7XG4gICAgICAgIG9SZXEuYWRkRXZlbnRMaXN0ZW5lcignYWJvcnQnLCB0cmFuc2ZlckZhaWxlZCk7XG4gICAgICAgIG9SZXEub3BlbignR0VUJywgZm9udC51cmwpO1xuICAgICAgICBvUmVxLnJlc3BvbnNlVHlwZSA9ICdhcnJheWJ1ZmZlcic7XG4gICAgICAgIG9SZXEuc2VuZCgpO1xuXG4gICAgICAgIGZ1bmN0aW9uIGZvbnRMb2FkZWQoKSB7XG4gICAgICAgICAgLy8gVE9ETzogaXQgbWF5IGJlIGFsc28gd29ydGggdG8gd2FpdCB1bnRpbCBmb250cyBhcmUgZnVsbHkgbG9hZGVkIGJlZm9yZVxuICAgICAgICAgIC8vIGF0dGVtcHRpbmcgdG8gcmFzdGVyaXplIHRoZW0uIChlLmcuIHVzZSBodHRwczovL2RldmVsb3Blci5tb3ppbGxhLm9yZy9lbi1VUy9kb2NzL1dlYi9BUEkvRm9udEZhY2VTZXQgKVxuICAgICAgICAgIHZhciBmb250Qml0cyA9IG9SZXEucmVzcG9uc2U7XG4gICAgICAgICAgdmFyIGZvbnRJbkJhc2U2NCA9IGFycmF5QnVmZmVyVG9CYXNlNjQoZm9udEJpdHMpO1xuICAgICAgICAgIHVwZGF0ZUZvbnRTdHlsZShmb250LCBmb250SW5CYXNlNjQpO1xuICAgICAgICB9XG5cbiAgICAgICAgZnVuY3Rpb24gdHJhbnNmZXJGYWlsZWQoZSkge1xuICAgICAgICAgIGNvbnNvbGUud2FybignRmFpbGVkIHRvIGxvYWQgZm9udCBmcm9tOiAnICsgZm9udC51cmwpO1xuICAgICAgICAgIGNvbnNvbGUud2FybihlKVxuICAgICAgICAgIGNzcyArPSBmb250LnRleHQgKyAnXFxuJztcbiAgICAgICAgICBwcm9jZXNzRm9udFF1ZXVlKCk7XG4gICAgICAgIH1cblxuICAgICAgICBmdW5jdGlvbiB1cGRhdGVGb250U3R5bGUoZm9udCwgZm9udEluQmFzZTY0KSB7XG4gICAgICAgICAgdmFyIGRhdGFVcmwgPSAndXJsKFwiZGF0YTonICsgZm9udC5mb3JtYXQgKyAnO2Jhc2U2NCwnICsgZm9udEluQmFzZTY0ICsgJ1wiKSc7XG4gICAgICAgICAgY3NzICs9IGZvbnQudGV4dC5yZXBsYWNlKGZvbnQuZm9udFVybFJlZ2V4cCwgZGF0YVVybCkgKyAnXFxuJztcblxuICAgICAgICAgIC8vIHNjaGVkdWxlIG5leHQgZm9udCBkb3dubG9hZCBvbiBuZXh0IHRpY2suXG4gICAgICAgICAgc2V0VGltZW91dChmdW5jdGlvbigpIHtcbiAgICAgICAgICAgIHByb2Nlc3NGb250UXVldWUocXVldWUpXG4gICAgICAgICAgfSwgMCk7XG4gICAgICAgIH1cblxuICAgICAgfVxuICAgIH1cblxuICAgIGZ1bmN0aW9uIGFycmF5QnVmZmVyVG9CYXNlNjQoYnVmZmVyKSB7XG4gICAgICB2YXIgYmluYXJ5ID0gJyc7XG4gICAgICB2YXIgYnl0ZXMgPSBuZXcgVWludDhBcnJheShidWZmZXIpO1xuICAgICAgdmFyIGxlbiA9IGJ5dGVzLmJ5dGVMZW5ndGg7XG5cbiAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgbGVuOyBpKyspIHtcbiAgICAgICAgICBiaW5hcnkgKz0gU3RyaW5nLmZyb21DaGFyQ29kZShieXRlc1tpXSk7XG4gICAgICB9XG5cbiAgICAgIHJldHVybiB3aW5kb3cuYnRvYShiaW5hcnkpO1xuICAgIH1cbiAgfVxuXG4gIGZ1bmN0aW9uIGdldERpbWVuc2lvbihlbCwgY2xvbmUsIGRpbSkge1xuICAgIHZhciB2ID0gKGVsLnZpZXdCb3ggJiYgZWwudmlld0JveC5iYXNlVmFsICYmIGVsLnZpZXdCb3guYmFzZVZhbFtkaW1dKSB8fFxuICAgICAgKGNsb25lLmdldEF0dHJpYnV0ZShkaW0pICE9PSBudWxsICYmICFjbG9uZS5nZXRBdHRyaWJ1dGUoZGltKS5tYXRjaCgvJSQvKSAmJiBwYXJzZUludChjbG9uZS5nZXRBdHRyaWJ1dGUoZGltKSkpIHx8XG4gICAgICBlbC5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKVtkaW1dIHx8XG4gICAgICBwYXJzZUludChjbG9uZS5zdHlsZVtkaW1dKSB8fFxuICAgICAgcGFyc2VJbnQod2luZG93LmdldENvbXB1dGVkU3R5bGUoZWwpLmdldFByb3BlcnR5VmFsdWUoZGltKSk7XG4gICAgcmV0dXJuICh0eXBlb2YgdiA9PT0gJ3VuZGVmaW5lZCcgfHwgdiA9PT0gbnVsbCB8fCBpc05hTihwYXJzZUZsb2F0KHYpKSkgPyAwIDogdjtcbiAgfVxuXG4gIGZ1bmN0aW9uIHJlRW5jb2RlKGRhdGEpIHtcbiAgICBkYXRhID0gZW5jb2RlVVJJQ29tcG9uZW50KGRhdGEpO1xuICAgIGRhdGEgPSBkYXRhLnJlcGxhY2UoLyUoWzAtOUEtRl17Mn0pL2csIGZ1bmN0aW9uKG1hdGNoLCBwMSkge1xuICAgICAgdmFyIGMgPSBTdHJpbmcuZnJvbUNoYXJDb2RlKCcweCcrcDEpO1xuICAgICAgcmV0dXJuIGMgPT09ICclJyA/ICclMjUnIDogYztcbiAgICB9KTtcbiAgICByZXR1cm4gZGVjb2RlVVJJQ29tcG9uZW50KGRhdGEpO1xuICB9XG5cbiAgb3V0JC5wcmVwYXJlU3ZnID0gZnVuY3Rpb24oZWwsIG9wdGlvbnMsIGNiKSB7XG4gICAgcmVxdWlyZURvbU5vZGUoZWwpO1xuXG4gICAgb3B0aW9ucyA9IG9wdGlvbnMgfHwge307XG4gICAgb3B0aW9ucy5zY2FsZSA9IG9wdGlvbnMuc2NhbGUgfHwgMTtcbiAgICBvcHRpb25zLnJlc3BvbnNpdmUgPSBvcHRpb25zLnJlc3BvbnNpdmUgfHwgZmFsc2U7XG4gICAgdmFyIHhtbG5zID0gXCJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3htbG5zL1wiO1xuXG4gICAgaW5saW5lSW1hZ2VzKGVsLCBmdW5jdGlvbigpIHtcbiAgICAgIHZhciBvdXRlciA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIik7XG4gICAgICB2YXIgY2xvbmUgPSBlbC5jbG9uZU5vZGUodHJ1ZSk7XG4gICAgICB2YXIgd2lkdGgsIGhlaWdodDtcbiAgICAgIGlmKGVsLnRhZ05hbWUgPT0gJ3N2ZycpIHtcbiAgICAgICAgd2lkdGggPSBvcHRpb25zLndpZHRoIHx8IGdldERpbWVuc2lvbihlbCwgY2xvbmUsICd3aWR0aCcpO1xuICAgICAgICBoZWlnaHQgPSBvcHRpb25zLmhlaWdodCB8fCBnZXREaW1lbnNpb24oZWwsIGNsb25lLCAnaGVpZ2h0Jyk7XG4gICAgICB9IGVsc2UgaWYoZWwuZ2V0QkJveCkge1xuICAgICAgICB2YXIgYm94ID0gZWwuZ2V0QkJveCgpO1xuICAgICAgICB3aWR0aCA9IGJveC54ICsgYm94LndpZHRoO1xuICAgICAgICBoZWlnaHQgPSBib3gueSArIGJveC5oZWlnaHQ7XG4gICAgICAgIGNsb25lLnNldEF0dHJpYnV0ZSgndHJhbnNmb3JtJywgY2xvbmUuZ2V0QXR0cmlidXRlKCd0cmFuc2Zvcm0nKS5yZXBsYWNlKC90cmFuc2xhdGVcXCguKj9cXCkvLCAnJykpO1xuXG4gICAgICAgIHZhciBzdmcgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50TlMoJ2h0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnJywnc3ZnJylcbiAgICAgICAgc3ZnLmFwcGVuZENoaWxkKGNsb25lKVxuICAgICAgICBjbG9uZSA9IHN2ZztcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIGNvbnNvbGUuZXJyb3IoJ0F0dGVtcHRlZCB0byByZW5kZXIgbm9uLVNWRyBlbGVtZW50JywgZWwpO1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG5cbiAgICAgIGNsb25lLnNldEF0dHJpYnV0ZShcInZlcnNpb25cIiwgXCIxLjFcIik7XG4gICAgICBpZiAoIWNsb25lLmdldEF0dHJpYnV0ZSgneG1sbnMnKSkge1xuICAgICAgICBjbG9uZS5zZXRBdHRyaWJ1dGVOUyh4bWxucywgXCJ4bWxuc1wiLCBcImh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnXCIpO1xuICAgICAgfVxuICAgICAgaWYgKCFjbG9uZS5nZXRBdHRyaWJ1dGUoJ3htbG5zOnhsaW5rJykpIHtcbiAgICAgICAgY2xvbmUuc2V0QXR0cmlidXRlTlMoeG1sbnMsIFwieG1sbnM6eGxpbmtcIiwgXCJodHRwOi8vd3d3LnczLm9yZy8xOTk5L3hsaW5rXCIpO1xuICAgICAgfVxuXG4gICAgICBpZiAob3B0aW9ucy5yZXNwb25zaXZlKSB7XG4gICAgICAgIGNsb25lLnJlbW92ZUF0dHJpYnV0ZSgnd2lkdGgnKTtcbiAgICAgICAgY2xvbmUucmVtb3ZlQXR0cmlidXRlKCdoZWlnaHQnKTtcbiAgICAgICAgY2xvbmUuc2V0QXR0cmlidXRlKCdwcmVzZXJ2ZUFzcGVjdFJhdGlvJywgJ3hNaW5ZTWluIG1lZXQnKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIGNsb25lLnNldEF0dHJpYnV0ZShcIndpZHRoXCIsIHdpZHRoICogb3B0aW9ucy5zY2FsZSk7XG4gICAgICAgIGNsb25lLnNldEF0dHJpYnV0ZShcImhlaWdodFwiLCBoZWlnaHQgKiBvcHRpb25zLnNjYWxlKTtcbiAgICAgIH1cblxuICAgICAgY2xvbmUuc2V0QXR0cmlidXRlKFwidmlld0JveFwiLCBbXG4gICAgICAgIG9wdGlvbnMubGVmdCB8fCAwLFxuICAgICAgICBvcHRpb25zLnRvcCB8fCAwLFxuICAgICAgICB3aWR0aCxcbiAgICAgICAgaGVpZ2h0XG4gICAgICBdLmpvaW4oXCIgXCIpKTtcblxuICAgICAgdmFyIGZvcyA9IGNsb25lLnF1ZXJ5U2VsZWN0b3JBbGwoJ2ZvcmVpZ25PYmplY3QgPiAqJyk7XG4gICAgICBmb3IgKHZhciBpID0gMDsgaSA8IGZvcy5sZW5ndGg7IGkrKykge1xuICAgICAgICBpZiAoIWZvc1tpXS5nZXRBdHRyaWJ1dGUoJ3htbG5zJykpIHtcbiAgICAgICAgICBmb3NbaV0uc2V0QXR0cmlidXRlTlMoeG1sbnMsIFwieG1sbnNcIiwgXCJodHRwOi8vd3d3LnczLm9yZy8xOTk5L3hodG1sXCIpO1xuICAgICAgICB9XG4gICAgICB9XG5cbiAgICAgIG91dGVyLmFwcGVuZENoaWxkKGNsb25lKTtcblxuICAgICAgLy8gSW4gY2FzZSBvZiBjdXN0b20gZm9udHMgd2UgbmVlZCB0byBmZXRjaCBmb250IGZpcnN0LCBhbmQgdGhlbiBpbmxpbmVcbiAgICAgIC8vIGl0cyB1cmwgaW50byBkYXRhLXVyaSBmb3JtYXQgKGVuY29kZSBhcyBiYXNlNjQpLiBUaGF0J3Mgd2h5IHN0eWxlXG4gICAgICAvLyBwcm9jZXNzaW5nIGlzIGRvbmUgYXN5bmNob25vdXNseS4gT25jZSBhbGwgaW5saW5pbmcgaXMgZmluc2hlZFxuICAgICAgLy8gY3NzTG9hZGVkQ2FsbGJhY2soKSBpcyBjYWxsZWQuXG4gICAgICBzdHlsZXMoZWwsIG9wdGlvbnMsIGNzc0xvYWRlZENhbGxiYWNrKTtcblxuICAgICAgZnVuY3Rpb24gY3NzTG9hZGVkQ2FsbGJhY2soY3NzKSB7XG4gICAgICAgIC8vIGhlcmUgYWxsIGZvbnRzIGFyZSBpbmxpbmVkLCBzbyB0aGF0IHdlIGNhbiByZW5kZXIgdGhlbSBwcm9wZXJseS5cbiAgICAgICAgdmFyIHMgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdzdHlsZScpO1xuICAgICAgICBzLnNldEF0dHJpYnV0ZSgndHlwZScsICd0ZXh0L2NzcycpO1xuICAgICAgICBzLmlubmVySFRNTCA9IFwiPCFbQ0RBVEFbXFxuXCIgKyBjc3MgKyBcIlxcbl1dPlwiO1xuICAgICAgICB2YXIgZGVmcyA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RlZnMnKTtcbiAgICAgICAgZGVmcy5hcHBlbmRDaGlsZChzKTtcbiAgICAgICAgY2xvbmUuaW5zZXJ0QmVmb3JlKGRlZnMsIGNsb25lLmZpcnN0Q2hpbGQpO1xuXG4gICAgICAgIGlmIChjYikge1xuICAgICAgICAgIHZhciBvdXRIdG1sID0gb3V0ZXIuaW5uZXJIVE1MO1xuICAgICAgICAgIG91dEh0bWwgPSBvdXRIdG1sLnJlcGxhY2UoL05TXFxkKzpocmVmL2dpLCAneG1sbnM6eGxpbms9XCJodHRwOi8vd3d3LnczLm9yZy8xOTk5L3hsaW5rXCIgeGxpbms6aHJlZicpO1xuICAgICAgICAgIGNiKG91dEh0bWwsIHdpZHRoLCBoZWlnaHQpO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfSk7XG4gIH1cblxuICBvdXQkLnN2Z0FzRGF0YVVyaSA9IGZ1bmN0aW9uKGVsLCBvcHRpb25zLCBjYikge1xuICAgIG91dCQucHJlcGFyZVN2ZyhlbCwgb3B0aW9ucywgZnVuY3Rpb24oc3ZnKSB7XG4gICAgICB2YXIgdXJpID0gJ2RhdGE6aW1hZ2Uvc3ZnK3htbDtiYXNlNjQsJyArIHdpbmRvdy5idG9hKHJlRW5jb2RlKGRvY3R5cGUgKyBzdmcpKTtcbiAgICAgIGlmIChjYikge1xuICAgICAgICBjYih1cmkpO1xuICAgICAgfVxuICAgIH0pO1xuICB9XG5cbiAgb3V0JC5zdmdBc1BuZ1VyaSA9IGZ1bmN0aW9uKGVsLCBvcHRpb25zLCBjYikge1xuICAgIHJlcXVpcmVEb21Ob2RlKGVsKTtcblxuICAgIG9wdGlvbnMgPSBvcHRpb25zIHx8IHt9O1xuICAgIG9wdGlvbnMuZW5jb2RlclR5cGUgPSBvcHRpb25zLmVuY29kZXJUeXBlIHx8ICdpbWFnZS9wbmcnO1xuICAgIG9wdGlvbnMuZW5jb2Rlck9wdGlvbnMgPSBvcHRpb25zLmVuY29kZXJPcHRpb25zIHx8IDAuODtcblxuICAgIHZhciBjb252ZXJ0VG9QbmcgPSBmdW5jdGlvbihzcmMsIHcsIGgpIHtcbiAgICAgIHZhciBjYW52YXMgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdjYW52YXMnKTtcbiAgICAgIHZhciBjb250ZXh0ID0gY2FudmFzLmdldENvbnRleHQoJzJkJyk7XG4gICAgICBjYW52YXMud2lkdGggPSB3O1xuICAgICAgY2FudmFzLmhlaWdodCA9IGg7XG5cbiAgICAgIGlmKG9wdGlvbnMuY2FudmcpIHtcbiAgICAgICAgb3B0aW9ucy5jYW52ZyhjYW52YXMsIHNyYyk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBjb250ZXh0LmRyYXdJbWFnZShzcmMsIDAsIDApO1xuICAgICAgfVxuXG4gICAgICBpZihvcHRpb25zLmJhY2tncm91bmRDb2xvcil7XG4gICAgICAgIGNvbnRleHQuZ2xvYmFsQ29tcG9zaXRlT3BlcmF0aW9uID0gJ2Rlc3RpbmF0aW9uLW92ZXInO1xuICAgICAgICBjb250ZXh0LmZpbGxTdHlsZSA9IG9wdGlvbnMuYmFja2dyb3VuZENvbG9yO1xuICAgICAgICBjb250ZXh0LmZpbGxSZWN0KDAsIDAsIGNhbnZhcy53aWR0aCwgY2FudmFzLmhlaWdodCk7XG4gICAgICB9XG5cbiAgICAgIHZhciBwbmc7XG4gICAgICB0cnkge1xuICAgICAgICBwbmcgPSBjYW52YXMudG9EYXRhVVJMKG9wdGlvbnMuZW5jb2RlclR5cGUsIG9wdGlvbnMuZW5jb2Rlck9wdGlvbnMpO1xuICAgICAgfSBjYXRjaCAoZSkge1xuICAgICAgICBpZiAoKHR5cGVvZiBTZWN1cml0eUVycm9yICE9PSAndW5kZWZpbmVkJyAmJiBlIGluc3RhbmNlb2YgU2VjdXJpdHlFcnJvcikgfHwgZS5uYW1lID09IFwiU2VjdXJpdHlFcnJvclwiKSB7XG4gICAgICAgICAgY29uc29sZS5lcnJvcihcIlJlbmRlcmVkIFNWRyBpbWFnZXMgY2Fubm90IGJlIGRvd25sb2FkZWQgaW4gdGhpcyBicm93c2VyLlwiKTtcbiAgICAgICAgICByZXR1cm47XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgdGhyb3cgZTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgY2IocG5nKTtcbiAgICB9XG5cbiAgICBpZihvcHRpb25zLmNhbnZnKSB7XG4gICAgICBvdXQkLnByZXBhcmVTdmcoZWwsIG9wdGlvbnMsIGNvbnZlcnRUb1BuZyk7XG4gICAgfSBlbHNlIHtcbiAgICAgIG91dCQuc3ZnQXNEYXRhVXJpKGVsLCBvcHRpb25zLCBmdW5jdGlvbih1cmkpIHtcbiAgICAgICAgdmFyIGltYWdlID0gbmV3IEltYWdlKCk7XG5cbiAgICAgICAgaW1hZ2Uub25sb2FkID0gZnVuY3Rpb24oKSB7XG4gICAgICAgICAgY29udmVydFRvUG5nKGltYWdlLCBpbWFnZS53aWR0aCwgaW1hZ2UuaGVpZ2h0KTtcbiAgICAgICAgfVxuXG4gICAgICAgIGltYWdlLm9uZXJyb3IgPSBmdW5jdGlvbigpIHtcbiAgICAgICAgICBjb25zb2xlLmVycm9yKFxuICAgICAgICAgICAgJ1RoZXJlIHdhcyBhbiBlcnJvciBsb2FkaW5nIHRoZSBkYXRhIFVSSSBhcyBhbiBpbWFnZSBvbiB0aGUgZm9sbG93aW5nIFNWR1xcbicsXG4gICAgICAgICAgICB3aW5kb3cuYXRvYih1cmkuc2xpY2UoMjYpKSwgJ1xcbicsXG4gICAgICAgICAgICBcIk9wZW4gdGhlIGZvbGxvd2luZyBsaW5rIHRvIHNlZSBicm93c2VyJ3MgZGlhZ25vc2lzXFxuXCIsXG4gICAgICAgICAgICB1cmkpO1xuICAgICAgICB9XG5cbiAgICAgICAgaW1hZ2Uuc3JjID0gdXJpO1xuICAgICAgfSk7XG4gICAgfVxuICB9XG5cbiAgb3V0JC5kb3dubG9hZCA9IGZ1bmN0aW9uKG5hbWUsIHVyaSkge1xuICAgIGlmIChuYXZpZ2F0b3IubXNTYXZlT3JPcGVuQmxvYikge1xuICAgICAgbmF2aWdhdG9yLm1zU2F2ZU9yT3BlbkJsb2IodXJpVG9CbG9iKHVyaSksIG5hbWUpO1xuICAgIH0gZWxzZSB7XG4gICAgICB2YXIgc2F2ZUxpbmsgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdhJyk7XG4gICAgICB2YXIgZG93bmxvYWRTdXBwb3J0ZWQgPSAnZG93bmxvYWQnIGluIHNhdmVMaW5rO1xuICAgICAgaWYgKGRvd25sb2FkU3VwcG9ydGVkKSB7XG4gICAgICAgIHNhdmVMaW5rLmRvd25sb2FkID0gbmFtZTtcbiAgICAgICAgc2F2ZUxpbmsuc3R5bGUuZGlzcGxheSA9ICdub25lJztcbiAgICAgICAgZG9jdW1lbnQuYm9keS5hcHBlbmRDaGlsZChzYXZlTGluayk7XG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgdmFyIGJsb2IgPSB1cmlUb0Jsb2IodXJpKTtcbiAgICAgICAgICB2YXIgdXJsID0gVVJMLmNyZWF0ZU9iamVjdFVSTChibG9iKTtcbiAgICAgICAgICBzYXZlTGluay5ocmVmID0gdXJsO1xuICAgICAgICAgIHNhdmVMaW5rLm9uY2xpY2sgPSBmdW5jdGlvbigpIHtcbiAgICAgICAgICAgIHJlcXVlc3RBbmltYXRpb25GcmFtZShmdW5jdGlvbigpIHtcbiAgICAgICAgICAgICAgVVJMLnJldm9rZU9iamVjdFVSTCh1cmwpO1xuICAgICAgICAgICAgfSlcbiAgICAgICAgICB9O1xuICAgICAgICB9IGNhdGNoIChlKSB7XG4gICAgICAgICAgY29uc29sZS53YXJuKCdUaGlzIGJyb3dzZXIgZG9lcyBub3Qgc3VwcG9ydCBvYmplY3QgVVJMcy4gRmFsbGluZyBiYWNrIHRvIHN0cmluZyBVUkwuJyk7XG4gICAgICAgICAgc2F2ZUxpbmsuaHJlZiA9IHVyaTtcbiAgICAgICAgfVxuICAgICAgICBzYXZlTGluay5jbGljaygpO1xuICAgICAgICBkb2N1bWVudC5ib2R5LnJlbW92ZUNoaWxkKHNhdmVMaW5rKTtcbiAgICAgIH1cbiAgICAgIGVsc2Uge1xuICAgICAgICB3aW5kb3cub3Blbih1cmksICdfdGVtcCcsICdtZW51YmFyPW5vLHRvb2xiYXI9bm8sc3RhdHVzPW5vJyk7XG4gICAgICB9XG4gICAgfVxuICB9XG5cbiAgZnVuY3Rpb24gdXJpVG9CbG9iKHVyaSkge1xuICAgIHZhciBieXRlU3RyaW5nID0gd2luZG93LmF0b2IodXJpLnNwbGl0KCcsJylbMV0pO1xuICAgIHZhciBtaW1lU3RyaW5nID0gdXJpLnNwbGl0KCcsJylbMF0uc3BsaXQoJzonKVsxXS5zcGxpdCgnOycpWzBdXG4gICAgdmFyIGJ1ZmZlciA9IG5ldyBBcnJheUJ1ZmZlcihieXRlU3RyaW5nLmxlbmd0aCk7XG4gICAgdmFyIGludEFycmF5ID0gbmV3IFVpbnQ4QXJyYXkoYnVmZmVyKTtcbiAgICBmb3IgKHZhciBpID0gMDsgaSA8IGJ5dGVTdHJpbmcubGVuZ3RoOyBpKyspIHtcbiAgICAgIGludEFycmF5W2ldID0gYnl0ZVN0cmluZy5jaGFyQ29kZUF0KGkpO1xuICAgIH1cbiAgICByZXR1cm4gbmV3IEJsb2IoW2J1ZmZlcl0sIHt0eXBlOiBtaW1lU3RyaW5nfSk7XG4gIH1cblxuICBvdXQkLnNhdmVTdmcgPSBmdW5jdGlvbihlbCwgbmFtZSwgb3B0aW9ucykge1xuICAgIHJlcXVpcmVEb21Ob2RlKGVsKTtcblxuICAgIG9wdGlvbnMgPSBvcHRpb25zIHx8IHt9O1xuICAgIG91dCQuc3ZnQXNEYXRhVXJpKGVsLCBvcHRpb25zLCBmdW5jdGlvbih1cmkpIHtcbiAgICAgIG91dCQuZG93bmxvYWQobmFtZSwgdXJpKTtcbiAgICB9KTtcbiAgfVxuXG4gIG91dCQuc2F2ZVN2Z0FzUG5nID0gZnVuY3Rpb24oZWwsIG5hbWUsIG9wdGlvbnMpIHtcbiAgICByZXF1aXJlRG9tTm9kZShlbCk7XG5cbiAgICBvcHRpb25zID0gb3B0aW9ucyB8fCB7fTtcbiAgICBvdXQkLnN2Z0FzUG5nVXJpKGVsLCBvcHRpb25zLCBmdW5jdGlvbih1cmkpIHtcbiAgICAgIG91dCQuZG93bmxvYWQobmFtZSwgdXJpKTtcbiAgICB9KTtcbiAgfVxuXG4gIC8vIGlmIGRlZmluZSBpcyBkZWZpbmVkIGNyZWF0ZSBhcyBhbiBBTUQgbW9kdWxlXG4gIGlmICh0eXBlb2YgZGVmaW5lICE9PSAndW5kZWZpbmVkJykge1xuICAgIGRlZmluZShmdW5jdGlvbigpIHtcbiAgICAgIHJldHVybiBvdXQkO1xuICAgIH0pO1xuICB9XG5cbn0pKCk7XG4iLCJleHBvcnQgZnVuY3Rpb24gcmVxdWlyZXMocHJvcHMpIHtcclxuICByZXR1cm4gZnVuY3Rpb24gZGVjb3JhdG9yKHRhcmdldCwgbmFtZSwgZGVzY3JpcHRvcikge1xyXG4gICAgdmFyIG9sZFZhbHVlID0gZGVzY3JpcHRvci52YWx1ZTtcclxuXHJcbiAgICBkZXNjcmlwdG9yLnZhbHVlID0gZnVuY3Rpb24oKSB7XHJcbiAgICAgIGlmICghaGFzRGF0YShnZXRQcm9wZXJ0eSh0aGlzLmRhdGEsIHByb3BzKSkpIHtcclxuICAgICAgICB0aGlzLmxvZ2dlci5kZWJ1ZyhgTm8gZGF0YSBoZXJlIFske3Byb3BzfV0sIG5vdGhpbmcgdG8gcmVuZGVyLi4uIGNvbnRpbnVpbmcuLi5gKTtcclxuICAgICAgICByZXR1cm47XHJcbiAgICAgIH1cclxuICAgICAgcmV0dXJuIG9sZFZhbHVlLmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7XHJcbiAgICB9O1xyXG5cclxuICAgIHJldHVybiBkZXNjcmlwdG9yO1xyXG4gIH07XHJcbn1cclxuXHJcbmZ1bmN0aW9uIGdldFByb3BlcnR5KG9iaiwgcHJvcGVydHlQYXRoKSB7XHJcblxyXG4gIHZhciB0bXAgPSBvYmo7XHJcblxyXG4gIGlmICh0bXAgJiYgcHJvcGVydHlQYXRoKSB7XHJcbiAgICB2YXIgcHJvcGVydGllcyA9IHByb3BlcnR5UGF0aC5zcGxpdCgnLicpO1xyXG5cclxuICAgIGZvciAodmFyIHByb3BlcnR5IG9mIHByb3BlcnRpZXMpIHtcclxuICAgICAgaWYgKCF0bXAuaGFzT3duUHJvcGVydHkocHJvcGVydHkpKSB7XHJcbiAgICAgICAgdG1wID0gdW5kZWZpbmVkO1xyXG4gICAgICAgIGJyZWFrO1xyXG4gICAgICB9XHJcbiAgICAgIGVsc2Uge1xyXG4gICAgICAgIHRtcCA9IHRtcFtwcm9wZXJ0eV07XHJcbiAgICAgIH1cclxuICAgIH1cclxuICB9XHJcblxyXG4gIHJldHVybiB0bXA7XHJcbn1cclxuXHJcbmZ1bmN0aW9uIGhhc0RhdGEob2JqKSB7XHJcbiAgcmV0dXJuIG9iaiAmJiAoKG9iaiBpbnN0YW5jZW9mIEFycmF5ICYmIG9iai5sZW5ndGgpIHx8IChvYmogaW5zdGFuY2VvZiBPYmplY3QgJiYgT2JqZWN0LnZhbHVlcyhvYmopLmxlbmd0aCkpO1xyXG59XHJcbiIsImltcG9ydCBGcmFtZSBmcm9tICcuL3JlbmRlci9mcmFtZSc7XHJcbmltcG9ydCBSZW5kZXJlciBmcm9tICcuL3JlbmRlci9yZW5kZXJlcic7XHJcblxyXG5sZXQgQUxMX0NBTlZBUyA9IHt9O1xyXG5cclxuLyoqXHJcbiAqIEZyYW5jeSBpcyB0aGUgbWFpbiBlbnRyeSBwb2ludCBmb3IgdGhlIHdob2xlIGZyYW1ld29yay4gQnkgcGFzc2luZyBhbiBpbnB1dCBzdHJpbmcvb2JqZWN0IHRvIHRoZSB7RnJhbmN5LmhhbmRsZX0gZnVuY3Rpb24sXHJcbiAqIEZyYW5jeSB3aWxsIGhhbmRsZSB0aGUgY3JlYXRpb24gb2YgdGhhdCBqc29uIGFzIGxvbmcgaXQgaXMgYSB2YWxpZCBhbmQgdW5kZXJzdGFuZGFibGUganNvbiBvYmplY3QgdG8gRnJhbmN5LlxyXG4gKiBAYWNjZXNzIHB1YmxpY1xyXG4gKiBcclxuICogQHZlcnNpb24gMC41LjBcclxuICogXHJcbiAqIEBleGFtcGxlXHJcbiAqIGxldCBmcmFuY3kgPSBuZXcgRnJhbmN5KHt2ZXJib3NlOiB0cnVlLCBhcHBlbmRUbzogJyNkaXYtaWQnLCBjYWxsYmFja0hhbmRsZXI6IGNvbnNvbGUubG9nfSk7XHJcbiAqIGZyYW5jeS5sb2FkKGpzb24pLnJlbmRlcigpO1xyXG4gKi9cclxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgRnJhbmN5IGV4dGVuZHMgUmVuZGVyZXIge1xyXG5cclxuICAvKipcclxuICAgKiBDcmVhdGVzIGFuIGluc3RhbmNlIG9mIEZyYW5jeSB3aXRoIHRoZSBmb2xsb3dpbmcgb3B0aW9uczpcclxuICAgKiBAdHlwZWRlZiB7T2JqZWN0fSBPcHRpb25zXHJcbiAgICogQHByb3BlcnR5IHtCb29sZWFufSB2ZXJib3NlIHByaW50cyBleHRyYSBsb2cgaW5mb3JtYXRpb24gdG8gY29uc29sZS5sb2csIGRlZmF1bHQgZmFsc2VcclxuICAgKiBAcHJvcGVydHkge0Jvb2xlYW59IGFwcGVuZFRvIHdoZXJlIHRoZSBnZW5lcmF0ZWQgaHRtbC9zdmcgY29tcG9uZW50cyB3aWxsIGJlIGF0dGFjaGVkIHRvLCBkZWZhdWx0IGJvZHlcclxuICAgKiBAcHJvcGVydHkge0Z1bmN0aW9ufSBjYWxsYmFja0hhbmRsZXIgdGhpcyBoYW5kbGVyIHdpbGwgYmUgdXNlZCB0byBpbnZva2UgYWN0aW9ucyBmcm9tIHRoZSBtZW51LCBkZWZhdWx0IGNvbnNvbGUubG9nXHJcbiAgICovXHJcbiAgY29uc3RydWN0b3IoeyB2ZXJib3NlID0gZmFsc2UsIGFwcGVuZFRvLCBjYWxsYmFja0hhbmRsZXIgfSkge1xyXG4gICAgc3VwZXIoeyB2ZXJib3NlOiB2ZXJib3NlLCBhcHBlbmRUbzogYXBwZW5kVG8sIGNhbGxiYWNrSGFuZGxlcjogY2FsbGJhY2tIYW5kbGVyIH0pO1xyXG4gICAgLy9pZiAoIWQzKSB7XHJcbiAgICAvLyAgdGhyb3cgbmV3IEVycm9yKCdEMyBpcyBub3QgaW1wb3J0ZWQhIEZyYW5jeSB3b25cXCd0IHdvcmsgd2l0aG91dCBpdC4uLiBwbGVhc2UgaW1wb3J0IEQzIHY0Ky4nKTtcclxuICAgIC8vfVxyXG4gIH1cclxuXHJcbiAgLyoqXHJcbiAgICogTWFpbiBlbnRyeSBwb2ludC4gQ2FsbGluZyByZW5kZXIgcGFzc2luZyBhIGpzb24gcmVwcmVzZW50YXRpb24gc3RyaW5nIHdpbGwgXHJcbiAgICogdHJpZ2dlciB0aGUgZHJhd2luZyBvZiBhIGpzb24gb2JqZWN0LlxyXG4gICAqIEByZXR1cm5zIHtPYmplY3R9IHRoZSBodG1sIGVsZW1lbnQgY3JlYXRlZFxyXG4gICAqL1xyXG4gIHJlbmRlcigpIHtcclxuICAgIGxldCBmcmFtZSA9IG5ldyBGcmFtZSh0aGlzLm9wdGlvbnMpLmxvYWQodGhpcy5kYXRhKS5yZW5kZXIoKTtcclxuICAgIEFMTF9DQU5WQVNbdGhpcy5kYXRhLmNhbnZhcy5pZF0gPSBmcmFtZTtcclxuICAgIHJldHVybiBmcmFtZS5lbGVtZW50Lm5vZGUoKTtcclxuICB9XHJcblxyXG4gIHN0YXRpYyB1bnJlbmRlcihpZCkge1xyXG4gICAgZGVsZXRlIEFMTF9DQU5WQVNbaWRdO1xyXG4gIH1cclxufVxyXG4vKiBlc2xpbnQtZGlzYWJsZSBuby1jb25zb2xlICovXHJcbmxldCBmcmFuY3kgPSBuZXcgRnJhbmN5KHt2ZXJib3NlOiBmYWxzZSwgYXBwZW5kVG86ICdib2R5JywgY2FsbGJhY2tIYW5kbGVyOiBjb25zb2xlLmxvZ30pO1xyXG4vKiBlc2xpbnQtZW5hYmxlIG5vLWNvbnNvbGUgKi9cclxuXHJcbnRyeSB7XHJcbiAgZXhwb3J0cy5GcmFuY3kgPSB3aW5kb3cuRnJhbmN5ID0gZnJhbmN5O1xyXG4gIC8vIGhhbmRsZSBldmVudHMgb24gcmVzaXplXHJcbiAgbGV0IG9sZFJlc2l6ZSA9IHdpbmRvdy5vbnJlc2l6ZTtcclxuICB3aW5kb3cub25yZXNpemUgPSBmdW5jdGlvbigpIHtcclxuICAgIC8vIHpvb20gdG8gZml0IGFsbCBjYW52YXMgb24gcmVzaXplXHJcbiAgICBPYmplY3QudmFsdWVzKEFMTF9DQU5WQVMpLmZvckVhY2goZnVuY3Rpb24oZnJhbWUpIHtcclxuICAgICAgZnJhbWUuY2FudmFzLnpvb21Ub0ZpdCgpO1xyXG4gICAgfSk7XHJcbiAgICAvLyBjYWxsIG9sZCByZXNpemUgZnVuY3Rpb24gaWYgYW55IVxyXG4gICAgaWYgKHR5cGVvZiBvbGRSZXNpemUgPT09ICdmdW5jdGlvbicpIHtcclxuICAgICAgb2xkUmVzaXplKCk7XHJcbiAgICB9XHJcbiAgfTtcclxufVxyXG5jYXRjaCAoZSkge1xyXG4gIGV4cG9ydHMuRnJhbmN5ID0gZnJhbmN5O1xyXG59XHJcbiIsImltcG9ydCBMb2dnZXIgZnJvbSAnLi4vdXRpbC9sb2dnZXInO1xyXG5pbXBvcnQgSnNvblV0aWxzIGZyb20gJy4uL3V0aWwvanNvbi11dGlscyc7XHJcblxyXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBCYXNlIHtcclxuXHJcbiAgY29uc3RydWN0b3IoeyB2ZXJib3NlID0gZmFsc2UsIGFwcGVuZFRvID0gJ2JvZHknLCBjYWxsYmFja0hhbmRsZXIgfSkge1xyXG4gICAgdGhpcy5zZXR0aW5ncyh7IHZlcmJvc2U6IHZlcmJvc2UsIGFwcGVuZFRvOiBhcHBlbmRUbywgY2FsbGJhY2tIYW5kbGVyOiBjYWxsYmFja0hhbmRsZXIgfSk7XHJcbiAgICAvKipcclxuICAgICAqIEB0eXBlIHtMb2dnZXJ9IHRoZSBsb2dnZXIgZm9yIHRoaXMgY2xhc3NcclxuICAgICAqL1xyXG4gICAgdGhpcy5sb2cgPSBuZXcgTG9nZ2VyKHRoaXMub3B0aW9ucyk7XHJcbiAgfVxyXG5cclxuICBzZXR0aW5ncyh7IHZlcmJvc2UsIGFwcGVuZFRvLCBjYWxsYmFja0hhbmRsZXIgfSkge1xyXG4gICAgdGhpcy5vcHRpb25zID0gdGhpcy5vcHRpb25zIHx8IHt9O1xyXG4gICAgaWYgKCF0aGlzLm9wdGlvbnMuY2FsbGJhY2tIYW5kbGVyICYmICFjYWxsYmFja0hhbmRsZXIpIHtcclxuICAgICAgdGhyb3cgbmV3IEVycm9yKCdBIENhbGxiYWNrIEhhbmRsZXIgbXVzdCBiZSBwcm92aWRlZCEgVGhpcyB3aWxsIGJlIHVzZWQgdG8gdHJpZ2dlciBldmVudHMgZnJvbSB0aGUgZ3JhcGhpY3MgcHJvZHVjZWQuLi4nKTtcclxuICAgIH1cclxuICAgIGlmICghdGhpcy5vcHRpb25zLmFwcGVuZFRvICYmICFhcHBlbmRUbykge1xyXG4gICAgICB0aHJvdyBuZXcgRXJyb3IoJ01pc3NpbmcgYW4gZWxlbWVudCBvciBpZCB0byBhcHBlbmQgdGhlIGdyYXBoaWNzIHRvLi4uIScpO1xyXG4gICAgfVxyXG4gICAgLyoqXHJcbiAgICAgKiBAdHlwZWRlZiB7T2JqZWN0fSBPcHRpb25zXHJcbiAgICAgKiBAcHJvcGVydHkge0Jvb2xlYW59IHZlcmJvc2UgcHJpbnRzIGV4dHJhIGxvZyBpbmZvcm1hdGlvbiB0byBjb25zb2xlLmxvZywgZGVmYXVsdCBmYWxzZVxyXG4gICAgICogQHByb3BlcnR5IHtCb29sZWFufSBhcHBlbmRUbyB3aGVyZSB0aGUgZ2VuZXJhdGVkIGh0bWwvc3ZnIGNvbXBvbmVudHMgd2lsbCBiZSBhdHRhY2hlZCB0bywgZGVmYXVsdCBib2R5XHJcbiAgICAgKiBAcHJvcGVydHkge0Z1bmN0aW9ufSBjYWxsYmFja0hhbmRsZXIgdGhpcyBoYW5kbGVyIHdpbGwgYmUgdXNlZCB0byBpbnZva2UgYWN0aW9ucyBmcm9tIHRoZSBtZW51LCBkZWZhdWx0IGNvbnNvbGUubG9nXHJcbiAgICAgKi9cclxuICAgIHRoaXMub3B0aW9ucy52ZXJib3NlID0gdmVyYm9zZSB8fCB0aGlzLm9wdGlvbnMudmVyYm9zZTtcclxuICAgIHRoaXMub3B0aW9ucy5hcHBlbmRUbyA9IGFwcGVuZFRvIHx8IHRoaXMub3B0aW9ucy52ZXJib3NlO1xyXG4gICAgdGhpcy5vcHRpb25zLmNhbGxiYWNrSGFuZGxlciA9IGNhbGxiYWNrSGFuZGxlciB8fCB0aGlzLm9wdGlvbnMuY2FsbGJhY2tIYW5kbGVyO1xyXG4gICAgcmV0dXJuIHRoaXM7XHJcbiAgfVxyXG5cclxuICBsb2FkKGpzb24sIHBhcnRpYWwpIHtcclxuICAgIGxldCBkYXRhID0gSnNvblV0aWxzLnBhcnNlKGpzb24sIHBhcnRpYWwpO1xyXG4gICAgaWYgKGRhdGEpIHtcclxuICAgICAgdGhpcy5kYXRhID0gZGF0YTtcclxuICAgIH1cclxuICAgIHJldHVybiB0aGlzO1xyXG4gIH1cclxuXHJcbiAgZ2V0IGxvZ2dlcigpIHtcclxuICAgIHJldHVybiB0aGlzLmxvZztcclxuICB9XHJcblxyXG59XHJcbiIsImltcG9ydCBCYXNlIGZyb20gJy4vYmFzZSc7XHJcbmltcG9ydCBSZXF1aXJlZEFyZ3NNb2RhbCBmcm9tICcuL21vZGFsLXJlcXVpcmVkJztcclxuaW1wb3J0IHsgcmVxdWlyZXMgfSBmcm9tICcuLi9kZWNvcmF0b3IvZGF0YSc7XHJcblxyXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBDYWxsYmFja0hhbmRsZXIgZXh0ZW5kcyBCYXNlIHtcclxuXHJcbiAgY29uc3RydWN0b3IoeyB2ZXJib3NlID0gZmFsc2UsIGFwcGVuZFRvLCBjYWxsYmFja0hhbmRsZXIgfSkge1xyXG4gICAgc3VwZXIoeyB2ZXJib3NlOiB2ZXJib3NlLCBhcHBlbmRUbzogYXBwZW5kVG8sIGNhbGxiYWNrSGFuZGxlcjogY2FsbGJhY2tIYW5kbGVyIH0pO1xyXG4gICAgdGhpcy5jYWxsYmFjayA9IGNhbGxiYWNrSGFuZGxlcjtcclxuICB9XHJcblxyXG4gIEByZXF1aXJlcygnY2FsbGJhY2snKVxyXG4gIGV4ZWN1dGUoKSB7XHJcbiAgICBpZiAoT2JqZWN0LmtleXModGhpcy5kYXRhLmNhbGxiYWNrLnJlcXVpcmVkQXJncykubGVuZ3RoKSB7XHJcbiAgICAgIGxldCBvcHRpb25zID0gdGhpcy5vcHRpb25zO1xyXG4gICAgICBvcHRpb25zLmNhbGxiYWNrSGFuZGxlciA9IChjYWxsYmFja09iaikgPT4gdGhpcy5fZXhlY3V0ZS5jYWxsKHRoaXMsIGNhbGxiYWNrT2JqKTtcclxuICAgICAgcmV0dXJuIG5ldyBSZXF1aXJlZEFyZ3NNb2RhbChvcHRpb25zKS5sb2FkKHRoaXMuZGF0YSwgdHJ1ZSkucmVuZGVyKCk7XHJcbiAgICB9XHJcbiAgICBlbHNlIHtcclxuICAgICAgLy8gVHJpZ2dlciBpcyB0aGUgZXhwZWN0ZWQgY29tbWFuZCBvbiBHQVAgZm9yIHRoaXMgZXZlbnRzIVxyXG4gICAgICB0aGlzLl9leGVjdXRlKHRoaXMuZGF0YS5jYWxsYmFjayk7XHJcbiAgICB9XHJcbiAgfVxyXG5cclxuICBfZXhlY3V0ZShjYWxiYWNrT2JqKSB7XHJcbiAgICB0aGlzLmNhbGxiYWNrKGBUcmlnZ2VyKCR7SlNPTi5zdHJpbmdpZnkoSlNPTi5zdHJpbmdpZnkoY2FsYmFja09iaikpfSk7YCk7XHJcbiAgfVxyXG59XHJcbiIsImltcG9ydCBDb21wb3NpdGUgZnJvbSAnLi9jb21wb3NpdGUnO1xyXG5pbXBvcnQgR3JhcGggZnJvbSAnLi9ncmFwaCc7XHJcbmltcG9ydCBDaGFydCBmcm9tICcuL2NoYXJ0JztcclxuaW1wb3J0IHsgcmVxdWlyZXMgfSBmcm9tICcuLi9kZWNvcmF0b3IvZGF0YSc7XHJcblxyXG4vKiBnbG9iYWwgZDMgKi9cclxuXHJcbmV4cG9ydCBkZWZhdWx0IGNsYXNzIENhbnZhcyBleHRlbmRzIENvbXBvc2l0ZSB7XHJcblxyXG4gIGNvbnN0cnVjdG9yKHsgdmVyYm9zZSA9IGZhbHNlLCBhcHBlbmRUbywgY2FsbGJhY2tIYW5kbGVyIH0pIHtcclxuICAgIHN1cGVyKHsgdmVyYm9zZTogdmVyYm9zZSwgYXBwZW5kVG86IGFwcGVuZFRvLCBjYWxsYmFja0hhbmRsZXI6IGNhbGxiYWNrSGFuZGxlciB9KTtcclxuICAgIHRoaXMuZ3JhcGggPSBuZXcgR3JhcGgodGhpcy5vcHRpb25zKTtcclxuICAgIHRoaXMuY2hhcnQgPSBuZXcgQ2hhcnQodGhpcy5vcHRpb25zKTtcclxuICAgIHRoaXMuYWRkKHRoaXMuZ3JhcGgpLmFkZCh0aGlzLmNoYXJ0KTtcclxuICB9XHJcblxyXG4gIEByZXF1aXJlcygnY2FudmFzJylcclxuICByZW5kZXIoKSB7XHJcbiAgICBsZXQgY29udGVudDtcclxuICAgIGxldCB6b29tID0gZDMuem9vbSgpO1xyXG4gICAgbGV0IHBhcmVudCA9IHRoaXMub3B0aW9ucy5hcHBlbmRUby5lbGVtZW50O1xyXG4gICAgbGV0IHNlbGYgPSB0aGlzO1xyXG5cclxuICAgIGZ1bmN0aW9uIHVwZGF0ZVpvb20odHJhbnNsYXRlWCwgdHJhbnNsYXRlWSwgc2NhbGUpIHtcclxuICAgICAgc2VsZi5lbGVtZW50LmNhbGwoem9vbS50cmFuc2Zvcm0sIGQzLnpvb21JZGVudGl0eS50cmFuc2xhdGUodHJhbnNsYXRlWCwgdHJhbnNsYXRlWSkuc2NhbGUoc2NhbGUsIHNjYWxlKSk7XHJcbiAgICB9XHJcblxyXG4gICAgZnVuY3Rpb24gem9vbWVkKCkge1xyXG4gICAgICBjb250ZW50LmF0dHIoXCJ0cmFuc2Zvcm1cIiwgZDMuZXZlbnQudHJhbnNmb3JtKTtcclxuICAgIH1cclxuXHJcbiAgICBmdW5jdGlvbiBzdG9wcGVkKCkge1xyXG4gICAgICBpZiAoZDMuZXZlbnQuZGVmYXVsdFByZXZlbnRlZCkgeyBkMy5ldmVudC5zdG9wUHJvcGFnYXRpb24oKTsgfVxyXG4gICAgfVxyXG5cclxuICAgIGZ1bmN0aW9uIHpvb21Ub0ZpdCgpIHtcclxuICAgICAgLy8gb25seSBleGVjdXRlIGlmIGVuYWJsZSwgb2YgY291cnNlXHJcbiAgICAgIGlmIChzZWxmLmRhdGEuY2FudmFzLnpvb21Ub0ZpdCkge1xyXG4gICAgICAgIGxldCBib3VuZHMgPSBjb250ZW50Lm5vZGUoKS5nZXRCQm94KCk7XHJcblxyXG4gICAgICAgIGxldCBjbGllbnRCb3VuZHMgPSBzZWxmLmVsZW1lbnQubm9kZSgpLmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpLFxyXG4gICAgICAgICAgZnVsbFdpZHRoID0gY2xpZW50Qm91bmRzLnJpZ2h0IC0gY2xpZW50Qm91bmRzLmxlZnQsXHJcbiAgICAgICAgICBmdWxsSGVpZ2h0ID0gY2xpZW50Qm91bmRzLmJvdHRvbSAtIGNsaWVudEJvdW5kcy50b3A7XHJcblxyXG4gICAgICAgIGxldCB3aWR0aCA9ICtib3VuZHMud2lkdGgsXHJcbiAgICAgICAgICBoZWlnaHQgPSArYm91bmRzLmhlaWdodDtcclxuXHJcbiAgICAgICAgaWYgKHdpZHRoID09PSAwIHx8IGhlaWdodCA9PT0gMCkgcmV0dXJuO1xyXG5cclxuICAgICAgICBsZXQgbWlkWCA9IGJvdW5kcy54ICsgd2lkdGggLyAyLFxyXG4gICAgICAgICAgbWlkWSA9IGJvdW5kcy55ICsgaGVpZ2h0IC8gMjtcclxuXHJcbiAgICAgICAgbGV0IHNjYWxlID0gMC45IC8gTWF0aC5tYXgod2lkdGggLyBmdWxsV2lkdGgsIGhlaWdodCAvIGZ1bGxIZWlnaHQpO1xyXG4gICAgICAgIGxldCB0cmFuc2xhdGVYID0gZnVsbFdpZHRoIC8gMiAtIHNjYWxlICogbWlkWCxcclxuICAgICAgICAgIHRyYW5zbGF0ZVkgPSBmdWxsSGVpZ2h0IC8gMiAtIHNjYWxlICogbWlkWTtcclxuXHJcbiAgICAgICAgY29udGVudC50cmFuc2l0aW9uKClcclxuICAgICAgICAgIC5kdXJhdGlvbihzZWxmLnRyYW5zaXRpb25EdXJhdGlvbilcclxuICAgICAgICAgIC5hdHRyKCd0cmFuc2Zvcm0nLCBgdHJhbnNsYXRlKCR7dHJhbnNsYXRlWH0sJHt0cmFuc2xhdGVZfSlzY2FsZSgke3NjYWxlfSwke3NjYWxlfSlgKVxyXG4gICAgICAgICAgLm9uKCdlbmQnLCAoKSA9PiB1cGRhdGVab29tKHRyYW5zbGF0ZVgsIHRyYW5zbGF0ZVksIHNjYWxlKSk7XHJcbiAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICBjb25zdCBjYW52YXNJZCA9IGBDYW52YXMtJHt0aGlzLmRhdGEuY2FudmFzLmlkfWA7XHJcbiAgICB0aGlzLmVsZW1lbnQgPSBkMy5zZWxlY3QoYHN2ZyMke2NhbnZhc0lkfWApO1xyXG4gICAgLy8gY2hlY2sgaWYgdGhlIGNhbnZhcyBpcyBhbHJlYWR5IHByZXNlbnRcclxuICAgIGlmICghdGhpcy5lbGVtZW50Lm5vZGUoKSkge1xyXG4gICAgICAvLyBjcmVhdGUgYSBzdmcgZWxlbWVudCBkZXRhY2hlZCBmcm9tIHRoZSBET00hXHJcbiAgICAgIHRoaXMubG9nZ2VyLmRlYnVnKGBDcmVhdGluZyBDYW52YXMgWyR7Y2FudmFzSWR9XS4uLmApO1xyXG4gICAgICB0aGlzLmVsZW1lbnQgPSBwYXJlbnQuYXBwZW5kKCdzdmcnKVxyXG4gICAgICAgIC5hdHRyKCdjbGFzcycsICdmcmFuY3ktY2FudmFzJylcclxuICAgICAgICAuYXR0cignaWQnLCBjYW52YXNJZCk7XHJcbiAgICB9XHJcblxyXG4gICAgLy8gY2Fubm90IGNvbnRpbnVlIGlmIGNhbnZhcyBpcyBub3QgcHJlc2VudFxyXG4gICAgaWYgKCF0aGlzLmVsZW1lbnQubm9kZSgpKSB7XHJcbiAgICAgIHRocm93IG5ldyBFcnJvcihgT29wcywgY291bGQgbm90IGNyZWF0ZSBjYW52YXMgd2l0aCBpZCBbJHtjYW52YXNJZH1dLi4uIENhbm5vdCBwcm9jZWVkLmApO1xyXG4gICAgfVxyXG5cclxuICAgIHRoaXMuZWxlbWVudC5hdHRyKCd3aWR0aCcsIHRoaXMuZGF0YS5jYW52YXMud2lkdGgpLmF0dHIoJ2hlaWdodCcsIHRoaXMuZGF0YS5jYW52YXMuaGVpZ2h0KTtcclxuXHJcbiAgICBjb250ZW50ID0gdGhpcy5lbGVtZW50LnNlbGVjdCgnZy5mcmFuY3ktY29udGVudCcpO1xyXG5cclxuICAgIGlmICghY29udGVudC5ub2RlKCkpIHtcclxuICAgICAgY29udGVudCA9IHRoaXMuZWxlbWVudC5hcHBlbmQoJ2cnKS5hdHRyKCdjbGFzcycsICdmcmFuY3ktY29udGVudCcpO1xyXG4gICAgICB6b29tLm9uKFwiem9vbVwiLCB6b29tZWQpO1xyXG4gICAgICAvLyByZW1vdmUgem9vbSBvbiBkb3VibGUgY2xpY2shXHJcbiAgICAgIHRoaXMuZWxlbWVudC5jYWxsKHpvb20pLm9uKFwiZGJsY2xpY2suem9vbVwiLCBudWxsKTtcclxuICAgIH1cclxuXHJcbiAgICB0aGlzLmVsZW1lbnQub24oXCJjbGlja1wiLCBzdG9wcGVkLCB0cnVlKTtcclxuXHJcbiAgICB0aGlzLmVsZW1lbnQuem9vbVRvRml0ID0gdGhpcy56b29tVG9GaXQgPSB6b29tVG9GaXQ7XHJcblxyXG4gICAgdGhpcy5sb2dnZXIuZGVidWcoYENhbnZhcyB1cGRhdGVkIFske2NhbnZhc0lkfV0uLi5gKTtcclxuXHJcbiAgICB0aGlzLnJlbmRlckNoaWxkcmVuKCk7XHJcblxyXG4gICAgc2V0VGltZW91dCgoKSA9PiB7XHJcbiAgICAgIHpvb21Ub0ZpdCgpO1xyXG4gICAgfSwgdGhpcy50cmFuc2l0aW9uRHVyYXRpb24pO1xyXG5cclxuICAgIHJldHVybiB0aGlzO1xyXG4gIH1cclxuXHJcbiAgdW5yZW5kZXIoKSB7fVxyXG5cclxufVxyXG4iLCJpbXBvcnQgUmVuZGVyZXIgZnJvbSAnLi9yZW5kZXJlcic7XHJcbmltcG9ydCBUb29sdGlwIGZyb20gJy4vdG9vbHRpcCc7XHJcbmltcG9ydCBDaGFydCBmcm9tICcuL2NoYXJ0JztcclxuXHJcbi8qIGdsb2JhbCBkMyAqL1xyXG5cclxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgQmFyQ2hhcnQgZXh0ZW5kcyBSZW5kZXJlciB7XHJcblxyXG4gIGNvbnN0cnVjdG9yKHsgdmVyYm9zZSA9IGZhbHNlLCBhcHBlbmRUbywgY2FsbGJhY2tIYW5kbGVyIH0pIHtcclxuICAgIHN1cGVyKHsgdmVyYm9zZTogdmVyYm9zZSwgYXBwZW5kVG86IGFwcGVuZFRvLCBjYWxsYmFja0hhbmRsZXI6IGNhbGxiYWNrSGFuZGxlciB9KTtcclxuICB9XHJcblxyXG4gIHJlbmRlcigpIHtcclxuXHJcbiAgICBsZXQgcGFyZW50ID0gdGhpcy5vcHRpb25zLmFwcGVuZFRvLmVsZW1lbnQ7XHJcblxyXG4gICAgbGV0IHRvb2x0aXAgPSBuZXcgVG9vbHRpcCh0aGlzLm9wdGlvbnMpO1xyXG5cclxuICAgIGxldCBheGlzID0gdGhpcy5kYXRhLmNhbnZhcy5jaGFydC5heGlzLFxyXG4gICAgICBkYXRhc2V0cyA9IHRoaXMuZGF0YS5jYW52YXMuY2hhcnQuZGF0YSxcclxuICAgICAgZGF0YXNldE5hbWVzID0gT2JqZWN0LmtleXMoZGF0YXNldHMpO1xyXG5cclxuICAgIHRoaXMuZWxlbWVudCA9IHBhcmVudC5zZWxlY3QoJ2cuZnJhbmN5LWNvbnRlbnQnKTtcclxuXHJcbiAgICBsZXQgbWFyZ2luID0ge3RvcDogNTAsIHJpZ2h0OiA1MCwgYm90dG9tOiA1MCwgbGVmdDogNTB9LFxyXG4gICAgICB3aWR0aCA9ICtwYXJlbnQuYXR0cignd2lkdGgnKSB8fCBkMy5zZWxlY3QoJ2JvZHknKS5ub2RlKCkuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCkud2lkdGgsXHJcbiAgICAgIGhlaWdodCA9ICtwYXJlbnQuYXR0cignaGVpZ2h0JykgfHwgZDMuc2VsZWN0KCdib2R5Jykubm9kZSgpLmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpLmhlaWdodDtcclxuXHJcbiAgICAvLyBzZXQgdGhlIGRpbWVuc2lvbnMgYW5kIG1hcmdpbnMgb2YgdGhlIGNoYXJ0XHJcbiAgICB3aWR0aCA9IHdpZHRoIC0gbWFyZ2luLmxlZnQgLSBtYXJnaW4ucmlnaHQ7XHJcbiAgICBoZWlnaHQgPSBoZWlnaHQgLSBtYXJnaW4udG9wIC0gbWFyZ2luLmJvdHRvbTtcclxuXHJcbiAgICAvLyBzZXQgdGhlIHJhbmdlc1xyXG4gICAgbGV0IHggPSBkMy5zY2FsZUJhbmQoKS5yYW5nZShbMCwgd2lkdGhdKS5wYWRkaW5nKDAuMSkuZG9tYWluKGF4aXMueC5kb21haW4pO1xyXG4gICAgbGV0IHkgPSBkMy5zY2FsZUxpbmVhcigpLnJhbmdlKFtoZWlnaHQsIDBdKS5kb21haW4oYXhpcy55LmRvbWFpbik7XHJcblxyXG4gICAgbGV0IHRtcCA9IFtdO1xyXG4gICAgZGF0YXNldE5hbWVzLmZvckVhY2goa2V5ID0+IHRtcCA9IHRtcC5jb25jYXQoZGF0YXNldHNba2V5XSkpO1xyXG5cclxuICAgIGlmICghYXhpcy55LmRvbWFpbi5sZW5ndGgpIHtcclxuICAgICAgeS5kb21haW4oWzAsIGQzLm1heCh0bXAsIGQgPT4gZCldKTtcclxuICAgIH1cclxuXHJcbiAgICBpZiAoIWF4aXMueC5kb21haW4ubGVuZ3RoKSB7XHJcbiAgICAgIGF4aXMueC5kb21haW4gPSBDaGFydC5kb21haW5SYW5nZSh0bXAubGVuZ3RoIC8gZGF0YXNldE5hbWVzLmxlbmd0aCk7XHJcbiAgICAgIHguZG9tYWluKGF4aXMueC5kb21haW4pO1xyXG4gICAgfVxyXG5cclxuICAgIGxldCBiYXJzR3JvdXAgPSB0aGlzLmVsZW1lbnQuc2VsZWN0QWxsKCdnLmZyYW5jeS1iYXJzJyk7XHJcblxyXG4gICAgaWYgKCFiYXJzR3JvdXAubm9kZSgpKSB7XHJcbiAgICAgIGJhcnNHcm91cCA9IHRoaXMuZWxlbWVudC5hcHBlbmQoJ2cnKS5hdHRyKCdjbGFzcycsICdmcmFuY3ktYmFycycpO1xyXG4gICAgfVxyXG5cclxuICAgIGRhdGFzZXROYW1lcy5mb3JFYWNoKGZ1bmN0aW9uKGtleSwgaW5kZXgpIHtcclxuICAgICAgbGV0IGJhciA9IGJhcnNHcm91cC5zZWxlY3RBbGwoYC5mcmFuY3ktYmFyLSR7aW5kZXh9YCkuZGF0YShkYXRhc2V0c1trZXldKTtcclxuXHJcbiAgICAgIGJhci5leGl0KCkudHJhbnNpdGlvbigpLmR1cmF0aW9uKDc1MClcclxuICAgICAgICAuc3R5bGUoXCJmaWxsLW9wYWNpdHlcIiwgMWUtNilcclxuICAgICAgICAucmVtb3ZlKCk7XHJcblxyXG4gICAgICAvLyBhcHBlbmQgdGhlIHJlY3RhbmdsZXMgZm9yIHRoZSBiYXIgY2hhcnRcclxuICAgICAgbGV0IGJhckVudGVyID0gYmFyLmVudGVyKClcclxuICAgICAgICAuYXBwZW5kKCdyZWN0JylcclxuICAgICAgICAuc3R5bGUoJ2ZpbGwnLCAoKSA9PiBDaGFydC5jb2xvcnMoaW5kZXggKiA1KSlcclxuICAgICAgICAuYXR0cignY2xhc3MnLCBgZnJhbmN5LWJhci0ke2luZGV4fWApXHJcbiAgICAgICAgLmF0dHIoJ3gnLCBmdW5jdGlvbiAoZCwgaSkge1xyXG4gICAgICAgICAgcmV0dXJuIHgoYXhpcy54LmRvbWFpbltpXSkgKyBpbmRleCAqICh4LmJhbmR3aWR0aCgpIC8gZGF0YXNldE5hbWVzLmxlbmd0aCk7XHJcbiAgICAgICAgfSlcclxuICAgICAgICAuYXR0cignd2lkdGgnLCAoeC5iYW5kd2lkdGgoKSAvIGRhdGFzZXROYW1lcy5sZW5ndGgpIC0gMSlcclxuICAgICAgICAuYXR0cigneScsIGZ1bmN0aW9uIChkKSB7XHJcbiAgICAgICAgICByZXR1cm4geShkKTtcclxuICAgICAgICB9KVxyXG4gICAgICAgIC5hdHRyKCdoZWlnaHQnLCBmdW5jdGlvbiAoZCkge1xyXG4gICAgICAgICAgcmV0dXJuIGhlaWdodCAtIHkoZCk7XHJcbiAgICAgICAgfSlcclxuICAgICAgICAub24oXCJtb3VzZWVudGVyXCIsIGZ1bmN0aW9uIChkKSB7XHJcbiAgICAgICAgICBkMy5zZWxlY3QodGhpcykudHJhbnNpdGlvbigpXHJcbiAgICAgICAgICAgIC5kdXJhdGlvbigyNTApLnN0eWxlKFwiZmlsbC1vcGFjaXR5XCIsIDAuNSk7XHJcbiAgICAgICAgICB0b29sdGlwLmxvYWQoQ2hhcnQudG9vbHRpcChrZXksIGQpLCB0cnVlKS5yZW5kZXIoKTtcclxuICAgICAgICB9KVxyXG4gICAgICAgIC5vbihcIm1vdXNlbGVhdmVcIiwgZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgZDMuc2VsZWN0KHRoaXMpLnRyYW5zaXRpb24oKVxyXG4gICAgICAgICAgICAuZHVyYXRpb24oMjUwKS5zdHlsZShcImZpbGwtb3BhY2l0eVwiLCAxKTtcclxuICAgICAgICAgIHRvb2x0aXAudW5yZW5kZXIoKTtcclxuICAgICAgICB9KTtcclxuXHJcbiAgICAgIGJhckVudGVyLm1lcmdlKGJhcilcclxuICAgICAgICAuYXR0cigneCcsIGZ1bmN0aW9uKGQsIGkpIHsgcmV0dXJuIHgoYXhpcy54LmRvbWFpbltpXSkgKyBpbmRleCAqICh4LmJhbmR3aWR0aCgpIC8gZGF0YXNldE5hbWVzLmxlbmd0aCk7IH0pXHJcbiAgICAgICAgLmF0dHIoJ3dpZHRoJywgKHguYmFuZHdpZHRoKCkgLyBkYXRhc2V0TmFtZXMubGVuZ3RoKSAtIDEpXHJcbiAgICAgICAgLmF0dHIoJ3knLCBmdW5jdGlvbihkKSB7IHJldHVybiB5KGQpOyB9KVxyXG4gICAgICAgIC5hdHRyKCdoZWlnaHQnLCBmdW5jdGlvbihkKSB7IHJldHVybiBoZWlnaHQgLSB5KGQpOyB9KTtcclxuICAgIH0pO1xyXG5cclxuICAgIC8vIGZvcmNlIHJlYnVpbGQgYXhpcyBhZ2FpblxyXG4gICAgbGV0IHhBeGlzR3JvdXAgPSB0aGlzLmVsZW1lbnQuc2VsZWN0QWxsKCdnLmZyYW5jeS14LWF4aXMnKTtcclxuXHJcbiAgICBpZiAoIXhBeGlzR3JvdXAubm9kZSgpKSB7XHJcbiAgICAgIHhBeGlzR3JvdXAgPSB0aGlzLmVsZW1lbnQuYXBwZW5kKCdnJykuYXR0cignY2xhc3MnLCAnZnJhbmN5LXgtYXhpcycpO1xyXG4gICAgfVxyXG5cclxuICAgIHhBeGlzR3JvdXAuc2VsZWN0QWxsKCcqJykucmVtb3ZlKCk7XHJcblxyXG4gICAgLy8gYWRkIHRoZSB4IEF4aXNcclxuICAgIHhBeGlzR3JvdXBcclxuICAgICAgLmF0dHIoJ3RyYW5zZm9ybScsIGB0cmFuc2xhdGUoMCwke2hlaWdodH0pYClcclxuICAgICAgLmNhbGwoZDMuYXhpc0JvdHRvbSh4KSlcclxuICAgICAgLmFwcGVuZCgndGV4dCcpXHJcbiAgICAgIC5hdHRyKCdkeScsIDUwKVxyXG4gICAgICAuYXR0cignZHgnLCB3aWR0aCAvIDIpXHJcbiAgICAgIC5hdHRyKCdmaWxsJywgJ2JsYWNrJylcclxuICAgICAgLmF0dHIoJ2NsYXNzJywgJ2ZyYW5jeS1heGlzJylcclxuICAgICAgLnN0eWxlKCd0ZXh0LWFuY2hvcicsICdlbmQnKVxyXG4gICAgICAudGV4dChheGlzLngudGl0bGUpO1xyXG5cclxuICAgIC8vIGZvcmNlIHJlYnVpbGQgYXhpcyBhZ2FpblxyXG4gICAgbGV0IHlBeGlzR3JvdXAgPSB0aGlzLmVsZW1lbnQuc2VsZWN0QWxsKCdnLmZyYW5jeS15LWF4aXMnKTtcclxuXHJcbiAgICBpZiAoIXlBeGlzR3JvdXAubm9kZSgpKSB7XHJcbiAgICAgIHlBeGlzR3JvdXAgPSB0aGlzLmVsZW1lbnQuYXBwZW5kKCdnJykuYXR0cignY2xhc3MnLCAnZnJhbmN5LXktYXhpcycpO1xyXG4gICAgfVxyXG5cclxuICAgIHlBeGlzR3JvdXAuc2VsZWN0QWxsKCcqJykucmVtb3ZlKCk7XHJcblxyXG4gICAgLy8gYWRkIHRoZSB5IEF4aXNcclxuICAgIHlBeGlzR3JvdXBcclxuICAgICAgLmNhbGwoZDMuYXhpc0xlZnQoeSkpXHJcbiAgICAgIC5hcHBlbmQoJ3RleHQnKVxyXG4gICAgICAuYXR0cignZHgnLCAtNTApXHJcbiAgICAgIC5hdHRyKCdkeScsIGhlaWdodCAvIDIpXHJcbiAgICAgIC5hdHRyKCdmaWxsJywgJ2JsYWNrJylcclxuICAgICAgLmF0dHIoJ2NsYXNzJywgJ2ZyYW5jeS1heGlzJylcclxuICAgICAgLnN0eWxlKCd0ZXh0LWFuY2hvcicsICdlbmQnKVxyXG4gICAgICAudGV4dChheGlzLnkudGl0bGUpO1xyXG5cclxuICAgIGlmICh0aGlzLmRhdGEuY2FudmFzLmNoYXJ0LnNob3dMZWdlbmQpIHtcclxuXHJcbiAgICAgIGxldCBsZWdlbmRHcm91cCA9IHRoaXMuZWxlbWVudC5zZWxlY3RBbGwoJy5mcmFuY3ktbGVnZW5kJyk7XHJcblxyXG4gICAgICBpZiAoIWxlZ2VuZEdyb3VwLm5vZGUoKSkge1xyXG4gICAgICAgIGxlZ2VuZEdyb3VwID0gdGhpcy5lbGVtZW50LmFwcGVuZCgnZycpLmF0dHIoJ2NsYXNzJywgJ2ZyYW5jeS1sZWdlbmQnKTtcclxuICAgICAgfVxyXG5cclxuICAgICAgLy8gZm9yY2UgcmVidWlsZCBsZWdlbmQgYWdhaW5cclxuICAgICAgbGVnZW5kR3JvdXAuc2VsZWN0QWxsKCcqJykucmVtb3ZlKCk7XHJcblxyXG4gICAgICBsZXQgbGVnZW5kID0gbGVnZW5kR3JvdXAuc2VsZWN0QWxsKCdnJykuZGF0YShkYXRhc2V0TmFtZXMuc2xpY2UoKSk7XHJcblxyXG4gICAgICBsZWdlbmQuZXhpdCgpLnJlbW92ZSgpO1xyXG5cclxuICAgICAgbGVnZW5kID0gbGVnZW5kLmVudGVyKClcclxuICAgICAgICAuYXBwZW5kKCdnJylcclxuICAgICAgICAuYXR0cigndHJhbnNmb3JtJywgKGQsIGkpID0+IGB0cmFuc2xhdGUoMCwke2kgKiAyMH0pYClcclxuICAgICAgICAubWVyZ2UobGVnZW5kKTtcclxuXHJcbiAgICAgIGxlZ2VuZC5hcHBlbmQoJ3JlY3QnKVxyXG4gICAgICAgIC5hdHRyKCd4Jywgd2lkdGggKyAyMClcclxuICAgICAgICAuYXR0cignd2lkdGgnLCAxOSlcclxuICAgICAgICAuYXR0cignaGVpZ2h0JywgMTkpXHJcbiAgICAgICAgLnN0eWxlKCdmaWxsJywgKGQsIGkpID0+IENoYXJ0LmNvbG9ycyhpICogNSkpO1xyXG5cclxuICAgICAgbGVnZW5kLmFwcGVuZCgndGV4dCcpXHJcbiAgICAgICAgLmF0dHIoJ3gnLCB3aWR0aCArIDgwKVxyXG4gICAgICAgIC5hdHRyKCd5JywgOSlcclxuICAgICAgICAuYXR0cignZHknLCAnLjM1ZW0nKVxyXG4gICAgICAgIC5zdHlsZSgndGV4dC1hbmNob3InLCAnZW5kJylcclxuICAgICAgICAudGV4dChkID0+IGQpO1xyXG4gICAgfVxyXG5cclxuICAgIHJldHVybiB0aGlzO1xyXG4gIH1cclxuXHJcbiAgdW5yZW5kZXIoKSB7fVxyXG59XHJcbiIsImltcG9ydCBSZW5kZXJlciBmcm9tICcuL3JlbmRlcmVyJztcclxuaW1wb3J0IFRvb2x0aXAgZnJvbSAnLi90b29sdGlwJztcclxuaW1wb3J0IENoYXJ0IGZyb20gJy4vY2hhcnQnO1xyXG5cclxuLyogZ2xvYmFsIGQzICovXHJcblxyXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBMaW5lQ2hhcnQgZXh0ZW5kcyBSZW5kZXJlciB7XHJcblxyXG4gIGNvbnN0cnVjdG9yKHsgdmVyYm9zZSA9IGZhbHNlLCBhcHBlbmRUbywgY2FsbGJhY2tIYW5kbGVyIH0pIHtcclxuICAgIHN1cGVyKHsgdmVyYm9zZTogdmVyYm9zZSwgYXBwZW5kVG86IGFwcGVuZFRvLCBjYWxsYmFja0hhbmRsZXI6IGNhbGxiYWNrSGFuZGxlciB9KTtcclxuICB9XHJcblxyXG4gIHJlbmRlcigpIHtcclxuXHJcbiAgICBsZXQgdG9vbHRpcCA9IG5ldyBUb29sdGlwKHRoaXMub3B0aW9ucyk7XHJcblxyXG4gICAgbGV0IHBhcmVudCA9IHRoaXMub3B0aW9ucy5hcHBlbmRUby5lbGVtZW50O1xyXG5cclxuICAgIGxldCBheGlzID0gdGhpcy5kYXRhLmNhbnZhcy5jaGFydC5heGlzLFxyXG4gICAgICBkYXRhc2V0cyA9IHRoaXMuZGF0YS5jYW52YXMuY2hhcnQuZGF0YSxcclxuICAgICAgZGF0YXNldE5hbWVzID0gT2JqZWN0LmtleXMoZGF0YXNldHMpO1xyXG5cclxuICAgIHRoaXMuZWxlbWVudCA9IHBhcmVudC5zZWxlY3QoJ2cuZnJhbmN5LWNvbnRlbnQnKTtcclxuXHJcbiAgICBsZXQgbWFyZ2luID0ge3RvcDogNTAsIHJpZ2h0OiA1MCwgYm90dG9tOiA1MCwgbGVmdDogNTB9LFxyXG4gICAgICB3aWR0aCA9ICtwYXJlbnQuYXR0cignd2lkdGgnKSB8fCBkMy5zZWxlY3QoJ2JvZHknKS5ub2RlKCkuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCkud2lkdGgsXHJcbiAgICAgIGhlaWdodCA9ICtwYXJlbnQuYXR0cignaGVpZ2h0JykgfHwgZDMuc2VsZWN0KCdib2R5Jykubm9kZSgpLmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpLmhlaWdodDtcclxuXHJcbiAgICAvLyBzZXQgdGhlIGRpbWVuc2lvbnMgYW5kIG1hcmdpbnMgb2YgdGhlIGNoYXJ0XHJcbiAgICB3aWR0aCA9IHdpZHRoIC0gbWFyZ2luLmxlZnQgLSBtYXJnaW4ucmlnaHQ7XHJcbiAgICBoZWlnaHQgPSBoZWlnaHQgLSBtYXJnaW4udG9wIC0gbWFyZ2luLmJvdHRvbTtcclxuXHJcbiAgICAvLyBzZXQgdGhlIHJhbmdlc1xyXG4gICAgbGV0IHggPSBkMy5zY2FsZUxpbmVhcigpLnJhbmdlKFswLCB3aWR0aF0pLmRvbWFpbihheGlzLnguZG9tYWluKTtcclxuICAgIGxldCB5ID0gZDMuc2NhbGVMaW5lYXIoKS5yYW5nZShbaGVpZ2h0LCAwXSkuZG9tYWluKGF4aXMueS5kb21haW4pO1xyXG5cclxuICAgIGxldCB0bXAgPSBbXTtcclxuICAgIGRhdGFzZXROYW1lcy5mb3JFYWNoKGtleSA9PiB0bXAgPSB0bXAuY29uY2F0KGRhdGFzZXRzW2tleV0pKTtcclxuXHJcbiAgICBpZiAoIWF4aXMueS5kb21haW4ubGVuZ3RoKSB7XHJcbiAgICAgIHkuZG9tYWluKFswLCBkMy5tYXgodG1wLCBkID0+IGQpXSk7XHJcbiAgICB9XHJcblxyXG4gICAgaWYgKCFheGlzLnguZG9tYWluLmxlbmd0aCkge1xyXG4gICAgICB4LmRvbWFpbihbMCwgdG1wLmxlbmd0aCAvIGRhdGFzZXROYW1lcy5sZW5ndGhdKTtcclxuICAgIH1cclxuXHJcbiAgICBsZXQgbGluZXNHcm91cCA9IHRoaXMuZWxlbWVudC5zZWxlY3RBbGwoJ2cuZnJhbmN5LWxpbmVzJyk7XHJcblxyXG4gICAgaWYgKCFsaW5lc0dyb3VwLm5vZGUoKSkge1xyXG4gICAgICBsaW5lc0dyb3VwID0gdGhpcy5lbGVtZW50LmFwcGVuZCgnZycpLmF0dHIoJ2NsYXNzJywgJ2ZyYW5jeS1saW5lcycpO1xyXG4gICAgfVxyXG5cclxuICAgIGRhdGFzZXROYW1lcy5mb3JFYWNoKGZ1bmN0aW9uKGtleSwgaW5kZXgpIHtcclxuICAgICAgbGV0IHZhbHVlTGluZSA9IGQzLmxpbmUoKVxyXG4gICAgICAgIC54KGZ1bmN0aW9uIChkLCBpKSB7XHJcbiAgICAgICAgICByZXR1cm4geChpKTtcclxuICAgICAgICB9KVxyXG4gICAgICAgIC55KGZ1bmN0aW9uIChkKSB7XHJcbiAgICAgICAgICByZXR1cm4geShkKTtcclxuICAgICAgICB9KTtcclxuXHJcbiAgICAgIGxldCBsaW5lID0gbGluZXNHcm91cC5zZWxlY3RBbGwoYC5mcmFuY3ktbGluZS0ke2luZGV4fWApLmRhdGEoW2RhdGFzZXRzW2tleV1dKTtcclxuXHJcbiAgICAgIGxpbmUuZXhpdCgpLnRyYW5zaXRpb24oKS5kdXJhdGlvbig3NTApXHJcbiAgICAgICAgLnN0eWxlKFwiZmlsbC1vcGFjaXR5XCIsIDFlLTYpXHJcbiAgICAgICAgLnJlbW92ZSgpO1xyXG5cclxuICAgICAgLy8gYXBwZW5kIHRoZSByZWN0YW5nbGVzIGZvciB0aGUgYmFyIGNoYXJ0XHJcbiAgICAgIGxldCBsaW5lRW50ZXIgPSBsaW5lLmVudGVyKClcclxuICAgICAgICAuYXBwZW5kKCdwYXRoJylcclxuICAgICAgICAuc3R5bGUoJ3N0cm9rZScsICgpID0+IENoYXJ0LmNvbG9ycyhpbmRleCAqIDUpKVxyXG4gICAgICAgIC5zdHlsZSgnc3Ryb2tlLXdpZHRoJywgJzVweCcpXHJcbiAgICAgICAgLmF0dHIoJ2NsYXNzJywgYGZyYW5jeS1saW5lLSR7aW5kZXh9YClcclxuICAgICAgICAuYXR0cignZCcsIHZhbHVlTGluZSlcclxuICAgICAgICAub24oXCJtb3VzZWVudGVyXCIsIGZ1bmN0aW9uIChkKSB7XHJcbiAgICAgICAgICBkMy5zZWxlY3QodGhpcykudHJhbnNpdGlvbigpXHJcbiAgICAgICAgICAgIC5kdXJhdGlvbigyNTApXHJcbiAgICAgICAgICAgIC5zdHlsZShcInN0cm9rZS1vcGFjaXR5XCIsIDAuNSlcclxuICAgICAgICAgICAgLnN0eWxlKCdzdHJva2Utd2lkdGgnLCAnMTBweCcpO1xyXG4gICAgICAgICAgdG9vbHRpcC5sb2FkKENoYXJ0LnRvb2x0aXAoa2V5LCBkKSwgdHJ1ZSkucmVuZGVyKCk7XHJcbiAgICAgICAgfSlcclxuICAgICAgICAub24oXCJtb3VzZWxlYXZlXCIsIGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgIGQzLnNlbGVjdCh0aGlzKS50cmFuc2l0aW9uKClcclxuICAgICAgICAgICAgLmR1cmF0aW9uKDI1MClcclxuICAgICAgICAgICAgLnN0eWxlKFwic3Ryb2tlLW9wYWNpdHlcIiwgMSlcclxuICAgICAgICAgICAgLnN0eWxlKCdzdHJva2Utd2lkdGgnLCAnNXB4Jyk7XHJcbiAgICAgICAgICB0b29sdGlwLnVucmVuZGVyKCk7XHJcbiAgICAgICAgfSk7XHJcblxyXG4gICAgICBsaW5lRW50ZXIubWVyZ2UobGluZSk7XHJcbiAgICB9KTtcclxuXHJcbiAgICAvLyBmb3JjZSByZWJ1aWxkIGF4aXMgYWdhaW5cclxuICAgIGxldCB4QXhpc0dyb3VwID0gdGhpcy5lbGVtZW50LnNlbGVjdEFsbCgnZy5mcmFuY3kteC1heGlzJyk7XHJcblxyXG4gICAgaWYgKCF4QXhpc0dyb3VwLm5vZGUoKSkge1xyXG4gICAgICB4QXhpc0dyb3VwID0gdGhpcy5lbGVtZW50LmFwcGVuZCgnZycpLmF0dHIoJ2NsYXNzJywgJ2ZyYW5jeS14LWF4aXMnKTtcclxuICAgIH1cclxuXHJcbiAgICB4QXhpc0dyb3VwLnNlbGVjdEFsbCgnKicpLnJlbW92ZSgpO1xyXG5cclxuICAgIC8vIGFkZCB0aGUgeCBBeGlzXHJcbiAgICB4QXhpc0dyb3VwXHJcbiAgICAgIC5hdHRyKCd0cmFuc2Zvcm0nLCBgdHJhbnNsYXRlKDAsJHtoZWlnaHR9KWApXHJcbiAgICAgIC5jYWxsKGQzLmF4aXNCb3R0b20oeCkpXHJcbiAgICAgIC5hcHBlbmQoJ3RleHQnKVxyXG4gICAgICAuYXR0cignZHknLCA1MClcclxuICAgICAgLmF0dHIoJ2R4Jywgd2lkdGggLyAyKVxyXG4gICAgICAuYXR0cignZmlsbCcsICdibGFjaycpXHJcbiAgICAgIC5hdHRyKCdjbGFzcycsICdmcmFuY3ktYXhpcycpXHJcbiAgICAgIC5zdHlsZSgndGV4dC1hbmNob3InLCAnZW5kJylcclxuICAgICAgLnRleHQoYXhpcy54LnRpdGxlKTtcclxuXHJcbiAgICAvLyBmb3JjZSByZWJ1aWxkIGF4aXMgYWdhaW5cclxuICAgIGxldCB5QXhpc0dyb3VwID0gdGhpcy5lbGVtZW50LnNlbGVjdEFsbCgnZy5mcmFuY3kteS1heGlzJyk7XHJcblxyXG4gICAgaWYgKCF5QXhpc0dyb3VwLm5vZGUoKSkge1xyXG4gICAgICB5QXhpc0dyb3VwID0gdGhpcy5lbGVtZW50LmFwcGVuZCgnZycpLmF0dHIoJ2NsYXNzJywgJ2ZyYW5jeS15LWF4aXMnKTtcclxuICAgIH1cclxuXHJcbiAgICB5QXhpc0dyb3VwLnNlbGVjdEFsbCgnKicpLnJlbW92ZSgpO1xyXG5cclxuICAgIC8vIGFkZCB0aGUgeSBBeGlzXHJcbiAgICB5QXhpc0dyb3VwXHJcbiAgICAgIC5jYWxsKGQzLmF4aXNMZWZ0KHkpKVxyXG4gICAgICAuYXBwZW5kKCd0ZXh0JylcclxuICAgICAgLmF0dHIoJ2R4JywgLTUwKVxyXG4gICAgICAuYXR0cignZHknLCBoZWlnaHQgLyAyKVxyXG4gICAgICAuYXR0cignZmlsbCcsICdibGFjaycpXHJcbiAgICAgIC5hdHRyKCdjbGFzcycsICdmcmFuY3ktYXhpcycpXHJcbiAgICAgIC5zdHlsZSgndGV4dC1hbmNob3InLCAnZW5kJylcclxuICAgICAgLnRleHQoYXhpcy55LnRpdGxlKTtcclxuXHJcbiAgICBpZiAodGhpcy5kYXRhLmNhbnZhcy5jaGFydC5zaG93TGVnZW5kKSB7XHJcblxyXG4gICAgICBsZXQgbGVnZW5kR3JvdXAgPSB0aGlzLmVsZW1lbnQuc2VsZWN0QWxsKCcuZnJhbmN5LWxlZ2VuZCcpO1xyXG5cclxuICAgICAgaWYgKCFsZWdlbmRHcm91cC5ub2RlKCkpIHtcclxuICAgICAgICBsZWdlbmRHcm91cCA9IHRoaXMuZWxlbWVudC5hcHBlbmQoJ2cnKS5hdHRyKCdjbGFzcycsICdmcmFuY3ktbGVnZW5kJyk7XHJcbiAgICAgIH1cclxuXHJcbiAgICAgIC8vIGZvcmNlIHJlYnVpbGQgbGVnZW5kIGFnYWluXHJcbiAgICAgIGxlZ2VuZEdyb3VwLnNlbGVjdEFsbCgnKicpLnJlbW92ZSgpO1xyXG5cclxuICAgICAgbGV0IGxlZ2VuZCA9IGxlZ2VuZEdyb3VwLnNlbGVjdEFsbCgnZycpLmRhdGEoZGF0YXNldE5hbWVzLnNsaWNlKCkpO1xyXG5cclxuICAgICAgbGVnZW5kLmV4aXQoKS5yZW1vdmUoKTtcclxuXHJcbiAgICAgIGxlZ2VuZCA9IGxlZ2VuZC5lbnRlcigpXHJcbiAgICAgICAgLmFwcGVuZCgnZycpXHJcbiAgICAgICAgLmF0dHIoJ3RyYW5zZm9ybScsIChkLCBpKSA9PiBgdHJhbnNsYXRlKDAsJHtpICogMjB9KWApXHJcbiAgICAgICAgLm1lcmdlKGxlZ2VuZCk7XHJcblxyXG4gICAgICBsZWdlbmQuYXBwZW5kKCdyZWN0JylcclxuICAgICAgICAuYXR0cigneCcsIHdpZHRoICsgMjApXHJcbiAgICAgICAgLmF0dHIoJ3dpZHRoJywgMTkpXHJcbiAgICAgICAgLmF0dHIoJ2hlaWdodCcsIDE5KVxyXG4gICAgICAgIC5zdHlsZSgnZmlsbCcsIChkLCBpKSA9PiBDaGFydC5jb2xvcnMoaSAqIDUpKTtcclxuXHJcbiAgICAgIGxlZ2VuZC5hcHBlbmQoJ3RleHQnKVxyXG4gICAgICAgIC5hdHRyKCd4Jywgd2lkdGggKyA4MClcclxuICAgICAgICAuYXR0cigneScsIDkpXHJcbiAgICAgICAgLmF0dHIoJ2R5JywgJy4zNWVtJylcclxuICAgICAgICAuc3R5bGUoJ3RleHQtYW5jaG9yJywgJ2VuZCcpXHJcbiAgICAgICAgLnRleHQoZCA9PiBkKTtcclxuXHJcbiAgICB9XHJcblxyXG4gICAgcmV0dXJuIHRoaXM7XHJcbiAgfVxyXG5cclxuICB1bnJlbmRlcigpIHt9XHJcbn1cclxuIiwiaW1wb3J0IFJlbmRlcmVyIGZyb20gJy4vcmVuZGVyZXInO1xyXG5pbXBvcnQgVG9vbHRpcCBmcm9tICcuL3Rvb2x0aXAnO1xyXG5pbXBvcnQgQ2hhcnQgZnJvbSAnLi9jaGFydCc7XHJcblxyXG4vKiBnbG9iYWwgZDMgKi9cclxuXHJcbmV4cG9ydCBkZWZhdWx0IGNsYXNzIFNjYXR0ZXJDaGFydCBleHRlbmRzIFJlbmRlcmVyIHtcclxuXHJcbiAgY29uc3RydWN0b3IoeyB2ZXJib3NlID0gZmFsc2UsIGFwcGVuZFRvLCBjYWxsYmFja0hhbmRsZXIgfSkge1xyXG4gICAgc3VwZXIoeyB2ZXJib3NlOiB2ZXJib3NlLCBhcHBlbmRUbzogYXBwZW5kVG8sIGNhbGxiYWNrSGFuZGxlcjogY2FsbGJhY2tIYW5kbGVyIH0pO1xyXG4gIH1cclxuXHJcbiAgcmVuZGVyKCkge1xyXG5cclxuICAgIGxldCB0b29sdGlwID0gbmV3IFRvb2x0aXAodGhpcy5vcHRpb25zKTtcclxuXHJcbiAgICBsZXQgcGFyZW50ID0gdGhpcy5vcHRpb25zLmFwcGVuZFRvLmVsZW1lbnQ7XHJcblxyXG4gICAgbGV0IGF4aXMgPSB0aGlzLmRhdGEuY2FudmFzLmNoYXJ0LmF4aXMsXHJcbiAgICAgIGRhdGFzZXRzID0gdGhpcy5kYXRhLmNhbnZhcy5jaGFydC5kYXRhLFxyXG4gICAgICBkYXRhc2V0TmFtZXMgPSBPYmplY3Qua2V5cyhkYXRhc2V0cyk7XHJcblxyXG4gICAgdGhpcy5lbGVtZW50ID0gcGFyZW50LnNlbGVjdCgnZy5mcmFuY3ktY29udGVudCcpO1xyXG5cclxuICAgIGxldCBtYXJnaW4gPSB7dG9wOiA1MCwgcmlnaHQ6IDUwLCBib3R0b206IDUwLCBsZWZ0OiA1MH0sXHJcbiAgICAgIHdpZHRoID0gK3BhcmVudC5hdHRyKCd3aWR0aCcpIHx8IGQzLnNlbGVjdCgnYm9keScpLm5vZGUoKS5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKS53aWR0aCxcclxuICAgICAgaGVpZ2h0ID0gK3BhcmVudC5hdHRyKCdoZWlnaHQnKSB8fCBkMy5zZWxlY3QoJ2JvZHknKS5ub2RlKCkuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCkuaGVpZ2h0O1xyXG5cclxuICAgIC8vIHNldCB0aGUgZGltZW5zaW9ucyBhbmQgbWFyZ2lucyBvZiB0aGUgY2hhcnRcclxuICAgIHdpZHRoID0gd2lkdGggLSBtYXJnaW4ubGVmdCAtIG1hcmdpbi5yaWdodDtcclxuICAgIGhlaWdodCA9IGhlaWdodCAtIG1hcmdpbi50b3AgLSBtYXJnaW4uYm90dG9tO1xyXG5cclxuICAgIC8vIHNldCB0aGUgcmFuZ2VzXHJcbiAgICBsZXQgeCA9IGQzLnNjYWxlTGluZWFyKCkucmFuZ2UoWzAsIHdpZHRoXSkuZG9tYWluKGF4aXMueC5kb21haW4pO1xyXG4gICAgbGV0IHkgPSBkMy5zY2FsZUxpbmVhcigpLnJhbmdlKFtoZWlnaHQsIDBdKS5kb21haW4oYXhpcy55LmRvbWFpbik7XHJcblxyXG4gICAgbGV0IHRtcCA9IFtdO1xyXG4gICAgZGF0YXNldE5hbWVzLmZvckVhY2goa2V5ID0+IHRtcCA9IHRtcC5jb25jYXQoZGF0YXNldHNba2V5XSkpO1xyXG5cclxuICAgIGlmICghYXhpcy55LmRvbWFpbi5sZW5ndGgpIHtcclxuICAgICAgeS5kb21haW4oWzAsIGQzLm1heCh0bXAsIGQgPT4gZCldKTtcclxuICAgIH1cclxuXHJcbiAgICBpZiAoIWF4aXMueC5kb21haW4ubGVuZ3RoKSB7XHJcbiAgICAgIHguZG9tYWluKFswLCB0bXAubGVuZ3RoIC8gZGF0YXNldE5hbWVzLmxlbmd0aF0pO1xyXG4gICAgfVxyXG5cclxuICAgIGxldCBzY2F0dGVyR3JvdXAgPSB0aGlzLmVsZW1lbnQuc2VsZWN0QWxsKCdnLmZyYW5jeS1zY2F0dGVycycpO1xyXG5cclxuICAgIGlmICghc2NhdHRlckdyb3VwLm5vZGUoKSkge1xyXG4gICAgICBzY2F0dGVyR3JvdXAgPSB0aGlzLmVsZW1lbnQuYXBwZW5kKCdnJykuYXR0cignY2xhc3MnLCAnZnJhbmN5LXNjYXR0ZXJzJyk7XHJcbiAgICB9XHJcblxyXG4gICAgZGF0YXNldE5hbWVzLmZvckVhY2goZnVuY3Rpb24oa2V5LCBpbmRleCkge1xyXG4gICAgICBsZXQgc2NhdHRlciA9IHNjYXR0ZXJHcm91cC5zZWxlY3RBbGwoYC5mcmFuY3ktc2NhdHRlci0ke2luZGV4fWApLmRhdGEoZGF0YXNldHNba2V5XSk7XHJcblxyXG4gICAgICBzY2F0dGVyLmV4aXQoKS50cmFuc2l0aW9uKCkuZHVyYXRpb24oNzUwKVxyXG4gICAgICAgIC5zdHlsZShcImZpbGwtb3BhY2l0eVwiLCAxZS02KVxyXG4gICAgICAgIC5yZW1vdmUoKTtcclxuXHJcbiAgICAgIC8vIGFwcGVuZCB0aGUgcmVjdGFuZ2xlcyBmb3IgdGhlIGJhciBjaGFydFxyXG4gICAgICBsZXQgc2NhdHRlckVudGVyID0gc2NhdHRlclxyXG4gICAgICAgIC5lbnRlcigpXHJcbiAgICAgICAgLmFwcGVuZCgnY2lyY2xlJylcclxuICAgICAgICAuc3R5bGUoJ2ZpbGwnLCAoKSA9PiBDaGFydC5jb2xvcnMoaW5kZXggKiA1KSlcclxuICAgICAgICAuYXR0cignY2xhc3MnLCBgZnJhbmN5LXNjYXR0ZXItJHtpbmRleH1gKVxyXG4gICAgICAgIC5hdHRyKFwiclwiLCA1KVxyXG4gICAgICAgIC5hdHRyKFwiY3hcIiwgZnVuY3Rpb24gKGQsIGkpIHtcclxuICAgICAgICAgIHJldHVybiB4KGkpO1xyXG4gICAgICAgIH0pXHJcbiAgICAgICAgLmF0dHIoXCJjeVwiLCBmdW5jdGlvbiAoZCkge1xyXG4gICAgICAgICAgcmV0dXJuIHkoZCk7XHJcbiAgICAgICAgfSlcclxuICAgICAgICAub24oXCJtb3VzZWVudGVyXCIsIGZ1bmN0aW9uIChkKSB7XHJcbiAgICAgICAgICBkMy5zZWxlY3QodGhpcykudHJhbnNpdGlvbigpXHJcbiAgICAgICAgICAgIC5kdXJhdGlvbigyNTApXHJcbiAgICAgICAgICAgIC5zdHlsZShcImZpbGwtb3BhY2l0eVwiLCAwLjUpXHJcbiAgICAgICAgICAgIC5hdHRyKCdyJywgMTApO1xyXG4gICAgICAgICAgdG9vbHRpcC5sb2FkKENoYXJ0LnRvb2x0aXAoa2V5LCBkKSwgdHJ1ZSkucmVuZGVyKCk7XHJcbiAgICAgICAgfSlcclxuICAgICAgICAub24oXCJtb3VzZWxlYXZlXCIsIGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgIGQzLnNlbGVjdCh0aGlzKS50cmFuc2l0aW9uKClcclxuICAgICAgICAgICAgLmR1cmF0aW9uKDI1MClcclxuICAgICAgICAgICAgLnN0eWxlKFwiZmlsbC1vcGFjaXR5XCIsIDEpXHJcbiAgICAgICAgICAgIC5hdHRyKCdyJywgNSk7XHJcbiAgICAgICAgICB0b29sdGlwLnVucmVuZGVyKCk7XHJcbiAgICAgICAgfSk7XHJcblxyXG4gICAgICBzY2F0dGVyRW50ZXIubWVyZ2Uoc2NhdHRlcik7XHJcbiAgICB9KTtcclxuXHJcbiAgICAvLyBmb3JjZSByZWJ1aWxkIGF4aXMgYWdhaW5cclxuICAgIGxldCB4QXhpc0dyb3VwID0gdGhpcy5lbGVtZW50LnNlbGVjdEFsbCgnZy5mcmFuY3kteC1heGlzJyk7XHJcblxyXG4gICAgaWYgKCF4QXhpc0dyb3VwLm5vZGUoKSkge1xyXG4gICAgICB4QXhpc0dyb3VwID0gdGhpcy5lbGVtZW50LmFwcGVuZCgnZycpLmF0dHIoJ2NsYXNzJywgJ2ZyYW5jeS14LWF4aXMnKTtcclxuICAgIH1cclxuXHJcbiAgICB4QXhpc0dyb3VwLnNlbGVjdEFsbCgnKicpLnJlbW92ZSgpO1xyXG5cclxuICAgIC8vIGFkZCB0aGUgeCBBeGlzXHJcbiAgICB4QXhpc0dyb3VwXHJcbiAgICAgIC5hdHRyKCd0cmFuc2Zvcm0nLCBgdHJhbnNsYXRlKDAsJHtoZWlnaHR9KWApXHJcbiAgICAgIC5jYWxsKGQzLmF4aXNCb3R0b20oeCkpXHJcbiAgICAgIC5hcHBlbmQoJ3RleHQnKVxyXG4gICAgICAuYXR0cignZHknLCA1MClcclxuICAgICAgLmF0dHIoJ2R4Jywgd2lkdGggLyAyKVxyXG4gICAgICAuYXR0cignZmlsbCcsICdibGFjaycpXHJcbiAgICAgIC5hdHRyKCdjbGFzcycsICdmcmFuY3ktYXhpcycpXHJcbiAgICAgIC5zdHlsZSgndGV4dC1hbmNob3InLCAnZW5kJylcclxuICAgICAgLnRleHQoYXhpcy54LnRpdGxlKTtcclxuXHJcbiAgICAvLyBmb3JjZSByZWJ1aWxkIGF4aXMgYWdhaW5cclxuICAgIGxldCB5QXhpc0dyb3VwID0gdGhpcy5lbGVtZW50LnNlbGVjdEFsbCgnZy5mcmFuY3kteS1heGlzJyk7XHJcblxyXG4gICAgaWYgKCF5QXhpc0dyb3VwLm5vZGUoKSkge1xyXG4gICAgICB5QXhpc0dyb3VwID0gdGhpcy5lbGVtZW50LmFwcGVuZCgnZycpLmF0dHIoJ2NsYXNzJywgJ2ZyYW5jeS15LWF4aXMnKTtcclxuICAgIH1cclxuXHJcbiAgICB5QXhpc0dyb3VwLnNlbGVjdEFsbCgnKicpLnJlbW92ZSgpO1xyXG5cclxuICAgIC8vIGFkZCB0aGUgeSBBeGlzXHJcbiAgICB5QXhpc0dyb3VwXHJcbiAgICAgIC5jYWxsKGQzLmF4aXNMZWZ0KHkpKVxyXG4gICAgICAuYXBwZW5kKCd0ZXh0JylcclxuICAgICAgLmF0dHIoJ2R4JywgLTUwKVxyXG4gICAgICAuYXR0cignZHknLCBoZWlnaHQgLyAyKVxyXG4gICAgICAuYXR0cignZmlsbCcsICdibGFjaycpXHJcbiAgICAgIC5hdHRyKCdjbGFzcycsICdmcmFuY3ktYXhpcycpXHJcbiAgICAgIC5zdHlsZSgndGV4dC1hbmNob3InLCAnZW5kJylcclxuICAgICAgLnRleHQoYXhpcy55LnRpdGxlKTtcclxuXHJcbiAgICBpZiAodGhpcy5kYXRhLmNhbnZhcy5jaGFydC5zaG93TGVnZW5kKSB7XHJcblxyXG4gICAgICBsZXQgbGVnZW5kR3JvdXAgPSB0aGlzLmVsZW1lbnQuc2VsZWN0QWxsKCcuZnJhbmN5LWxlZ2VuZCcpO1xyXG5cclxuICAgICAgaWYgKCFsZWdlbmRHcm91cC5ub2RlKCkpIHtcclxuICAgICAgICBsZWdlbmRHcm91cCA9IHRoaXMuZWxlbWVudC5hcHBlbmQoJ2cnKS5hdHRyKCdjbGFzcycsICdmcmFuY3ktbGVnZW5kJyk7XHJcbiAgICAgIH1cclxuXHJcbiAgICAgIC8vIGZvcmNlIHJlYnVpbGQgbGVnZW5kIGFnYWluXHJcbiAgICAgIGxlZ2VuZEdyb3VwLnNlbGVjdEFsbCgnKicpLnJlbW92ZSgpO1xyXG5cclxuICAgICAgbGV0IGxlZ2VuZCA9IGxlZ2VuZEdyb3VwLnNlbGVjdEFsbCgnZycpLmRhdGEoZGF0YXNldE5hbWVzLnNsaWNlKCkpO1xyXG5cclxuICAgICAgbGVnZW5kLmV4aXQoKS5yZW1vdmUoKTtcclxuXHJcbiAgICAgIGxlZ2VuZCA9IGxlZ2VuZC5lbnRlcigpXHJcbiAgICAgICAgLmFwcGVuZCgnZycpXHJcbiAgICAgICAgLmF0dHIoJ3RyYW5zZm9ybScsIChkLCBpKSA9PiBgdHJhbnNsYXRlKDAsJHtpICogMjB9KWApXHJcbiAgICAgICAgLm1lcmdlKGxlZ2VuZCk7XHJcblxyXG4gICAgICBsZWdlbmQuYXBwZW5kKCdyZWN0JylcclxuICAgICAgICAuYXR0cigneCcsIHdpZHRoICsgMjApXHJcbiAgICAgICAgLmF0dHIoJ3dpZHRoJywgMTkpXHJcbiAgICAgICAgLmF0dHIoJ2hlaWdodCcsIDE5KVxyXG4gICAgICAgIC5zdHlsZSgnZmlsbCcsIChkLCBpKSA9PiBDaGFydC5jb2xvcnMoaSAqIDUpKTtcclxuXHJcbiAgICAgIGxlZ2VuZC5hcHBlbmQoJ3RleHQnKVxyXG4gICAgICAgIC5hdHRyKCd4Jywgd2lkdGggKyA4MClcclxuICAgICAgICAuYXR0cigneScsIDkpXHJcbiAgICAgICAgLmF0dHIoJ2R5JywgJy4zNWVtJylcclxuICAgICAgICAuc3R5bGUoJ3RleHQtYW5jaG9yJywgJ2VuZCcpXHJcbiAgICAgICAgLnRleHQoZCA9PiBkKTtcclxuICAgIH1cclxuXHJcbiAgICByZXR1cm4gdGhpcztcclxuICB9XHJcblxyXG4gIHVucmVuZGVyKCkge31cclxufVxyXG4iLCJpbXBvcnQgUmVuZGVyZXIgZnJvbSAnLi9yZW5kZXJlcic7XHJcbmltcG9ydCBCYXJDaGFydCBmcm9tICcuL2NoYXJ0LWJhcic7XHJcbmltcG9ydCBMaW5lQ2hhcnQgZnJvbSAnLi9jaGFydC1saW5lJztcclxuaW1wb3J0IFNjYXR0ZXJDaGFydCBmcm9tICcuL2NoYXJ0LXNjYXR0ZXInO1xyXG5pbXBvcnQgeyByZXF1aXJlcyB9IGZyb20gJy4uL2RlY29yYXRvci9kYXRhJztcclxuXHJcbi8qIGdsb2JhbCBkMyAqL1xyXG5cclxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgQ2hhcnQgZXh0ZW5kcyBSZW5kZXJlciB7XHJcblxyXG4gIGNvbnN0cnVjdG9yKHsgdmVyYm9zZSA9IGZhbHNlLCBhcHBlbmRUbywgY2FsbGJhY2tIYW5kbGVyIH0pIHtcclxuICAgIHN1cGVyKHsgdmVyYm9zZTogdmVyYm9zZSwgYXBwZW5kVG86IGFwcGVuZFRvLCBjYWxsYmFja0hhbmRsZXI6IGNhbGxiYWNrSGFuZGxlciB9KTtcclxuICB9XHJcblxyXG4gIEByZXF1aXJlcygnY2FudmFzLmNoYXJ0JylcclxuICByZW5kZXIoKSB7XHJcblxyXG4gICAgc3dpdGNoICh0aGlzLmRhdGEuY2FudmFzLmNoYXJ0LnR5cGUpIHtcclxuICAgICAgY2FzZSBcImJhclwiOlxyXG4gICAgICAgIHRoaXMuZWxlbWVudCA9IG5ldyBCYXJDaGFydCh0aGlzLm9wdGlvbnMpLmxvYWQodGhpcy5kYXRhKS5yZW5kZXIoKTtcclxuICAgICAgICBicmVhaztcclxuICAgICAgY2FzZSBcImxpbmVcIjpcclxuICAgICAgICB0aGlzLmVsZW1lbnQgPSBuZXcgTGluZUNoYXJ0KHRoaXMub3B0aW9ucykubG9hZCh0aGlzLmRhdGEpLnJlbmRlcigpO1xyXG4gICAgICAgIGJyZWFrO1xyXG4gICAgICBjYXNlIFwic2NhdHRlclwiOlxyXG4gICAgICAgIHRoaXMuZWxlbWVudCA9IG5ldyBTY2F0dGVyQ2hhcnQodGhpcy5vcHRpb25zKS5sb2FkKHRoaXMuZGF0YSkucmVuZGVyKCk7XHJcbiAgICAgICAgYnJlYWs7XHJcbiAgICB9XHJcblxyXG4gICAgcmV0dXJuIHRoaXM7XHJcbiAgfVxyXG5cclxuICBzdGF0aWMgdG9vbHRpcChkYXRhc2V0LCB2YWx1ZSkge1xyXG4gICAgcmV0dXJuIHsgXCJBXCI6IHsgJ3RpdGxlJzogJ0RhdGFzZXQnLCAndGV4dCc6IGRhdGFzZXQgfSwgXCJCXCI6IHsgJ3RpdGxlJzogJ1ZhbHVlJywgJ3RleHQnOiB2YWx1ZSB9IH07XHJcbiAgfVxyXG5cclxuICBzdGF0aWMgZ2V0IGNvbG9ycygpIHtcclxuICAgIHJldHVybiBkMy5zY2FsZVNlcXVlbnRpYWwoKS5kb21haW4oWzAsIDEwMF0pLmludGVycG9sYXRvcihkMy5pbnRlcnBvbGF0ZVJhaW5ib3cpO1xyXG4gIH1cclxuXHJcbiAgc3RhdGljIGRvbWFpblJhbmdlKG1heCkge1xyXG4gICAgcmV0dXJuIEFycmF5LmZyb20obmV3IEFycmF5KG1heCksIChfLCBpKSA9PiBpKS5tYXAoeCA9PiB4KTtcclxuICB9XHJcblxyXG4gIHVucmVuZGVyKCkge31cclxuXHJcbn1cclxuIiwiaW1wb3J0IFJlbmRlcmVyIGZyb20gJy4vcmVuZGVyZXInO1xyXG5cclxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgQ29tcG9zaXRlIGV4dGVuZHMgUmVuZGVyZXIge1xyXG5cclxuICBjb25zdHJ1Y3Rvcih7IHZlcmJvc2UgPSBmYWxzZSwgYXBwZW5kVG8sIGNhbGxiYWNrSGFuZGxlciB9KSB7XHJcbiAgICBzdXBlcih7IHZlcmJvc2U6IHZlcmJvc2UsIGFwcGVuZFRvOiBhcHBlbmRUbywgY2FsbGJhY2tIYW5kbGVyOiBjYWxsYmFja0hhbmRsZXIgfSk7XHJcbiAgICBpZiAobmV3LnRhcmdldCA9PT0gQ29tcG9zaXRlKSB7XHJcbiAgICAgIHRocm93IG5ldyBUeXBlRXJyb3IoJ0Nhbm5vdCBjb25zdHJ1Y3QgW0NvbXBvc2l0ZV0gaW5zdGFuY2VzIGRpcmVjdGx5IScpO1xyXG4gICAgfVxyXG4gICAgdGhpcy5yZW5kZXJlcnMgPSBbXTtcclxuICB9XHJcblxyXG4gIGFkZChyZW5kZXJlcikge1xyXG4gICAgdGhpcy5yZW5kZXJlcnMucHVzaChyZW5kZXJlcik7XHJcbiAgICByZXR1cm4gdGhpcztcclxuICB9XHJcblxyXG4gIHJlbmRlckNoaWxkcmVuKCkge1xyXG4gICAgLy8gdXBkYXRlIGNoaWxkcmVuIHJlbmRlcmluZyB3aXRoIGEgbmV3IHBhcmVudCFcclxuICAgIGxldCBvcHRpb25zID0gdGhpcy5vcHRpb25zO1xyXG4gICAgb3B0aW9ucy5hcHBlbmRUbyA9IHRoaXM7XHJcbiAgICAvLyByZW5kZXIgb3RoZXIgY29tcG9uZW50c1xyXG4gICAgZm9yIChsZXQgcmVuZGVyZXIgb2YgdGhpcy5yZW5kZXJlcnMpIHtcclxuICAgICAgcmVuZGVyZXIuc2V0dGluZ3Mob3B0aW9ucykubG9hZCh0aGlzLmRhdGEpLnJlbmRlcigpO1xyXG4gICAgfVxyXG4gIH1cclxufVxyXG4iLCJpbXBvcnQgQ29tcG9zaXRlIGZyb20gJy4vY29tcG9zaXRlJztcclxuaW1wb3J0IENhbnZhcyBmcm9tICcuL2NhbnZhcyc7XHJcbmltcG9ydCBNYWluTWVudSBmcm9tICcuL21lbnUtbWFpbic7XHJcbmltcG9ydCBNZXNzYWdlIGZyb20gJy4vbWVzc2FnZSc7XHJcbmltcG9ydCB7IHJlcXVpcmVzIH0gZnJvbSAnLi4vZGVjb3JhdG9yL2RhdGEnO1xyXG5cclxuLyogZ2xvYmFsIGQzICovXHJcblxyXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBGcmFtZSBleHRlbmRzIENvbXBvc2l0ZSB7XHJcblxyXG4gIGNvbnN0cnVjdG9yKHsgdmVyYm9zZSA9IGZhbHNlLCBhcHBlbmRUbywgY2FsbGJhY2tIYW5kbGVyIH0pIHtcclxuICAgIHN1cGVyKHsgdmVyYm9zZTogdmVyYm9zZSwgYXBwZW5kVG86IGFwcGVuZFRvLCBjYWxsYmFja0hhbmRsZXI6IGNhbGxiYWNrSGFuZGxlciB9KTtcclxuICAgIHRoaXMuY2FudmFzID0gbmV3IENhbnZhcyh0aGlzLm9wdGlvbnMpO1xyXG4gICAgdGhpcy5tZW51ID0gbmV3IE1haW5NZW51KHRoaXMub3B0aW9ucyk7XHJcbiAgICB0aGlzLm1lc3NhZ2VzID0gbmV3IE1lc3NhZ2UodGhpcy5vcHRpb25zKTtcclxuICAgIHRoaXMuYWRkKHRoaXMubWVzc2FnZXMpLmFkZCh0aGlzLm1lbnUpLmFkZCh0aGlzLmNhbnZhcyk7XHJcbiAgfVxyXG5cclxuICBAcmVxdWlyZXMoJ2NhbnZhcycpXHJcbiAgcmVuZGVyKCkge1xyXG4gICAgbGV0IHBhcmVudCA9IGQzLnNlbGVjdCh0aGlzLm9wdGlvbnMuYXBwZW5kVG8pO1xyXG5cclxuICAgIGNvbnN0IGZyYW1lSWQgPSBgRnJhbWUtJHt0aGlzLmRhdGEuY2FudmFzLmlkfWA7XHJcbiAgICB0aGlzLmVsZW1lbnQgPSBkMy5zZWxlY3QoYGRpdiMke2ZyYW1lSWR9YCk7XHJcbiAgICAvLyBjaGVjayBpZiB0aGUgY2FudmFzIGlzIGFscmVhZHkgcHJlc2VudFxyXG4gICAgaWYgKCF0aGlzLmVsZW1lbnQubm9kZSgpKSB7XHJcbiAgICAgIC8vIGNyZWF0ZSBhIHN2ZyBlbGVtZW50IGRldGFjaGVkIGZyb20gdGhlIERPTSFcclxuICAgICAgdGhpcy5sb2dnZXIuZGVidWcoYENyZWF0aW5nIEZyYW1lIFske2ZyYW1lSWR9XS4uLmApO1xyXG4gICAgICB0aGlzLmVsZW1lbnQgPSBwYXJlbnQuYXBwZW5kKCdkaXYnKS5hdHRyKCdjbGFzcycsICdmcmFuY3knKS5hdHRyKCdpZCcsIGZyYW1lSWQpO1xyXG4gICAgfVxyXG5cclxuICAgIC8vIGNhbm5vdCBjb250aW51ZSBpZiBjYW52YXMgaXMgbm90IHByZXNlbnRcclxuICAgIGlmICghdGhpcy5lbGVtZW50Lm5vZGUoKSkge1xyXG4gICAgICB0aHJvdyBuZXcgRXJyb3IoYE9vcHMsIGNvdWxkIG5vdCBjcmVhdGUgZnJhbWUgd2l0aCBpZCBbJHtmcmFtZUlkfV0uLi4gQ2Fubm90IHByb2NlZWQuYCk7XHJcbiAgICB9XHJcblxyXG4gICAgdGhpcy5sb2dnZXIuZGVidWcoYEZyYW1lIHVwZGF0ZWQgWyR7ZnJhbWVJZH1dLi4uYCk7XHJcblxyXG4gICAgdGhpcy5yZW5kZXJDaGlsZHJlbigpO1xyXG5cclxuICAgIHJldHVybiB0aGlzO1xyXG4gIH1cclxuXHJcbiAgdW5yZW5kZXIoKSB7fVxyXG5cclxufVxyXG4iLCJpbXBvcnQgUmVuZGVyZXIgZnJvbSAnLi9yZW5kZXJlcic7XHJcbmltcG9ydCBHcmFwaCBmcm9tICcuL2dyYXBoJztcclxuaW1wb3J0IHsgUmVnaXN0ZXJNYXRoSmF4IH0gZnJvbSAnLi4vdXRpbC9jb21wb25lbnQnO1xyXG5cclxuLyogZ2xvYmFsIGQzICovXHJcblxyXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBHZW5lcmljR3JhcGggZXh0ZW5kcyBSZW5kZXJlciB7XHJcblxyXG4gIGNvbnN0cnVjdG9yKHsgdmVyYm9zZSA9IGZhbHNlLCBhcHBlbmRUbywgY2FsbGJhY2tIYW5kbGVyIH0pIHtcclxuICAgIHN1cGVyKHsgdmVyYm9zZTogdmVyYm9zZSwgYXBwZW5kVG86IGFwcGVuZFRvLCBjYWxsYmFja0hhbmRsZXI6IGNhbGxiYWNrSGFuZGxlciB9KTtcclxuICB9XHJcblxyXG4gIHJlbmRlcigpIHtcclxuXHJcbiAgICBsZXQgcGFyZW50ID0gdGhpcy5vcHRpb25zLmFwcGVuZFRvLmVsZW1lbnQ7XHJcblxyXG4gICAgbGV0IHNpbXVsYXRpb25BY3RpdmUgPSB0aGlzLmRhdGEuY2FudmFzLmdyYXBoLnNpbXVsYXRpb247XHJcblxyXG4gICAgbGV0IGNhbnZhc05vZGVzID0gdGhpcy5kYXRhLmNhbnZhcy5ncmFwaC5ub2RlcyA/IE9iamVjdC52YWx1ZXModGhpcy5kYXRhLmNhbnZhcy5ncmFwaC5ub2RlcykgOiBbXSxcclxuICAgICAgY2FudmFzTGlua3MgPSB0aGlzLmRhdGEuY2FudmFzLmdyYXBoLmxpbmtzID8gT2JqZWN0LnZhbHVlcyh0aGlzLmRhdGEuY2FudmFzLmdyYXBoLmxpbmtzKSA6IFtdO1xyXG5cclxuICAgIHRoaXMuZWxlbWVudCA9IHBhcmVudC5zZWxlY3QoJ2cuZnJhbmN5LWNvbnRlbnQnKTtcclxuXHJcbiAgICBsZXQgd2lkdGggPSArcGFyZW50LmF0dHIoJ3dpZHRoJykgfHwgZDMuc2VsZWN0KCdib2R5Jykubm9kZSgpLmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpLndpZHRoLFxyXG4gICAgICBoZWlnaHQgPSArcGFyZW50LmF0dHIoJ2hlaWdodCcpIHx8IGQzLnNlbGVjdCgnYm9keScpLm5vZGUoKS5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKS5oZWlnaHQ7XHJcblxyXG4gICAgbGV0IGxpbmtHcm91cCA9IHRoaXMuZWxlbWVudC5zZWxlY3RBbGwoJ2cuZnJhbmN5LWxpbmtzJyk7XHJcblxyXG4gICAgaWYgKCFsaW5rR3JvdXAubm9kZSgpKSB7XHJcbiAgICAgIGxpbmtHcm91cCA9IHRoaXMuZWxlbWVudC5hcHBlbmQoJ2cnKS5hdHRyKCdjbGFzcycsICdmcmFuY3ktbGlua3MnKTtcclxuICAgIH1cclxuXHJcbiAgICBsZXQgbGlua3MgPSBsaW5rR3JvdXAuc2VsZWN0QWxsKCdnLmZyYW5jeS1saW5rJykuZGF0YSgpO1xyXG4gICAgbGV0IGxpbmtzVG9BZGQgPSBbXTtcclxuICAgIGNhbnZhc0xpbmtzLmZvckVhY2gobCA9PiB7XHJcbiAgICAgIGxldCBsaW5rID0gbGlua3MuZmluZChkID0+IGQuaWQgPT09IGwuaWQpO1xyXG4gICAgICBpZiAobGluaykge1xyXG4gICAgICAgIGxpbmtzVG9BZGQucHVzaChsaW5rKTtcclxuICAgICAgfVxyXG4gICAgICBlbHNlIHtcclxuICAgICAgICBsaW5rc1RvQWRkLnB1c2gobCk7XHJcbiAgICAgIH1cclxuICAgIH0pO1xyXG5cclxuICAgIGxldCBsaW5rID0gbGlua0dyb3VwLnNlbGVjdEFsbCgnZy5mcmFuY3ktbGluaycpLmRhdGEobGlua3NUb0FkZCwgZCA9PiBkLmlkKTtcclxuXHJcbiAgICBsZXQgbm9kZUdyb3VwID0gdGhpcy5lbGVtZW50LnNlbGVjdEFsbCgnZy5mcmFuY3ktbm9kZXMnKTtcclxuXHJcbiAgICBpZiAoIW5vZGVHcm91cC5ub2RlKCkpIHtcclxuICAgICAgbm9kZUdyb3VwID0gdGhpcy5lbGVtZW50LmFwcGVuZCgnZycpLmF0dHIoJ2NsYXNzJywgJ2ZyYW5jeS1ub2RlcycpO1xyXG4gICAgfVxyXG5cclxuICAgIGxldCBub2RlcyA9IG5vZGVHcm91cC5zZWxlY3RBbGwoJ2cuZnJhbmN5LW5vZGUnKS5kYXRhKCk7XHJcbiAgICBsZXQgbm9kZXNUb0FkZCA9IFtdO1xyXG4gICAgY2FudmFzTm9kZXMuZm9yRWFjaChuID0+IHtcclxuICAgICAgbGV0IG5vZGUgPSBub2Rlcy5maW5kKGQgPT4gZC5pZCA9PT0gbi5pZCk7XHJcbiAgICAgIGlmIChub2RlKSB7XHJcbiAgICAgICAgbm9kZXNUb0FkZC5wdXNoKG5vZGUpO1xyXG4gICAgICB9XHJcbiAgICAgIGVsc2Uge1xyXG4gICAgICAgIG5vZGVzVG9BZGQucHVzaChuKTtcclxuICAgICAgfVxyXG4gICAgfSk7XHJcblxyXG4gICAgbGV0IG5vZGUgPSBub2RlR3JvdXAuc2VsZWN0QWxsKCdnLmZyYW5jeS1ub2RlJykuZGF0YShub2Rlc1RvQWRkLCBkID0+IGQuaWQpO1xyXG5cclxuICAgIGlmIChub2RlLmV4aXQoKS5kYXRhKCkubGVuZ3RoID09PSAwICYmXHJcbiAgICAgIG5vZGUuZW50ZXIoKS5kYXRhKCkubGVuZ3RoID09PSAwICYmXHJcbiAgICAgIGxpbmsuZW50ZXIoKS5kYXRhKCkubGVuZ3RoID09PSAwICYmXHJcbiAgICAgIGxpbmsuZXhpdCgpLmRhdGEoKS5sZW5ndGggPT09IDApIHtcclxuICAgICAgcmV0dXJuO1xyXG4gICAgfVxyXG5cclxuICAgIGxldCBsaW5rRW50ZXIgPSBsaW5rLmVudGVyKCkuYXBwZW5kKCdnJykuYXR0cignY2xhc3MnLCAnZnJhbmN5LWxpbmsnKTtcclxuXHJcbiAgICBsaW5rRW50ZXIuYXBwZW5kKCdsaW5lJykuYXR0cignY2xhc3MnLCAnZnJhbmN5LWVkZ2UnKTtcclxuXHJcbiAgICBsaW5rLmV4aXQoKS5yZW1vdmUoKTtcclxuXHJcbiAgICBsaW5rID0gbGlua0dyb3VwLnNlbGVjdEFsbCgnZy5mcmFuY3ktbGluayBsaW5lLmZyYW5jeS1lZGdlJyk7XHJcblxyXG4gICAgaWYgKHRoaXMuZGF0YS5jYW52YXMuZ3JhcGgudHlwZSA9PT0gJ2RpcmVjdGVkJykge1xyXG4gICAgICAvLyB0aGlzIG1lYW5zIHdlIG5lZWQgYXJyb3dzLCBzbyB3ZSBhcHBlbmQgdGhlIG1hcmtlclxyXG4gICAgICBwYXJlbnQuYXBwZW5kKCdkZWZzJykuc2VsZWN0QWxsKCdtYXJrZXInKVxyXG4gICAgICAgIC5kYXRhKFsnYXJyb3cnXSlcclxuICAgICAgICAuZW50ZXIoKS5hcHBlbmQoJ21hcmtlcicpXHJcbiAgICAgICAgLmF0dHIoJ2NsYXNzJywgJ2ZyYW5jeS1hcnJvd3MnKVxyXG4gICAgICAgIC5hdHRyKCdpZCcsIGQgPT4gZClcclxuICAgICAgICAuYXR0cigndmlld0JveCcsICcwIC01IDEwIDEwJylcclxuICAgICAgICAuYXR0cigncmVmWCcsIDI1KVxyXG4gICAgICAgIC5hdHRyKCdyZWZZJywgMClcclxuICAgICAgICAuYXR0cignbWFya2VyV2lkdGgnLCAxMClcclxuICAgICAgICAuYXR0cignbWFya2VySGVpZ2h0JywgMTApXHJcbiAgICAgICAgLmF0dHIoJ29yaWVudCcsICdhdXRvJylcclxuICAgICAgICAuYXBwZW5kKCdwYXRoJylcclxuICAgICAgICAuYXR0cignZCcsICdNMCwtNUwxMCwwTDAsNSBMMTAsMCBMMCwgLTUnKTtcclxuICAgICAgLy8gdXBkYXRlIHRoZSBzdHlsZSBvZiB0aGUgbGlua1xyXG4gICAgICBsaW5rLnN0eWxlKCdtYXJrZXItZW5kJywgJ3VybCgjYXJyb3cpJyk7XHJcbiAgICB9XHJcblxyXG4gICAgbGV0IG5vZGVFbnRlciA9IG5vZGUuZW50ZXIoKS5hcHBlbmQoJ2cnKVxyXG4gICAgICAuYXR0cignY2xhc3MnLCAnZnJhbmN5LW5vZGUnKS5hdHRyKCdpZCcsIGQgPT4gZC5pZCk7XHJcblxyXG4gICAgbm9kZUVudGVyLmFwcGVuZCgncGF0aCcpXHJcbiAgICAgIC5hdHRyKCdkJywgZDMuc3ltYm9sKCkudHlwZShkID0+IEdyYXBoLmdldFN5bWJvbChkLnR5cGUpKS5zaXplKGQgPT4gZC5zaXplICogMTAwKSlcclxuICAgICAgLnN0eWxlKCdmaWxsJywgZCA9PiBHcmFwaC5jb2xvcnMoZC5sYXllciAqIDUpKVxyXG4gICAgICAuYXR0cignY2xhc3MnLCBkID0+ICdmcmFuY3ktc3ltYm9sJyArIChkLmhpZ2hsaWdodCA/ICcgZnJhbmN5LWhpZ2hsaWdodCcgOiAnJykgKyAoT2JqZWN0LnZhbHVlcyhkLm1lbnVzKS5sZW5ndGggPyAnIGZyYW5jeS1jb250ZXh0JyA6ICcnKSk7XHJcblxyXG4gICAgbm9kZUVudGVyLmFwcGVuZCgndGV4dCcpXHJcbiAgICAgIC5hdHRyKCdjbGFzcycsICdmcmFuY3ktbGFiZWwnKVxyXG4gICAgICAuYXR0cigneCcsIGQgPT4gLShkLnRpdGxlLmxlbmd0aCAqIDIuNSkpXHJcbiAgICAgIC50ZXh0KGQgPT4gZC50aXRsZSk7XHJcblxyXG4gICAgbm9kZS5leGl0KCkucmVtb3ZlKCk7XHJcblxyXG4gICAgbm9kZSA9IG5vZGVHcm91cC5zZWxlY3RBbGwoJ2cuZnJhbmN5LW5vZGUnKTtcclxuXHJcbiAgICBpZiAodGhpcy5kYXRhLmNhbnZhcy5ncmFwaC5kcmFnKSB7XHJcbiAgICAgIG5vZGUuY2FsbChkMy5kcmFnKClcclxuICAgICAgICAub24oJ3N0YXJ0JywgZHJhZ3N0YXJ0ZWQpXHJcbiAgICAgICAgLm9uKCdkcmFnJywgZHJhZ2dlZClcclxuICAgICAgICAub24oJ2VuZCcsIGRyYWdlbmRlZCkpO1xyXG4gICAgfVxyXG5cclxuICAgIGlmIChub2RlICYmICFub2RlLmVtcHR5KCkpIHtcclxuXHJcbiAgICAgIEdyYXBoLmFwcGx5RXZlbnRzKG5vZGUsIHRoaXMub3B0aW9ucyk7XHJcblxyXG4gICAgICBpZiAodGhpcy5kYXRhLmNhbnZhcy5ncmFwaC5zaG93TmVpZ2hib3Vycykge1xyXG4gICAgICAgIGxldCBub2RlT25DbGljayA9IG5vZGUub24oJ2NsaWNrJyk7XHJcbiAgICAgICAgbm9kZS5vbignY2xpY2snLCBmdW5jdGlvbihkKSB7XHJcbiAgICAgICAgICAvLyBkZWZhdWx0LCBoaWdobGlnaHQgY29ubmVjdGVkIG5vZGVzXHJcbiAgICAgICAgICBjb25uZWN0ZWROb2Rlcy5jYWxsKHRoaXMpO1xyXG4gICAgICAgICAgLy8gYW55IGNhbGxiYWNrcyB3aWxsIGJlIGhhbmRsZWQgaGVyZVxyXG4gICAgICAgICAgbm9kZU9uQ2xpY2suY2FsbCh0aGlzLCBkKTtcclxuICAgICAgICB9KTtcclxuICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIGlmIChzaW11bGF0aW9uQWN0aXZlKSB7XHJcbiAgICAgIC8vIENhbnZhcyBGb3JjZXNcclxuICAgICAgbGV0IGNlbnRlckZvcmNlID0gZDMuZm9yY2VDZW50ZXIoKS54KHdpZHRoIC8gMikueShoZWlnaHQgLyAyKTtcclxuICAgICAgbGV0IG1hbnlGb3JjZSA9IGQzLmZvcmNlTWFueUJvZHkoKS5zdHJlbmd0aCgtY2FudmFzTm9kZXMubGVuZ3RoICogNTApO1xyXG4gICAgICBsZXQgbGlua0ZvcmNlID0gZDMuZm9yY2VMaW5rKGNhbnZhc0xpbmtzKS5pZChkID0+IGQuaWQpLmRpc3RhbmNlKDUwKTtcclxuICAgICAgbGV0IGNvbGxpZGVGb3JjZSA9IGQzLmZvcmNlQ29sbGlkZShkID0+IGQuc2l6ZSAqIDIpO1xyXG5cclxuICAgICAgLy9HZW5lcmljIGdyYXZpdHkgZm9yIHRoZSBYIHBvc2l0aW9uXHJcbiAgICAgIGxldCBmb3JjZVggPSBkMy5mb3JjZVgod2lkdGggLyAyKS5zdHJlbmd0aCgwLjA1KTtcclxuXHJcbiAgICAgIC8vR2VuZXJpYyBncmF2aXR5IGZvciB0aGUgWSBwb3NpdGlvbiAtIHVuZGlyZWN0ZWQvZGlyZWN0ZWQgZ3JhcGhzIGZhbGwgaGVyZVxyXG4gICAgICBsZXQgZm9yY2VZID0gZDMuZm9yY2VZKGhlaWdodCAvIDIpLnN0cmVuZ3RoKDAuMjUpO1xyXG5cclxuICAgICAgaWYgKHRoaXMuZGF0YS5jYW52YXMuZ3JhcGgudHlwZSA9PT0gJ2hhc3NlJykge1xyXG4gICAgICAgIC8vR2VuZXJpYyBncmF2aXR5IGZvciB0aGUgWCBwb3NpdGlvblxyXG4gICAgICAgIGZvcmNlWCA9IGQzLmZvcmNlWCh3aWR0aCAvIDIpLnN0cmVuZ3RoKDAuMyk7XHJcbiAgICAgICAgLy9TdHJvbmcgeSBwb3NpdGlvbmluZyBiYXNlZCBvbiBsYXllciB0byBzaW11bGF0ZSB0aGUgaGFzc2UgZGlhZ3JhbVxyXG4gICAgICAgIGZvcmNlWSA9IGQzLmZvcmNlWShkID0+IGQubGF5ZXIgKiA3NSkuc3RyZW5ndGgoMC43KTtcclxuICAgICAgfVxyXG5cclxuICAgICAgdmFyIHNpbXVsYXRpb24gPSBkMy5mb3JjZVNpbXVsYXRpb24oKS5ub2Rlcyhub2Rlc1RvQWRkKVxyXG4gICAgICAgIC5mb3JjZShcImNoYXJnZVwiLCBtYW55Rm9yY2UpXHJcbiAgICAgICAgLmZvcmNlKFwibGlua1wiLCBsaW5rRm9yY2UpXHJcbiAgICAgICAgLmZvcmNlKFwiY2VudGVyXCIsIGNlbnRlckZvcmNlKVxyXG4gICAgICAgIC5mb3JjZShcInhcIiwgZm9yY2VYKVxyXG4gICAgICAgIC5mb3JjZShcInlcIiwgZm9yY2VZKVxyXG4gICAgICAgIC5mb3JjZShcImNvbGxpZGVcIiwgY29sbGlkZUZvcmNlKVxyXG4gICAgICAgIC5vbigndGljaycsIHRpY2tlZClcclxuICAgICAgICAub24oXCJlbmRcIiwgZnVuY3Rpb24oKSB7XHJcbiAgICAgICAgICAvLyB6b29tIHRvIGZpdCB3aGVuIHNpbXVsYXRpb24gaXMgb3ZlclxyXG4gICAgICAgICAgcGFyZW50Lnpvb21Ub0ZpdCgpO1xyXG4gICAgICAgIH0pO1xyXG5cclxuICAgICAgLy9mb3JjZSBzaW11bGF0aW9uIHJlc3RhcnRcclxuICAgICAgc2ltdWxhdGlvbi5hbHBoYSgwLjUpLnJlc3RhcnQoKTtcclxuICAgIH1cclxuICAgIGVsc2Uge1xyXG4gICAgICAvLyB3ZWxsLCBzaW11bGF0aW9uIGlzIG9mZiwgYXBwbHkgZml4ZWQgcG9zaXRpb25zIGFuZCB6b29tIHRvIGZpdCBub3dcclxuICAgICAgdGlja2VkKCk7XHJcbiAgICAgIHBhcmVudC56b29tVG9GaXQoKTtcclxuICAgIH1cclxuXHJcbiAgICBmdW5jdGlvbiB0aWNrZWQoKSB7XHJcbiAgICAgIGxpbmtcclxuICAgICAgICAuYXR0cigneDEnLCBkID0+IGQuc291cmNlLngpXHJcbiAgICAgICAgLmF0dHIoJ3kxJywgZCA9PiBkLnNvdXJjZS55KVxyXG4gICAgICAgIC5hdHRyKCd4MicsIGQgPT4gZC50YXJnZXQueClcclxuICAgICAgICAuYXR0cigneTInLCBkID0+IGQudGFyZ2V0LnkpO1xyXG5cclxuICAgICAgbm9kZS5hdHRyKCd0cmFuc2Zvcm0nLCBkID0+IGB0cmFuc2xhdGUoJHtkLnh9LCR7ZC55fSlgKTtcclxuICAgIH1cclxuXHJcbiAgICAvLyBISUdITElHSFRcclxuICAgIC8vVG9nZ2xlIHN0b3JlcyB3aGV0aGVyIHRoZSBoaWdobGlnaHRpbmcgaXMgb25cclxuICAgIGxldCB0b2dnbGUgPSAwO1xyXG4gICAgLy9DcmVhdGUgYW4gYXJyYXkgbG9nZ2luZyB3aGF0IGlzIGNvbm5lY3RlZCB0byB3aGF0XHJcbiAgICBsZXQgbGlua2VkQnlJbmRleCA9IHt9O1xyXG5cclxuICAgIGZvciAobGV0IGkgPSAwOyBpIDwgY2FudmFzTm9kZXMubGVuZ3RoOyBpKyspIHtcclxuICAgICAgbGlua2VkQnlJbmRleFtgJHtpfSwke2l9YF0gPSAxO1xyXG4gICAgfVxyXG5cclxuICAgIGNhbnZhc0xpbmtzLmZvckVhY2goZnVuY3Rpb24oZCkge1xyXG4gICAgICBsaW5rZWRCeUluZGV4W2Ake2Quc291cmNlLmluZGV4fSwke2QudGFyZ2V0LmluZGV4fWBdID0gMTtcclxuICAgIH0pO1xyXG5cclxuICAgIGZ1bmN0aW9uIGNvbm5lY3RlZE5vZGVzKCkge1xyXG4gICAgICAvL1RoaXMgZnVuY3Rpb24gbG9va3MgdXAgd2hldGhlciBhIHBhaXIgYXJlIG5laWdoYm91cnNcclxuICAgICAgZnVuY3Rpb24gbmVpZ2hib3JpbmcoYSwgYikge1xyXG4gICAgICAgIHJldHVybiBsaW5rZWRCeUluZGV4W2Ake2EuaW5kZXh9LCR7Yi5pbmRleH1gXTtcclxuICAgICAgfVxyXG4gICAgICBkMy5ldmVudC5wcmV2ZW50RGVmYXVsdCgpO1xyXG4gICAgICBpZiAodG9nZ2xlID09PSAwKSB7XHJcbiAgICAgICAgLy9SZWR1Y2UgdGhlIG9wYWNpdHkgb2YgYWxsIGJ1dCB0aGUgbmVpZ2hib3VyaW5nIG5vZGVzXHJcbiAgICAgICAgbGV0IGQgPSBkMy5zZWxlY3QodGhpcykubm9kZSgpLl9fZGF0YV9fO1xyXG4gICAgICAgIG5vZGUuc3R5bGUoJ29wYWNpdHknLCBvID0+IG5laWdoYm9yaW5nKGQsIG8pIHx8IG5laWdoYm9yaW5nKG8sIGQpID8gMSA6IDAuMSk7XHJcbiAgICAgICAgbGluay5zdHlsZSgnb3BhY2l0eScsIG8gPT4gZC5pbmRleCA9PT0gby5zb3VyY2UuaW5kZXggfHwgZC5pbmRleCA9PT0gby50YXJnZXQuaW5kZXggPyAxIDogMC4xKTtcclxuICAgICAgICAvL1JlZHVjZSB0aGUgb3BcclxuICAgICAgICB0b2dnbGUgPSAxO1xyXG4gICAgICB9XHJcbiAgICAgIGVsc2Uge1xyXG4gICAgICAgIC8vUHV0IHRoZW0gYmFjayB0byBvcGFjaXR5PTFcclxuICAgICAgICBub2RlLnN0eWxlKCdvcGFjaXR5JywgMSk7XHJcbiAgICAgICAgbGluay5zdHlsZSgnb3BhY2l0eScsIDEpO1xyXG4gICAgICAgIHRvZ2dsZSA9IDA7XHJcbiAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICBmdW5jdGlvbiBkcmFnc3RhcnRlZChkKSB7XHJcbiAgICAgIGlmICghZDMuZXZlbnQuYWN0aXZlICYmIHNpbXVsYXRpb25BY3RpdmUpIHtcclxuICAgICAgICBzaW11bGF0aW9uLmFscGhhVGFyZ2V0KDAuMDEpLnJlc3RhcnQoKTtcclxuICAgICAgfVxyXG4gICAgICBkLmZ4ID0gZC54O1xyXG4gICAgICBkLmZ5ID0gZC55O1xyXG4gICAgfVxyXG5cclxuICAgIGZ1bmN0aW9uIGRyYWdnZWQoZCkge1xyXG4gICAgICBkLmZ4ID0gZDMuZXZlbnQueDtcclxuICAgICAgZC5meSA9IGQzLmV2ZW50Lnk7XHJcbiAgICB9XHJcblxyXG4gICAgZnVuY3Rpb24gZHJhZ2VuZGVkKGQpIHtcclxuICAgICAgaWYgKCFkMy5ldmVudC5hY3RpdmUgJiYgc2ltdWxhdGlvbkFjdGl2ZSkge1xyXG4gICAgICAgIHNpbXVsYXRpb24uYWxwaGFUYXJnZXQoMCk7XHJcbiAgICAgIH1cclxuICAgICAgZC5meCA9IG51bGw7XHJcbiAgICAgIGQuZnkgPSBudWxsO1xyXG4gICAgfVxyXG5cclxuICAgIFJlZ2lzdGVyTWF0aEpheCh0aGlzLlNWR1BhcmVudCk7XHJcblxyXG4gICAgcmV0dXJuIHRoaXM7XHJcblxyXG4gIH1cclxuXHJcbiAgdW5yZW5kZXIoKSB7fVxyXG5cclxufVxyXG4iLCJpbXBvcnQgUmVuZGVyZXIgZnJvbSAnLi9yZW5kZXJlcic7XHJcbmltcG9ydCBHcmFwaCBmcm9tICcuL2dyYXBoJztcclxuaW1wb3J0IHsgUmVnaXN0ZXJNYXRoSmF4IH0gZnJvbSAnLi4vdXRpbC9jb21wb25lbnQnO1xyXG5cclxuLyogZ2xvYmFsIGQzICovXHJcblxyXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBUcmVlR3JhcGggZXh0ZW5kcyBSZW5kZXJlciB7XHJcblxyXG4gIGNvbnN0cnVjdG9yKHsgdmVyYm9zZSA9IGZhbHNlLCBhcHBlbmRUbywgY2FsbGJhY2tIYW5kbGVyIH0pIHtcclxuICAgIHN1cGVyKHsgdmVyYm9zZTogdmVyYm9zZSwgYXBwZW5kVG86IGFwcGVuZFRvLCBjYWxsYmFja0hhbmRsZXI6IGNhbGxiYWNrSGFuZGxlciB9KTtcclxuICB9XHJcblxyXG4gIHJlbmRlcigpIHtcclxuXHJcbiAgICBsZXQgcGFyZW50ID0gdGhpcy5vcHRpb25zLmFwcGVuZFRvLmVsZW1lbnQ7XHJcblxyXG4gICAgdGhpcy5lbGVtZW50ID0gcGFyZW50LnNlbGVjdCgnZy5mcmFuY3ktY29udGVudCcpO1xyXG5cclxuICAgIGxldCB3aWR0aCA9ICtwYXJlbnQuYXR0cignd2lkdGgnKSB8fCBkMy5zZWxlY3QoJ2JvZHknKS5ub2RlKCkuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCkud2lkdGgsXHJcbiAgICAgIGhlaWdodCA9ICtwYXJlbnQuYXR0cignaGVpZ2h0JykgfHwgZDMuc2VsZWN0KCdib2R5Jykubm9kZSgpLmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpLmhlaWdodDtcclxuXHJcbiAgICBsZXQgaSA9IDAsXHJcbiAgICAgIHJvb3Q7XHJcblxyXG4gICAgcm9vdCA9IGQzLmhpZXJhcmNoeSh0aGlzLnRyZWVEYXRhLCBkID0+IGQuY2hpbGRyZW4pO1xyXG4gICAgcm9vdC54MCA9IGhlaWdodCAvIDI7XHJcbiAgICByb290LnkwID0gMDtcclxuXHJcbiAgICAvLyBjb21wdXRlIGhlaWdodCBiYXNlZCBvbiB0aGUgZGVwdGggb2YgdGhlIGdyYXBoXHJcbiAgICBsZXQgbGV2ZWxXaWR0aCA9IFsxXTtcclxuICAgIGxldCBjaGlsZENvdW50ID0gZnVuY3Rpb24gKGxldmVsLCBuKSB7XHJcblxyXG4gICAgICBpZiAobi5jaGlsZHJlbiAmJiBuLmNoaWxkcmVuLmxlbmd0aCA+IDApIHtcclxuICAgICAgICBpZiAobGV2ZWxXaWR0aC5sZW5ndGggPD0gbGV2ZWwgKyAxKSBsZXZlbFdpZHRoLnB1c2goMCk7XHJcblxyXG4gICAgICAgIGxldmVsV2lkdGhbbGV2ZWwgKyAxXSArPSBuLmNoaWxkcmVuLmxlbmd0aDtcclxuICAgICAgICBuLmNoaWxkcmVuLmZvckVhY2goZnVuY3Rpb24gKGQpIHtcclxuICAgICAgICAgIGNoaWxkQ291bnQobGV2ZWwgKyAxLCBkKTtcclxuICAgICAgICB9KTtcclxuICAgICAgfVxyXG4gICAgfTtcclxuICAgIGNoaWxkQ291bnQoMCwgcm9vdCk7XHJcbiAgICBsZXQgbmV3SGVpZ2h0ID0gZDMubWF4KGxldmVsV2lkdGgpICogMTAwO1xyXG5cclxuICAgIGxldCB0cmVlbWFwID0gZDMudHJlZSgpLnNpemUoW25ld0hlaWdodCwgd2lkdGhdKTtcclxuXHJcbiAgICBpZiAodGhpcy5kYXRhLmNhbnZhcy5ncmFwaC5jb2xsYXBzZWQpIHtcclxuICAgICAgcm9vdC5jaGlsZHJlbi5mb3JFYWNoKGNvbGxhcHNlKTtcclxuICAgIH1cclxuXHJcbiAgICB1cGRhdGUuY2FsbCh0aGlzLCByb290KTtcclxuXHJcbiAgICBmdW5jdGlvbiBjb2xsYXBzZShkKSB7XHJcbiAgICAgIGlmIChkLmNoaWxkcmVuKSB7XHJcbiAgICAgICAgZC5fY2hpbGRyZW4gPSBkLmNoaWxkcmVuO1xyXG4gICAgICAgIGQuX2NoaWxkcmVuLmZvckVhY2goY29sbGFwc2UpO1xyXG4gICAgICAgIGQuY2hpbGRyZW4gPSBudWxsO1xyXG4gICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgZnVuY3Rpb24gdXBkYXRlKHNvdXJjZSkge1xyXG4gICAgICBsZXQgdHJlZURhdGEgPSB0cmVlbWFwKHJvb3QpO1xyXG5cclxuICAgICAgbGV0IG5vZGVzID0gdHJlZURhdGEuZGVzY2VuZGFudHMoKSxcclxuICAgICAgICBsaW5rcyA9IHRyZWVEYXRhLmRlc2NlbmRhbnRzKCkuc2xpY2UoMSk7XHJcblxyXG4gICAgICBub2Rlcy5mb3JFYWNoKGQgPT4gZC55ID0gZC5kZXB0aCAqIDE4MCk7XHJcblxyXG4gICAgICBsZXQgbGlua0dyb3VwID0gdGhpcy5lbGVtZW50LnNlbGVjdEFsbCgnZy5mcmFuY3ktbGlua3MnKTtcclxuXHJcbiAgICAgIGlmICghbGlua0dyb3VwLm5vZGUoKSkge1xyXG4gICAgICAgIGxpbmtHcm91cCA9IHRoaXMuZWxlbWVudC5hcHBlbmQoJ2cnKS5hdHRyKCdjbGFzcycsICdmcmFuY3ktbGlua3MnKTtcclxuICAgICAgfVxyXG5cclxuICAgICAgbGV0IGxpbmsgPSBsaW5rR3JvdXAuc2VsZWN0QWxsKCdwYXRoLmZyYW5jeS1lZGdlJylcclxuICAgICAgICAuZGF0YShsaW5rcywgZCA9PiBkLmlkIHx8IChkLmlkID0gKytpKSk7XHJcblxyXG4gICAgICBsZXQgbGlua0VudGVyID0gbGluay5lbnRlcigpXHJcbiAgICAgICAgLmFwcGVuZCgncGF0aCcpLmF0dHIoJ2NsYXNzJywgJ2ZyYW5jeS1lZGdlJylcclxuICAgICAgICAuYXR0cignZCcsICgpID0+IHtcclxuICAgICAgICAgIGxldCBvID0ge3g6IHNvdXJjZS54MCwgeTogc291cmNlLnkwfTtcclxuICAgICAgICAgIHJldHVybiBkaWFnb25hbChvLCBvKTtcclxuICAgICAgICB9KTtcclxuXHJcbiAgICAgIGxpbmtFbnRlci5tZXJnZShsaW5rKVxyXG4gICAgICAgIC50cmFuc2l0aW9uKCkuZHVyYXRpb24odGhpcy50cmFuc2l0aW9uRHVyYXRpb24pLmF0dHIoJ2QnLCBkID0+IGRpYWdvbmFsKGQsIGQucGFyZW50KSk7XHJcblxyXG4gICAgICBsaW5rLmV4aXQoKS50cmFuc2l0aW9uKCkuZHVyYXRpb24odGhpcy50cmFuc2l0aW9uRHVyYXRpb24pXHJcbiAgICAgICAgLmF0dHIoJ2QnLCAoKSA9PiB7XHJcbiAgICAgICAgICBsZXQgbyA9IHt4OiBzb3VyY2UueCwgeTogc291cmNlLnl9O1xyXG4gICAgICAgICAgcmV0dXJuIGRpYWdvbmFsKG8sIG8pO1xyXG4gICAgICAgIH0pLnJlbW92ZSgpO1xyXG5cclxuICAgICAgbGlua0dyb3VwLnNlbGVjdEFsbCgncGF0aC5mcmFuY3ktZWRnZScpXHJcbiAgICAgICAgLnN0eWxlKCdmaWxsJywgJ25vbmUnKVxyXG4gICAgICAgIC5zdHlsZSgnc3Ryb2tlJywgJyNjY2MnKVxyXG4gICAgICAgIC5zdHlsZSgnc3Ryb2tlLXdpZHRoJywgJzFweCcpO1xyXG5cclxuICAgICAgbm9kZXMuZm9yRWFjaCgoZCkgPT4ge1xyXG4gICAgICAgIGQueDAgPSBkLng7XHJcbiAgICAgICAgZC55MCA9IGQueTtcclxuICAgICAgfSk7XHJcblxyXG4gICAgICBmdW5jdGlvbiBkaWFnb25hbChzLCBkKSB7XHJcbiAgICAgICAgcmV0dXJuIGBNICR7cy55fSAke3MueH1cclxuICAgICAgICAgICAgQyAkeyhzLnkgKyBkLnkpIC8gMn0gJHtzLnh9LFxyXG4gICAgICAgICAgICAgICR7KHMueSArIGQueSkgLyAyfSAke2QueH0sXHJcbiAgICAgICAgICAgICAgJHtkLnl9ICR7ZC54fWA7XHJcbiAgICAgIH1cclxuXHJcbiAgICAgIGxldCBub2RlR3JvdXAgPSB0aGlzLmVsZW1lbnQuc2VsZWN0QWxsKCdnLmZyYW5jeS1ub2RlcycpO1xyXG5cclxuICAgICAgaWYgKCFub2RlR3JvdXAubm9kZSgpKSB7XHJcbiAgICAgICAgbm9kZUdyb3VwID0gdGhpcy5lbGVtZW50LmFwcGVuZCgnZycpLmF0dHIoJ2NsYXNzJywgJ2ZyYW5jeS1ub2RlcycpO1xyXG4gICAgICB9XHJcblxyXG4gICAgICBsZXQgbm9kZSA9IG5vZGVHcm91cC5zZWxlY3RBbGwoJ2cuZnJhbmN5LW5vZGUnKVxyXG4gICAgICAgIC5kYXRhKG5vZGVzLCBkID0+IGQuaWQgfHwgKGQuaWQgPSArK2kpKTtcclxuXHJcbiAgICAgIGxldCBub2RlRW50ZXIgPSBub2RlLmVudGVyKCkuYXBwZW5kKCdnJylcclxuICAgICAgICAuYXR0cignY2xhc3MnLCAnZnJhbmN5LW5vZGUnKVxyXG4gICAgICAgIC5hdHRyKCd0cmFuc2Zvcm0nLCAoKSA9PiBgdHJhbnNsYXRlKCR7c291cmNlLnkwfSwke3NvdXJjZS54MH0pYCk7XHJcblxyXG4gICAgICBub2RlRW50ZXIuYXBwZW5kKCdwYXRoJylcclxuICAgICAgICAuYXR0cignZCcsIGQzLnN5bWJvbCgpLnR5cGUoZCA9PiBHcmFwaC5nZXRTeW1ib2woZC5kYXRhLnR5cGUpKS5zaXplKGQgPT4gZC5kYXRhLnNpemUgKiAxMDApKVxyXG4gICAgICAgIC5hdHRyKCdjbGFzcycsICdmcmFuY3ktc3ltYm9sJyk7XHJcblxyXG4gICAgICBub2RlRW50ZXIuYXBwZW5kKCd0ZXh0JylcclxuICAgICAgICAuYXR0cignY2xhc3MnLCAnZnJhbmN5LWxhYmVsJylcclxuICAgICAgICAuYXR0cigneCcsIGQgPT4gLShkLmRhdGEudGl0bGUubGVuZ3RoICogMi41KSlcclxuICAgICAgICAuc3R5bGUoJ2N1cnNvcicsIGQgPT4gZC5jaGlsZHJlbiB8fCBkLl9jaGlsZHJlbiA/ICdwb2ludGVyJyA6ICdkZWZhdWx0JylcclxuICAgICAgICAudGV4dChkID0+IGQuZGF0YS50aXRsZSk7XHJcblxyXG4gICAgICBsZXQgbm9kZVVwZGF0ZSA9IG5vZGVFbnRlci5tZXJnZShub2RlKTtcclxuXHJcbiAgICAgIG5vZGVVcGRhdGUudHJhbnNpdGlvbigpXHJcbiAgICAgICAgLmR1cmF0aW9uKHRoaXMudHJhbnNpdGlvbkR1cmF0aW9uKVxyXG4gICAgICAgIC5hdHRyKCd0cmFuc2Zvcm0nLCBkID0+IGB0cmFuc2xhdGUoJHtkLnl9LCR7ZC54fSlgKTtcclxuXHJcbiAgICAgIG5vZGUuZXhpdCgpLnRyYW5zaXRpb24oKS5kdXJhdGlvbih0aGlzLnRyYW5zaXRpb25EdXJhdGlvbilcclxuICAgICAgICAuYXR0cigndHJhbnNmb3JtJywgKCkgPT4gYHRyYW5zbGF0ZSgke3NvdXJjZS55fSwke3NvdXJjZS54fSlgKVxyXG4gICAgICAgIC5yZW1vdmUoKTtcclxuXHJcbiAgICAgIG5vZGVHcm91cC5zZWxlY3RBbGwoJ3BhdGguZnJhbmN5LXN5bWJvbCcpXHJcbiAgICAgICAgLnN0eWxlKCdmaWxsJywgZCA9PiBkLmNoaWxkcmVuIHx8IGQuX2NoaWxkcmVuID8gJ2xpZ2h0c3RlZWxibHVlJyA6IEdyYXBoLmNvbG9ycyhkLmRhdGEubGF5ZXIgKiA1KSlcclxuICAgICAgICAuc3R5bGUoJ2N1cnNvcicsIGQgPT4gZC5jaGlsZHJlbiB8fCBkLl9jaGlsZHJlbiA/ICdwb2ludGVyJyA6ICdkZWZhdWx0Jyk7XHJcblxyXG4gICAgICBub2RlID0gbm9kZUdyb3VwLnNlbGVjdEFsbCgnZy5mcmFuY3ktbm9kZScpO1xyXG4gICAgICBHcmFwaC5hcHBseUV2ZW50cyhub2RlLCB0aGlzLm9wdGlvbnMpO1xyXG5cclxuICAgICAgbGV0IG5vZGVPbkNsaWNrID0gbm9kZS5vbignY2xpY2snKTtcclxuICAgICAgbm9kZS5vbignY2xpY2snLCAoZCkgPT4ge1xyXG4gICAgICAgIC8vIGFueSBjYWxsYmFja3Mgd2lsbCBiZSBoYW5kbGVkIGhlcmVcclxuICAgICAgICBub2RlT25DbGljay5jYWxsKHRoaXMsIGQuZGF0YSk7XHJcbiAgICAgICAgLy8gZGVmYXVsdCwgaGlnaGxpZ2h0IGNvbm5lY3RlZCBub2Rlc1xyXG4gICAgICAgIGNsaWNrLmNhbGwodGhpcywgZCk7XHJcbiAgICAgIH0pO1xyXG5cclxuICAgICAgLy8gVG9nZ2xlIGNoaWxkcmVuIG9uIGNsaWNrLlxyXG4gICAgICBsZXQgc2VsZiA9IHRoaXM7XHJcblxyXG4gICAgICBmdW5jdGlvbiBjbGljayhkKSB7XHJcbiAgICAgICAgaWYgKGQuY2hpbGRyZW4pIHtcclxuICAgICAgICAgIGQuX2NoaWxkcmVuID0gZC5jaGlsZHJlbjtcclxuICAgICAgICAgIGQuY2hpbGRyZW4gPSBudWxsO1xyXG4gICAgICAgIH1cclxuICAgICAgICBlbHNlIHtcclxuICAgICAgICAgIGQuY2hpbGRyZW4gPSBkLl9jaGlsZHJlbjtcclxuICAgICAgICAgIGQuX2NoaWxkcmVuID0gbnVsbDtcclxuICAgICAgICB9XHJcbiAgICAgICAgdXBkYXRlLmNhbGwoc2VsZiwgZCk7XHJcbiAgICAgIH1cclxuXHJcbiAgICAgIFJlZ2lzdGVyTWF0aEpheCh0aGlzLlNWR1BhcmVudCk7XHJcblxyXG4gICAgICBzZXRUaW1lb3V0KCgpID0+IHtcclxuICAgICAgICBwYXJlbnQuem9vbVRvRml0KCk7XHJcbiAgICAgIH0sIHRoaXMudHJhbnNpdGlvbkR1cmF0aW9uKTtcclxuICAgIH1cclxuXHJcbiAgICByZXR1cm4gdGhpcztcclxuXHJcbiAgfVxyXG5cclxuICB1bnJlbmRlcigpIHt9XHJcblxyXG4gIC8qKlxyXG4gICAqIFRyYW5zZm9ybXMgZmxhdCBkYXRhIGludG8gdHJlZSBkYXRhIGJ5IGFuYWx5c2luZyB0aGUgcGFyZW50cyBvZiBlYWNoIG5vZGVcclxuICAgKiBAcmV0dXJucyB7T2JqZWN0fSB0aGUgZGF0YSB0cmFuc2Zvcm1lZCBpbiB0cmVlIGRhdGFcclxuICAgKi9cclxuICBnZXQgdHJlZURhdGEoKSB7XHJcbiAgICBsZXQgY2FudmFzTm9kZXMgPSB0aGlzLmRhdGEuY2FudmFzLmdyYXBoLm5vZGVzID8gT2JqZWN0LnZhbHVlcyh0aGlzLmRhdGEuY2FudmFzLmdyYXBoLm5vZGVzKSA6IFtdO1xyXG4gICAgbGV0IGRhdGFNYXAgPSBjYW52YXNOb2Rlcy5yZWR1Y2UoZnVuY3Rpb24gKG1hcCwgbm9kZSkge1xyXG4gICAgICBtYXBbbm9kZS5pZF0gPSBub2RlO1xyXG4gICAgICByZXR1cm4gbWFwO1xyXG4gICAgfSwge30pO1xyXG4gICAgbGV0IHRyZWVEYXRhID0gW107XHJcbiAgICBjYW52YXNOb2Rlcy5mb3JFYWNoKGZ1bmN0aW9uKG5vZGUpIHtcclxuICAgICAgbGV0IHBhcmVudCA9IGRhdGFNYXBbbm9kZS5wYXJlbnRdO1xyXG4gICAgICBpZiAocGFyZW50KSB7XHJcbiAgICAgICAgKHBhcmVudC5jaGlsZHJlbiB8fCAocGFyZW50LmNoaWxkcmVuID0gW10pKS5wdXNoKG5vZGUpO1xyXG4gICAgICB9XHJcbiAgICAgIGVsc2Uge1xyXG4gICAgICAgIHRyZWVEYXRhLnB1c2gobm9kZSk7XHJcbiAgICAgIH1cclxuICAgIH0pO1xyXG4gICAgcmV0dXJuIHRyZWVEYXRhWzBdO1xyXG4gIH1cclxuXHJcbn1cclxuIiwiaW1wb3J0IFJlbmRlcmVyIGZyb20gJy4vcmVuZGVyZXInO1xyXG5pbXBvcnQgVHJlZUdyYXBoIGZyb20gJy4vZ3JhcGgtdHJlZSc7XHJcbmltcG9ydCBHZW5lcmljR3JhcGggZnJvbSAnLi9ncmFwaC1nZW5lcmljJztcclxuaW1wb3J0IENvbnRleHRNZW51IGZyb20gJy4vbWVudS1jb250ZXh0JztcclxuaW1wb3J0IFRvb2x0aXAgZnJvbSAnLi90b29sdGlwJztcclxuaW1wb3J0IENhbGxiYWNrIGZyb20gJy4vY2FsbGJhY2snO1xyXG5pbXBvcnQgeyByZXF1aXJlcyB9IGZyb20gJy4uL2RlY29yYXRvci9kYXRhJztcclxuXHJcbi8qIGdsb2JhbCBkMyAqL1xyXG5cclxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgR3JhcGggZXh0ZW5kcyBSZW5kZXJlciB7XHJcblxyXG4gIGNvbnN0cnVjdG9yKHsgdmVyYm9zZSA9IGZhbHNlLCBhcHBlbmRUbywgY2FsbGJhY2tIYW5kbGVyIH0pIHtcclxuICAgIHN1cGVyKHsgdmVyYm9zZTogdmVyYm9zZSwgYXBwZW5kVG86IGFwcGVuZFRvLCBjYWxsYmFja0hhbmRsZXI6IGNhbGxiYWNrSGFuZGxlciB9KTtcclxuICB9XHJcblxyXG4gIEByZXF1aXJlcygnY2FudmFzLmdyYXBoJylcclxuICByZW5kZXIoKSB7XHJcblxyXG4gICAgbGV0IGVsZW1lbnQgPSB1bmRlZmluZWQ7XHJcbiAgICBzd2l0Y2ggKHRoaXMuZGF0YS5jYW52YXMuZ3JhcGgudHlwZSkge1xyXG4gICAgICBjYXNlICd0cmVlJzpcclxuICAgICAgICBlbGVtZW50ID0gbmV3IFRyZWVHcmFwaCh0aGlzLm9wdGlvbnMpLmxvYWQodGhpcy5kYXRhKS5yZW5kZXIoKTtcclxuICAgICAgICBicmVhaztcclxuICAgICAgZGVmYXVsdDpcclxuICAgICAgICBlbGVtZW50ID0gbmV3IEdlbmVyaWNHcmFwaCh0aGlzLm9wdGlvbnMpLmxvYWQodGhpcy5kYXRhKS5yZW5kZXIoKTtcclxuICAgIH1cclxuXHJcbiAgICByZXR1cm4gZWxlbWVudDtcclxuICB9XHJcblxyXG4gIHVucmVuZGVyKCkge31cclxuXHJcbiAgc3RhdGljIGFwcGx5RXZlbnRzKGVsZW1lbnQsIG9wdGlvbnMpIHtcclxuICAgIGlmICghZWxlbWVudCkgcmV0dXJuO1xyXG5cclxuICAgIGxldCB0b29sdGlwID0gbmV3IFRvb2x0aXAob3B0aW9ucyk7XHJcbiAgICBsZXQgY29udGV4dE1lbnUgPSBuZXcgQ29udGV4dE1lbnUob3B0aW9ucyk7XHJcbiAgICBsZXQgY2FsbGJhY2sgPSBuZXcgQ2FsbGJhY2sob3B0aW9ucyk7XHJcblxyXG4gICAgZWxlbWVudFxyXG4gICAgICAub24oJ2NvbnRleHRtZW51JywgZnVuY3Rpb24oZCkge1xyXG4gICAgICAgIGQgPSBkLmRhdGEgfHwgZDtcclxuICAgICAgICAvLyBkZWZhdWx0LCBidWlsZCBjb250ZXh0IG1lbnVcclxuICAgICAgICBjb250ZXh0TWVudS5sb2FkKGQsIHRydWUpLnJlbmRlcigpO1xyXG4gICAgICAgIC8vIGFueSBjYWxsYmFja3Mgd2lsbCBiZSBoYW5kbGVkIGhlcmVcclxuICAgICAgICBleGVjdXRlQ2FsbGJhY2suY2FsbCh0aGlzLCBkLCAnY29udGV4dG1lbnUnKTtcclxuICAgICAgfSlcclxuICAgICAgLm9uKCdjbGljaycsIGZ1bmN0aW9uKGQpIHtcclxuICAgICAgICBkID0gZC5kYXRhIHx8IGQ7XHJcbiAgICAgICAgLy8gYW55IGNhbGxiYWNrcyB3aWxsIGJlIGhhbmRsZWQgaGVyZVxyXG4gICAgICAgIGV4ZWN1dGVDYWxsYmFjay5jYWxsKHRoaXMsIGQsICdjbGljaycpO1xyXG4gICAgICB9KVxyXG4gICAgICAub24oJ2RibGNsaWNrJywgZnVuY3Rpb24oZCkge1xyXG4gICAgICAgIGQgPSBkLmRhdGEgfHwgZDtcclxuICAgICAgICAvLyBhbnkgY2FsbGJhY2tzIHdpbGwgYmUgaGFuZGxlZCBoZXJlXHJcbiAgICAgICAgZXhlY3V0ZUNhbGxiYWNrLmNhbGwodGhpcywgZCwgJ2RibGNsaWNrJyk7XHJcbiAgICAgIH0pXHJcbiAgICAgIC5vbignbW91c2VlbnRlcicsIGQgPT4ge1xyXG4gICAgICAgIGQgPSBkLmRhdGEgfHwgZDtcclxuICAgICAgICAvLyBkZWZhdWx0LCBzaG93IHRvb2x0aXBcclxuICAgICAgICB0b29sdGlwLmxvYWQoZC5tZXNzYWdlcywgdHJ1ZSkucmVuZGVyKCk7XHJcbiAgICAgIH0pXHJcbiAgICAgIC5vbignbW91c2VsZWF2ZScsICgpID0+IHtcclxuICAgICAgICAvLyBkZWZhdWx0LCBoaWRlIHRvb2x0aXBcclxuICAgICAgICB0b29sdGlwLnVucmVuZGVyKCk7XHJcbiAgICAgIH0pO1xyXG5cclxuICAgIGZ1bmN0aW9uIGV4ZWN1dGVDYWxsYmFjayhkYXRhLCBldmVudCkge1xyXG4gICAgICBpZiAoZGF0YS5jYWxsYmFja3MpIHtcclxuICAgICAgICBPYmplY3QudmFsdWVzKGRhdGEuY2FsbGJhY2tzKS5mb3JFYWNoKChjYikgPT4ge1xyXG4gICAgICAgICAgLy8gZXhlY3V0ZSB0aGUgb25lcyB0aGF0IG1hdGNoIHRoZSBldmVudCFcclxuICAgICAgICAgIGNiLnRyaWdnZXIgPT09IGV2ZW50ICYmIGNhbGxiYWNrLmxvYWQoeyBjYWxsYmFjazogY2IgfSwgdHJ1ZSkuZXhlY3V0ZSgpO1xyXG4gICAgICAgIH0pO1xyXG4gICAgICB9XHJcbiAgICB9XHJcbiAgfVxyXG5cclxuICBzdGF0aWMgZ2V0IGNvbG9ycygpIHtcclxuICAgIHJldHVybiBkMy5zY2FsZVNlcXVlbnRpYWwoKS5kb21haW4oWzAsIDEwMF0pLmludGVycG9sYXRvcihkMy5pbnRlcnBvbGF0ZVJhaW5ib3cpO1xyXG4gIH1cclxuXHJcbiAgc3RhdGljIGdldFN5bWJvbCh0eXBlKSB7XHJcbiAgICBpZiAodHlwZSA9PT0gJ2NpcmNsZScpIHtcclxuICAgICAgcmV0dXJuIGQzLnN5bWJvbENpcmNsZTtcclxuICAgIH1cclxuICAgIGVsc2UgaWYgKHR5cGUgPT09ICdjcm9zcycpIHtcclxuICAgICAgcmV0dXJuIGQzLnN5bWJvbENyb3NzO1xyXG4gICAgfVxyXG4gICAgZWxzZSBpZiAodHlwZSA9PT0gJ2RpYW1vbmQnKSB7XHJcbiAgICAgIHJldHVybiBkMy5zeW1ib2xEaWFtb25kO1xyXG4gICAgfVxyXG4gICAgZWxzZSBpZiAodHlwZSA9PT0gJ3NxdWFyZScpIHtcclxuICAgICAgcmV0dXJuIGQzLnN5bWJvbFNxdWFyZTtcclxuICAgIH1cclxuICAgIGVsc2UgaWYgKHR5cGUgPT09ICd0cmlhbmdsZScpIHtcclxuICAgICAgcmV0dXJuIGQzLnN5bWJvbFRyaWFuZ2xlO1xyXG4gICAgfVxyXG4gICAgZWxzZSBpZiAodHlwZSA9PT0gJ3N0YXInKSB7XHJcbiAgICAgIHJldHVybiBkMy5zeW1ib2xTdGFyO1xyXG4gICAgfVxyXG4gICAgZWxzZSBpZiAodHlwZSA9PT0gJ3d5ZScpIHtcclxuICAgICAgcmV0dXJuIGQzLnN5bWJvbFd5ZTtcclxuICAgIH1cclxuICAgIGVsc2Uge1xyXG4gICAgICByZXR1cm4gZDMuc3ltYm9sQ2lyY2xlO1xyXG4gICAgfVxyXG4gIH1cclxuXHJcbn1cclxuIiwiaW1wb3J0IE1lbnUgZnJvbSAnLi9tZW51JztcclxuaW1wb3J0IHsgcmVxdWlyZXMgfSBmcm9tICcuLi9kZWNvcmF0b3IvZGF0YSc7XHJcblxyXG4vKiBnbG9iYWwgZDMgKi9cclxuXHJcbmV4cG9ydCBkZWZhdWx0IGNsYXNzIENvbnRleHRNZW51IGV4dGVuZHMgTWVudSB7XHJcblxyXG4gIGNvbnN0cnVjdG9yKHsgdmVyYm9zZSA9IGZhbHNlLCBhcHBlbmRUbywgY2FsbGJhY2tIYW5kbGVyIH0pIHtcclxuICAgIHN1cGVyKHsgdmVyYm9zZTogdmVyYm9zZSwgYXBwZW5kVG86IGFwcGVuZFRvLCBjYWxsYmFja0hhbmRsZXI6IGNhbGxiYWNrSGFuZGxlciB9KTtcclxuICB9XHJcblxyXG4gIEByZXF1aXJlcygnbWVudXMnKVxyXG4gIHJlbmRlcigpIHtcclxuXHJcbiAgICBkMy5ldmVudC5wcmV2ZW50RGVmYXVsdCgpO1xyXG5cclxuICAgIHRoaXMuZWxlbWVudCA9IHRoaXMuSFRNTFBhcmVudC5zZWxlY3QoJ2Rpdi5mcmFuY3ktY29udGV4dC1tZW51LWhvbGRlcicpO1xyXG4gICAgLy8gY2hlY2sgaWYgdGhlIHdpbmRvdyBpcyBhbHJlYWR5IHByZXNlbnRcclxuICAgIGlmICghdGhpcy5lbGVtZW50Lm5vZGUoKSkge1xyXG4gICAgICB0aGlzLmVsZW1lbnQgPSB0aGlzLkhUTUxQYXJlbnQuYXBwZW5kKCdkaXYnKVxyXG4gICAgICAgIC5hdHRyKCdjbGFzcycsICdmcmFuY3ktY29udGV4dC1tZW51LWhvbGRlcicpO1xyXG4gICAgfVxyXG5cclxuICAgIGxldCBwb3MgPSBkMy5tb3VzZSh0aGlzLlNWR1BhcmVudC5ub2RlKCkpO1xyXG5cclxuICAgIHRoaXMuZWxlbWVudC5zdHlsZSgnbGVmdCcsIHBvc1swXSArIDUgKyAncHgnKS5zdHlsZSgndG9wJywgcG9zWzFdICsgNSArICdweCcpO1xyXG5cclxuICAgIC8vIHNob3cgdGhlIGNvbnRleHQgbWVudVxyXG4gICAgdGhpcy5lbGVtZW50LnN0eWxlKCdkaXNwbGF5JywgJ2Jsb2NrJyk7XHJcblxyXG4gICAgLy8gY2hlY2sgaWYgaXQgZXhpc3RzIGFscmVhZHlcclxuICAgIGlmICh0aGlzLmVsZW1lbnQuc2VsZWN0QWxsKCcqJykubm9kZSgpKSB7XHJcbiAgICAgIHJldHVybjtcclxuICAgIH1cclxuXHJcbiAgICAvLyBkZXN0cm95IG1lbnVcclxuICAgIGQzLnNlbGVjdCgnYm9keScpLm9uKCdjbGljay5mcmFuY3ktY29udGV4dC1tZW51JywgKCkgPT4gdGhpcy51bnJlbmRlcigpKTtcclxuXHJcbiAgICAvLyB0aGlzIGdldHMgZXhlY3V0ZWQgd2hlbiBhIGNvbnRleHRtZW51IGV2ZW50IG9jY3Vyc1xyXG4gICAgbGV0IG1lbnUgPSB0aGlzLmVsZW1lbnQuYXBwZW5kKCdkaXYnKS5hdHRyKCdjbGFzcycsICdmcmFuY3ktY29udGV4dC1tZW51JykuYXBwZW5kKCd1bCcpO1xyXG4gICAgbGV0IG1lbnVzSXRlcmF0b3IgPSB0aGlzLml0ZXJhdG9yKE9iamVjdC52YWx1ZXModGhpcy5kYXRhLm1lbnVzKSk7XHJcbiAgICB0aGlzLnRyYXZlcnNlKG1lbnUsIG1lbnVzSXRlcmF0b3IpO1xyXG5cclxuICAgIHJldHVybiB0aGlzO1xyXG4gIH1cclxuXHJcbiAgdW5yZW5kZXIoKSB7XHJcbiAgICBpZiAodGhpcy5lbGVtZW50KSB7XHJcbiAgICAgIHRoaXMuZWxlbWVudC5zZWxlY3RBbGwoJyonKS5yZW1vdmUoKTtcclxuICAgICAgdGhpcy5lbGVtZW50LnN0eWxlKCdkaXNwbGF5JywgbnVsbCk7XHJcbiAgICB9XHJcbiAgfVxyXG59XHJcbiIsImltcG9ydCBNZW51IGZyb20gJy4vbWVudSc7XHJcbmltcG9ydCBBYm91dE1vZGFsIGZyb20gJy4vbW9kYWwtYWJvdXQnO1xyXG5pbXBvcnQgKiBhcyBTdmdUb1BuZyBmcm9tICcuLi8uLi9ub2RlX21vZHVsZXMvc2F2ZS1zdmctYXMtcG5nL3NhdmVTdmdBc1BuZyc7XHJcblxyXG4vKiBnbG9iYWwgZDMgd2luZG93ICovXHJcblxyXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBNYWluTWVudSBleHRlbmRzIE1lbnUge1xyXG5cclxuICBjb25zdHJ1Y3Rvcih7IHZlcmJvc2UgPSBmYWxzZSwgYXBwZW5kVG8sIGNhbGxiYWNrSGFuZGxlciB9KSB7XHJcbiAgICBzdXBlcih7IHZlcmJvc2U6IHZlcmJvc2UsIGFwcGVuZFRvOiBhcHBlbmRUbywgY2FsbGJhY2tIYW5kbGVyOiBjYWxsYmFja0hhbmRsZXIgfSk7XHJcbiAgfVxyXG5cclxuICByZW5kZXIoKSB7XHJcbiAgICBsZXQgcGFyZW50ID0gdGhpcy5vcHRpb25zLmFwcGVuZFRvLmVsZW1lbnQ7XHJcblxyXG4gICAgbGV0IGFib3V0TW9kYWwgPSBuZXcgQWJvdXRNb2RhbCh0aGlzLm9wdGlvbnMpO1xyXG5cclxuICAgIC8vIE90aGVyd2lzZSBjbGFzaGVzIHdpdGggdGhlIGNhbnZhcyBpdHNlbGYhXHJcbiAgICBjb25zdCBtZW51SWQgPSBgTWFpbk1lbnUtJHt0aGlzLmRhdGEuY2FudmFzLmlkfWA7XHJcbiAgICB0aGlzLmVsZW1lbnQgPSBkMy5zZWxlY3QoYCMke21lbnVJZH1gKTtcclxuXHJcbiAgICAvLyBDaGVjayBpZiB0aGUgbWVudSBpcyBhbHJlYWR5IHByZXNlbnRcclxuICAgIGlmICghdGhpcy5lbGVtZW50Lm5vZGUoKSkge1xyXG4gICAgICAvLyBjcmVhdGUgYSBkaXYgZWxlbWVudCBkZXRhY2hlZCBmcm9tIHRoZSBET00hXHJcbiAgICAgIHRoaXMubG9nZ2VyLmRlYnVnKGBDcmVhdGluZyBNYWluIE1lbnUgWyR7bWVudUlkfV0uLi5gKTtcclxuICAgICAgdGhpcy5lbGVtZW50ID0gcGFyZW50LmFwcGVuZCgnZGl2JykuYXR0cignY2xhc3MnLCAnZnJhbmN5LW1haW4tbWVudS1ob2xkZXInKS5hdHRyKCdpZCcsIG1lbnVJZCk7XHJcbiAgICB9XHJcblxyXG4gICAgLy8gRm9yY2UgcmVidWlsZCBtZW51IGFnYWluXHJcbiAgICB0aGlzLmVsZW1lbnQuc2VsZWN0QWxsKCcqJykucmVtb3ZlKCk7XHJcblxyXG4gICAgdGhpcy5lbGVtZW50ID0gdGhpcy5lbGVtZW50LmFwcGVuZCgndWwnKS5hdHRyKCdjbGFzcycsICdmcmFuY3ktbWFpbi1tZW51Jyk7XHJcblxyXG4gICAgaWYgKHRoaXMuZGF0YS5jYW52YXMudGl0bGUpIHtcclxuICAgICAgdGhpcy5lbGVtZW50LmFwcGVuZCgnbGknKS5hdHRyKCdjbGFzcycsICdmcmFuY3ktdGl0bGUnKS5hcHBlbmQoJ2EnKS5odG1sKHRoaXMuZGF0YS5jYW52YXMudGl0bGUpO1xyXG4gICAgfVxyXG5cclxuICAgIGxldCBlbnRyeSA9IHRoaXMuZWxlbWVudC5hcHBlbmQoJ2xpJyk7XHJcbiAgICBlbnRyeS5hcHBlbmQoJ2EnKS5odG1sKCdGcmFuY3knKTtcclxuICAgIGxldCBjb250ZW50ID0gZW50cnkuYXBwZW5kKCd1bCcpO1xyXG4gICAgY29udGVudC5hcHBlbmQoJ2xpJykuYXBwZW5kKCdhJykub24oJ2NsaWNrJywgKCkgPT4gdGhpcy5vcHRpb25zLmFwcGVuZFRvLmNhbnZhcy56b29tVG9GaXQoKSkuYXR0cigndGl0bGUnLCAnWm9vbSB0byBGaXQnKS5odG1sKCdab29tIHRvIEZpdCcpO1xyXG4gICAgY29udGVudC5hcHBlbmQoJ2xpJykuYXBwZW5kKCdhJykub24oJ2NsaWNrJywgKCkgPT4gU3ZnVG9Qbmcuc2F2ZVN2Z0FzUG5nKHRoaXMuU1ZHUGFyZW50Lm5vZGUoKSwgXCJkaWFncmFtLnBuZ1wiKSkuYXR0cigndGl0bGUnLCAnU2F2ZSB0byBQTkcnKS5odG1sKCdTYXZlIHRvIFBORycpO1xyXG4gICAgY29udGVudC5hcHBlbmQoJ2xpJykuYXBwZW5kKCdhJykub24oJ2NsaWNrJywgKCkgPT4gYWJvdXRNb2RhbC5sb2FkKHRoaXMuZGF0YSkucmVuZGVyKCkpLmF0dHIoJ3RpdGxlJywgJ0Fib3V0JykuaHRtbCgnQWJvdXQnKTtcclxuXHJcbiAgICAvLyBUcmF2ZXJzZSBhbGwgbWVudXMgYW5kIGZsYXR0ZW4gdGhlbSFcclxuICAgIGxldCBtZW51c0l0ZXJhdG9yID0gdGhpcy5pdGVyYXRvcihPYmplY3QudmFsdWVzKHRoaXMuZGF0YS5jYW52YXMubWVudXMpKTtcclxuICAgIHRoaXMudHJhdmVyc2UodGhpcy5lbGVtZW50LCBtZW51c0l0ZXJhdG9yKTtcclxuXHJcbiAgICB0aGlzLmxvZ2dlci5kZWJ1ZyhgTWFpbiBNZW51IHVwZGF0ZWQgWyR7bWVudUlkfV0uLi5gKTtcclxuXHJcbiAgICByZXR1cm4gdGhpcztcclxuICB9XHJcblxyXG4gIHVucmVuZGVyKCkge31cclxuXHJcbn1cclxuIiwiaW1wb3J0IFJlbmRlcmVyIGZyb20gJy4vcmVuZGVyZXInO1xyXG5pbXBvcnQgQ2FsbGJhY2sgZnJvbSAnLi9jYWxsYmFjayc7XHJcblxyXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBNZW51IGV4dGVuZHMgUmVuZGVyZXIge1xyXG5cclxuICBjb25zdHJ1Y3Rvcih7IHZlcmJvc2UgPSBmYWxzZSwgYXBwZW5kVG8sIGNhbGxiYWNrSGFuZGxlciB9KSB7XHJcbiAgICBzdXBlcih7IHZlcmJvc2U6IHZlcmJvc2UsIGFwcGVuZFRvOiBhcHBlbmRUbywgY2FsbGJhY2tIYW5kbGVyOiBjYWxsYmFja0hhbmRsZXIgfSk7XHJcbiAgfVxyXG5cclxuICB0cmF2ZXJzZShhcHBlbmRUbywgbWVudXNJdGVyYXRvcikge1xyXG4gICAgd2hpbGUgKG1lbnVzSXRlcmF0b3IuaGFzTmV4dCgpKSB7XHJcbiAgICAgIGxldCBtZW51SXRlbSA9IG1lbnVzSXRlcmF0b3IubmV4dCgpO1xyXG4gICAgICBsZXQgZW50cnkgPSBhcHBlbmRUby5hcHBlbmQoJ2xpJyk7XHJcbiAgICAgIGxldCBhY3Rpb24gPSBlbnRyeS5zZWxlY3RBbGwoJ2EnKS5kYXRhKFttZW51SXRlbV0pLmVudGVyKCkuYXBwZW5kKCdhJykuYXR0cigndGl0bGUnLCBtZW51SXRlbS50aXRsZSkuaHRtbChtZW51SXRlbS50aXRsZSk7XHJcbiAgICAgIGlmIChtZW51SXRlbS5jYWxsYmFjayAmJiBPYmplY3QudmFsdWVzKG1lbnVJdGVtLmNhbGxiYWNrKS5sZW5ndGgpIHtcclxuICAgICAgICBhY3Rpb24ub24oJ2NsaWNrJywgKGQpID0+IG5ldyBDYWxsYmFjayh0aGlzLm9wdGlvbnMpLmxvYWQoZCwgdHJ1ZSkuZXhlY3V0ZSgpKTtcclxuICAgICAgfVxyXG4gICAgICBpZiAobWVudUl0ZW0ubWVudXMgJiYgT2JqZWN0LnZhbHVlcyhtZW51SXRlbS5tZW51cykubGVuZ3RoID4gMCkge1xyXG4gICAgICAgIGxldCBjb250ZW50ID0gZW50cnkuYXBwZW5kKCd1bCcpO1xyXG4gICAgICAgIGxldCBzdWJNZW51c0l0ZXJhdG9yID0gdGhpcy5pdGVyYXRvcihPYmplY3QudmFsdWVzKG1lbnVJdGVtLm1lbnVzKSk7XHJcbiAgICAgICAgdGhpcy50cmF2ZXJzZShjb250ZW50LCBzdWJNZW51c0l0ZXJhdG9yKTtcclxuICAgICAgfVxyXG4gICAgfVxyXG4gIH1cclxuXHJcbiAgaXRlcmF0b3IoYXJyYXkpIHtcclxuICAgIGxldCBuZXh0SW5kZXggPSAwO1xyXG4gICAgcmV0dXJuIHtcclxuICAgICAgbmV4dDogZnVuY3Rpb24oKSB7XHJcbiAgICAgICAgcmV0dXJuIHRoaXMuaGFzTmV4dCgpID8gYXJyYXlbbmV4dEluZGV4KytdIDogdW5kZWZpbmVkO1xyXG4gICAgICB9LFxyXG4gICAgICBoYXNOZXh0OiBmdW5jdGlvbigpIHtcclxuICAgICAgICByZXR1cm4gbmV4dEluZGV4IDwgYXJyYXkubGVuZ3RoO1xyXG4gICAgICB9XHJcbiAgICB9O1xyXG4gIH1cclxuXHJcbiAgdW5yZW5kZXIoKSB7fVxyXG59XHJcbiIsImltcG9ydCBSZW5kZXJlciBmcm9tICcuL3JlbmRlcmVyJztcclxuaW1wb3J0IHsgcmVxdWlyZXMgfSBmcm9tICcuLi9kZWNvcmF0b3IvZGF0YSc7XHJcblxyXG4vKiBnbG9iYWwgZDMgKi9cclxuXHJcbmV4cG9ydCBkZWZhdWx0IGNsYXNzIE1lc3NhZ2UgZXh0ZW5kcyBSZW5kZXJlciB7XHJcblxyXG4gIGNvbnN0cnVjdG9yKHsgdmVyYm9zZSA9IGZhbHNlLCBhcHBlbmRUbywgY2FsbGJhY2tIYW5kbGVyIH0pIHtcclxuICAgIHN1cGVyKHsgdmVyYm9zZTogdmVyYm9zZSwgYXBwZW5kVG86IGFwcGVuZFRvLCBjYWxsYmFja0hhbmRsZXI6IGNhbGxiYWNrSGFuZGxlciB9KTtcclxuICB9XHJcblxyXG4gIEByZXF1aXJlcygnY2FudmFzLm1lc3NhZ2VzJylcclxuICByZW5kZXIoKSB7XHJcbiAgICBsZXQgcGFyZW50ID0gdGhpcy5vcHRpb25zLmFwcGVuZFRvLmVsZW1lbnQ7XHJcblxyXG4gICAgbGV0IG1lc3NhZ2VzID0gT2JqZWN0LmtleXModGhpcy5kYXRhLmNhbnZhcy5tZXNzYWdlcykubWFwKChrZXkpID0+IHtcclxuICAgICAgcmV0dXJuIHtcclxuICAgICAgICBpZDoga2V5LFxyXG4gICAgICAgIHR5cGU6IHRoaXMuZGF0YS5jYW52YXMubWVzc2FnZXNba2V5XS50eXBlLFxyXG4gICAgICAgIHRpdGxlOiB0aGlzLmRhdGEuY2FudmFzLm1lc3NhZ2VzW2tleV0udGl0bGUsXHJcbiAgICAgICAgdGV4dDogdGhpcy5kYXRhLmNhbnZhcy5tZXNzYWdlc1trZXldLnRleHRcclxuICAgICAgfTtcclxuICAgIH0pO1xyXG5cclxuICAgIGxldCBhbGVydHNJZCA9IGBNZXNzYWdlcy0ke3RoaXMuZGF0YS5jYW52YXMuaWR9YDtcclxuICAgIHRoaXMuZWxlbWVudCA9IGQzLnNlbGVjdChgIyR7YWxlcnRzSWR9YCk7XHJcbiAgICAvLyBjaGVjayBpZiB0aGUgZGl2IGlzIGFscmVhZHkgcHJlc2VudFxyXG4gICAgaWYgKCF0aGlzLmVsZW1lbnQubm9kZSgpKSB7XHJcbiAgICAgIHRoaXMuZWxlbWVudCA9IHBhcmVudC5hcHBlbmQoJ2RpdicpLmF0dHIoJ2NsYXNzJywgJ2ZyYW5jeS1tZXNzYWdlLWhvbGRlcicpLmF0dHIoJ2lkJywgYWxlcnRzSWQpO1xyXG4gICAgfVxyXG5cclxuICAgIGxldCBtZXNzYWdlID0gdGhpcy5lbGVtZW50LnNlbGVjdEFsbCgnZGl2LmZyYW5jeS1hbGVydCcpLmRhdGEobWVzc2FnZXMsIGQgPT4gZC5pZCk7XHJcbiAgICBsZXQgbWVzc2FnZUVudGVyID0gbWVzc2FnZS5lbnRlcigpLmFwcGVuZCgnZGl2JykuYXR0cignaWQnLCBkID0+IGQuaWQpXHJcbiAgICAgIC5hdHRyKCdjbGFzcycsIGQgPT4gYGZyYW5jeS1hbGVydCBhbGVydC0ke2QudHlwZX1gKS5vbignY2xpY2snLCBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgZDMuc2VsZWN0KHRoaXMpLnN0eWxlKCdkaXNwbGF5JywgJ25vbmUnKTtcclxuICAgICAgfSk7XHJcbiAgICBtZXNzYWdlRW50ZXIuYXBwZW5kKCdzcGFuJykuYXR0cignY2xhc3MnLCAnc3Ryb25nJykudGV4dChkID0+IGQudGl0bGUpO1xyXG4gICAgbWVzc2FnZUVudGVyLmFwcGVuZCgnc3BhbicpLnRleHQoZCA9PiBkLnRleHQpO1xyXG4gICAgbWVzc2FnZUVudGVyLmFwcGVuZCgnc3BhbicpLmF0dHIoJ2NsYXNzJywgJ3N0cm9uZycpLnN0eWxlKCdkaXNwbGF5JywgJ25vbmUnKS50ZXh0KFwieFwiKTtcclxuXHJcbiAgICBtZXNzYWdlRW50ZXIubWVyZ2UobWVzc2FnZSk7XHJcblxyXG4gICAgbWVzc2FnZS5leGl0KCkucmVtb3ZlKCk7XHJcblxyXG4gICAgdGhpcy5lbGVtZW50LnN0eWxlKCdkaXNwbGF5JywgJ2Jsb2NrJyk7XHJcblxyXG4gICAgcmV0dXJuIHRoaXM7XHJcbiAgfVxyXG5cclxuICB1bnJlbmRlcigpIHt9XHJcbn1cclxuIiwiaW1wb3J0IFJlbmRlcmVyIGZyb20gJy4vcmVuZGVyZXInO1xyXG5pbXBvcnQgeyBSZWdpc3Rlckp1cHl0ZXJLZXlib2FyZEV2ZW50cyB9IGZyb20gJy4uL3V0aWwvY29tcG9uZW50JztcclxuXHJcbi8qIGdsb2JhbCBkMyAqL1xyXG5cclxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgQWJvdXRNb2RhbCBleHRlbmRzIFJlbmRlcmVyIHtcclxuXHJcbiAgY29uc3RydWN0b3IoeyB2ZXJib3NlID0gZmFsc2UsIGFwcGVuZFRvLCBjYWxsYmFja0hhbmRsZXIgfSkge1xyXG4gICAgc3VwZXIoeyB2ZXJib3NlOiB2ZXJib3NlLCBhcHBlbmRUbzogYXBwZW5kVG8sIGNhbGxiYWNrSGFuZGxlcjogY2FsbGJhY2tIYW5kbGVyIH0pO1xyXG4gIH1cclxuXHJcbiAgcmVuZGVyKCkge1xyXG4gICAgbGV0IHNlbGYgPSB0aGlzO1xyXG5cclxuICAgIGxldCBtb2RhbElkID0gJ0Fib3V0TW9kYWxXaW5kb3cnO1xyXG5cclxuICAgIHRoaXMubG9nZ2VyLmRlYnVnKGBDcmVhdGluZyBBYm91dCBNb2RhbCBbJHttb2RhbElkfV0uLi5gKTtcclxuXHJcbiAgICAvLyB3ZSB3YW50IHRvIG92ZXJsYXkgZXZlcnl0aGluZywgaGVuY2UgJ2JvZHknIG11c3QgYmUgdXNlZFxyXG4gICAgbGV0IG92ZXJsYXkgPSBkMy5zZWxlY3QoJ2JvZHknKS5hcHBlbmQoJ2RpdicpXHJcbiAgICAgIC5hdHRyKCdjbGFzcycsICdmcmFuY3ktb3ZlcmxheScpO1xyXG4gICAgbGV0IGhvbGRlciA9IGQzLnNlbGVjdCgnYm9keScpLmFwcGVuZCgnZGl2JylcclxuICAgICAgLmF0dHIoJ2NsYXNzJywgJ2ZyYW5jeScpO1xyXG4gICAgdGhpcy5lbGVtZW50ID0gaG9sZGVyLmFwcGVuZCgnZGl2JylcclxuICAgICAgLmF0dHIoJ2lkJywgbW9kYWxJZClcclxuICAgICAgLmF0dHIoJ2NsYXNzJywgJ2ZyYW5jeS1tb2RhbCcpO1xyXG5cclxuICAgIGxldCBmb3JtID0gdGhpcy5lbGVtZW50LmFwcGVuZCgnZm9ybScpO1xyXG5cclxuICAgIGxldCBoZWFkZXIgPSBmb3JtLmFwcGVuZCgnZGl2JykuYXR0cignY2xhc3MnLCAnZnJhbmN5LW1vZGFsLWhlYWRlcicpO1xyXG5cclxuICAgIGhlYWRlci5hcHBlbmQoJ3NwYW4nKS5odG1sKGBBYm91dCBGcmFuY3kgdiR7dGhpcy5kYXRhLnZlcnNpb24gfHwgJ04vQSd9YCk7XHJcblxyXG4gICAgbGV0IGNvbnRlbnQgPSBmb3JtLmFwcGVuZCgnZGl2JykuYXR0cignY2xhc3MnLCAnZnJhbmN5LW1vZGFsLWNvbnRlbnQnKS5hcHBlbmQoJ2RpdicpLmF0dHIoJ2NsYXNzJywgJ2ZyYW5jeS10YWJsZScpLmFwcGVuZCgnZGl2JykuYXR0cignY2xhc3MnLCAnZnJhbmN5LXRhYmxlLWJvZHknKTtcclxuXHJcbiAgICBjb250ZW50LmFwcGVuZCgnc3BhbicpLnRleHQoJ0xvYWRlZCBPYmplY3Q6Jyk7XHJcbiAgICBjb250ZW50LmFwcGVuZCgncHJlJykuYXR0cignY2xhc3MnLCAnZnJhbmN5JykuaHRtbChBYm91dE1vZGFsLnN5bnRheEhpZ2hsaWdodChKU09OLnN0cmluZ2lmeSh0aGlzLmRhdGEuY2FudmFzLCBudWxsLCAyKSkpO1xyXG4gICAgY29udGVudC5hcHBlbmQoJ3NwYW4nKS5hcHBlbmQoJ2EnKS5hdHRyKCdocmVmJywgJ2h0dHBzOi8vZ2l0aHViLmNvbS9tY21hcnRpbnMvZnJhbmN5JykudGV4dCgnRnJhbmN5IG9uIEdpdGh1YicpO1xyXG5cclxuICAgIGxldCBmb290ZXIgPSBmb3JtLmFwcGVuZCgnZGl2JykuYXR0cignY2xhc3MnLCAnZnJhbmN5LW1vZGFsLWZvb3RlcicpO1xyXG5cclxuICAgIGZvb3Rlci5hcHBlbmQoJ2J1dHRvbicpLnRleHQoJ09rJykub24oJ2NsaWNrJywgKCkgPT4ge1xyXG4gICAgICBvdmVybGF5LnJlbW92ZSgpO1xyXG4gICAgICBzZWxmLmVsZW1lbnQucmVtb3ZlKCk7XHJcbiAgICAgIGhvbGRlci5yZW1vdmUoKTtcclxuICAgICAgZDMuZXZlbnQucHJldmVudERlZmF1bHQoKTtcclxuICAgICAgcmV0dXJuIGZhbHNlO1xyXG4gICAgfSk7XHJcblxyXG4gICAgLy8gZGlzYWJsZSBrZXlib2FyZCBzaG9ydGN1dHMgd2hlbiB1c2luZyB0aGlzIG1vZGFsIGluIEp1cHl0ZXJcclxuICAgIFJlZ2lzdGVySnVweXRlcktleWJvYXJkRXZlbnRzKFsnLmZyYW5jeScsICcuZnJhbmN5LWFyZycsICcuZnJhbmN5LW92ZXJsYXknLCAnLmZyYW5jeS1tb2RhbCddKTtcclxuXHJcbiAgICB0aGlzLmxvZ2dlci5kZWJ1ZyhgQ2FsbGJhY2sgQWJvdXQgdXBkYXRlZCBbJHttb2RhbElkfV0uLi5gKTtcclxuXHJcbiAgICByZXR1cm4gdGhpcztcclxuICB9XHJcblxyXG4gIHVucmVuZGVyKCkge31cclxuXHJcbiAgLy8gY3JlZGl0cyBoZXJlOiBodHRwczovL3N0YWNrb3ZlcmZsb3cuY29tL3F1ZXN0aW9ucy80ODEwODQxL2hvdy1jYW4taS1wcmV0dHktcHJpbnQtanNvbi11c2luZy1qYXZhc2NyaXB0I2Fuc3dlci03MjIwNTEwXHJcbiAgc3RhdGljIHN5bnRheEhpZ2hsaWdodChqc29uKSB7XHJcbiAgICBqc29uID0ganNvbi5yZXBsYWNlKC8mL2csICcmYW1wOycpLnJlcGxhY2UoLzwvZywgJyZsdDsnKS5yZXBsYWNlKC8+L2csICcmZ3Q7Jyk7XHJcbiAgICByZXR1cm4ganNvbi5yZXBsYWNlKC8oXCIoXFxcXHVbYS16QS1aMC05XXs0fXxcXFxcW151XXxbXlwiXSkqXCIoXFxzKjopP3xcXGIodHJ1ZXxmYWxzZXxudWxsKVxcYnwtP1xcZCsoPzpcXC5cXGQqKT8oPzpbZUVdWystXT9cXGQrKT8pL2csIGZ1bmN0aW9uKG1hdGNoKSB7XHJcbiAgICAgIGxldCBjbHMgPSAnbnVtYmVyJztcclxuICAgICAgaWYgKC9eXCIvLnRlc3QobWF0Y2gpKSB7XHJcbiAgICAgICAgaWYgKC86JC8udGVzdChtYXRjaCkpIHtcclxuICAgICAgICAgIGNscyA9ICdrZXknO1xyXG4gICAgICAgIH1cclxuICAgICAgICBlbHNlIHtcclxuICAgICAgICAgIGNscyA9ICdzdHJpbmcnO1xyXG4gICAgICAgIH1cclxuICAgICAgfVxyXG4gICAgICBlbHNlIGlmICgvdHJ1ZXxmYWxzZS8udGVzdChtYXRjaCkpIHtcclxuICAgICAgICBjbHMgPSAnYm9vbGVhbic7XHJcbiAgICAgIH1cclxuICAgICAgZWxzZSBpZiAoL251bGwvLnRlc3QobWF0Y2gpKSB7XHJcbiAgICAgICAgY2xzID0gJ251bGwnO1xyXG4gICAgICB9XHJcbiAgICAgIHJldHVybiAnPHNwYW4gY2xhc3M9XCInICsgY2xzICsgJ1wiPicgKyBtYXRjaCArICc8L3NwYW4+JztcclxuICAgIH0pO1xyXG4gIH1cclxufVxyXG4iLCJpbXBvcnQgUmVuZGVyZXIgZnJvbSAnLi9yZW5kZXJlcic7XHJcbmltcG9ydCB7IFJlZ2lzdGVySnVweXRlcktleWJvYXJkRXZlbnRzIH0gZnJvbSAnLi4vdXRpbC9jb21wb25lbnQnO1xyXG5cclxuLyogZ2xvYmFsIGQzICovXHJcblxyXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBSZXF1aXJlZEFyZ3NNb2RhbCBleHRlbmRzIFJlbmRlcmVyIHtcclxuXHJcbiAgY29uc3RydWN0b3IoeyB2ZXJib3NlID0gZmFsc2UsIGFwcGVuZFRvLCBjYWxsYmFja0hhbmRsZXIgfSkge1xyXG4gICAgc3VwZXIoeyB2ZXJib3NlOiB2ZXJib3NlLCBhcHBlbmRUbzogYXBwZW5kVG8sIGNhbGxiYWNrSGFuZGxlcjogY2FsbGJhY2tIYW5kbGVyIH0pO1xyXG4gIH1cclxuXHJcbiAgcmVuZGVyKCkge1xyXG4gICAgbGV0IHNlbGYgPSB0aGlzO1xyXG5cclxuICAgIGxldCBtb2RhbElkID0gdGhpcy5kYXRhLmNhbGxiYWNrLmlkO1xyXG5cclxuICAgIHRoaXMubG9nZ2VyLmRlYnVnKGBDcmVhdGluZyBDYWxsYmFjayBNb2RhbCBbJHttb2RhbElkfV0uLi5gKTtcclxuXHJcbiAgICAvLyB3ZSB3YW50IHRvIG92ZXJsYXkgZXZlcnl0aGluZywgaGVuY2UgJ2JvZHknIG11c3QgYmUgdXNlZFxyXG4gICAgbGV0IG92ZXJsYXkgPSBkMy5zZWxlY3QoJ2JvZHknKS5hcHBlbmQoJ2RpdicpXHJcbiAgICAgIC5hdHRyKCdjbGFzcycsICdmcmFuY3ktb3ZlcmxheScpO1xyXG4gICAgbGV0IGhvbGRlciA9IGQzLnNlbGVjdCgnYm9keScpLmFwcGVuZCgnZGl2JylcclxuICAgICAgLmF0dHIoJ2NsYXNzJywgJ2ZyYW5jeScpO1xyXG4gICAgdGhpcy5lbGVtZW50ID0gaG9sZGVyLmFwcGVuZCgnZGl2JylcclxuICAgICAgLmF0dHIoJ2lkJywgbW9kYWxJZClcclxuICAgICAgLmF0dHIoJ2NsYXNzJywgJ2ZyYW5jeS1tb2RhbCcpO1xyXG5cclxuICAgIGxldCBmb3JtID0gdGhpcy5lbGVtZW50LmFwcGVuZCgnZm9ybScpO1xyXG5cclxuICAgIGxldCBoZWFkZXIgPSBmb3JtLmFwcGVuZCgnZGl2JykuYXR0cignY2xhc3MnLCAnZnJhbmN5LW1vZGFsLWhlYWRlcicpO1xyXG5cclxuICAgIGxldCBoZWFkZXJUaXRsZSA9IGhlYWRlci5hcHBlbmQoJ3NwYW4nKS5odG1sKCdSZXF1aXJlZCBhcmd1bWVudHMmbmJzcDsnKTtcclxuICAgIGlmICh0aGlzLmRhdGEudGl0bGUpIHtcclxuICAgICAgaGVhZGVyVGl0bGUuYXBwZW5kKCdzcGFuJykuYXR0cignc3R5bGUnLCAnZm9udC13ZWlnaHQ6IGJvbGQ7JykudGV4dChgZm9yICR7dGhpcy5kYXRhLnRpdGxlfWApO1xyXG4gICAgfVxyXG5cclxuICAgIGxldCBjb250ZW50ID0gZm9ybS5hcHBlbmQoJ2RpdicpLmF0dHIoJ2NsYXNzJywgJ2ZyYW5jeS1tb2RhbC1jb250ZW50JykuYXBwZW5kKCdkaXYnKS5hdHRyKCdjbGFzcycsICdmcmFuY3ktdGFibGUnKS5hcHBlbmQoJ2RpdicpLmF0dHIoJ2NsYXNzJywgJ2ZyYW5jeS10YWJsZS1ib2R5Jyk7XHJcblxyXG4gICAgZm9yIChsZXQgYXJnIG9mIE9iamVjdC52YWx1ZXModGhpcy5kYXRhLmNhbGxiYWNrLnJlcXVpcmVkQXJncykpIHtcclxuICAgICAgbGV0IHJvdyA9IGNvbnRlbnQuYXBwZW5kKCdkaXYnKS5hdHRyKCdjbGFzcycsICdmcmFuY3ktdGFibGUtcm93Jyk7XHJcbiAgICAgIHJvdy5hcHBlbmQoJ2RpdicpLmF0dHIoJ2NsYXNzJywgJ2ZyYW5jeS10YWJsZS1jZWxsJykuYXBwZW5kKCdsYWJlbCcpLmF0dHIoJ2ZvcicsIGFyZy5pZCkudGV4dChhcmcudGl0bGUpO1xyXG4gICAgICBsZXQgaW5wdXQgPSByb3cuYXBwZW5kKCdkaXYnKS5hdHRyKCdjbGFzcycsICdmcmFuY3ktdGFibGUtY2VsbCcpLmFwcGVuZCgnaW5wdXQnKS5hdHRyKCdpZCcsIGFyZy5pZCkuYXR0cignY2xhc3MnLCAnZnJhbmN5LWFyZycpXHJcbiAgICAgICAgLmF0dHIoJ3JlcXVpcmVkJywgJycpXHJcbiAgICAgICAgLmF0dHIoJ25hbWUnLCBhcmcuaWQpXHJcbiAgICAgICAgLmF0dHIoJ3R5cGUnLCBhcmcudHlwZSlcclxuICAgICAgICAuYXR0cigndmFsdWUnLCBhcmcudmFsdWUpXHJcbiAgICAgICAgLm9uKCdjaGFuZ2UnLCBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICBzZWxmLmRhdGEuY2FsbGJhY2sucmVxdWlyZWRBcmdzW3RoaXMuaWRdLnZhbHVlID0gdGhpcy52YWx1ZTtcclxuICAgICAgICB9KVxyXG4gICAgICAgIC5vbignaW5wdXQnLCB0aGlzLm9uY2hhbmdlKVxyXG4gICAgICAgIC5vbigna2V5dXAnLCB0aGlzLm9uY2hhbmdlKVxyXG4gICAgICAgIC5vbigncGFzdGUnLCB0aGlzLm9uY2hhbmdlKTtcclxuICAgICAgLy8gd2FpdCwgaWYgaXQgaXMgYm9vbGVhbiB3ZSBjcmVhdGUgYSBjaGVja2JveFxyXG4gICAgICBpZiAoYXJnLnR5cGUgPT09ICdib29sZWFuJykge1xyXG4gICAgICAgIC8vIHdlbGwsIGEgY2hlY2tib3ggd29ya3MgdGhpcyB3YXkgc28gd2UgbmVlZCB0byBpbml0aWFsaXplIFxyXG4gICAgICAgIC8vIHRoZSB2YWx1ZSB0byBmYWxzZSBhbmQgdXBkYXRlIHRoZSB2YWx1ZSBiYXNlZCBvbiB0aGUgY2hlY2tlZCBcclxuICAgICAgICAvLyBwcm9wZXJ0eSB0aGF0IHRyaWdnZXJzIHRoZSBvbmNoYW5nZSBldmVudFxyXG4gICAgICAgIGFyZy52YWx1ZSA9IGFyZy52YWx1ZSB8fCBmYWxzZTtcclxuICAgICAgICBpbnB1dC5hdHRyKCd0eXBlJywgJ2NoZWNrYm94JykuYXR0cigncmVxdWlyZWQnLCBudWxsKVxyXG4gICAgICAgICAgLmF0dHIoJ3ZhbHVlJywgYXJnLnZhbHVlKVxyXG4gICAgICAgICAgLm9uKCdjaGFuZ2UnLCBmdW5jdGlvbigpIHsgc2VsZi5kYXRhLmNhbGxiYWNrLnJlcXVpcmVkQXJnc1t0aGlzLmlkXS52YWx1ZSA9IHRoaXMudmFsdWUgPSB0aGlzLmNoZWNrZWQ7IH0pO1xyXG4gICAgICB9XHJcbiAgICAgIHJvdy5hcHBlbmQoJ3NwYW4nKS5hdHRyKCdjbGFzcycsICd2YWxpZGl0eScpO1xyXG4gICAgfVxyXG5cclxuICAgIGxldCBmb290ZXIgPSBmb3JtLmFwcGVuZCgnZGl2JykuYXR0cignY2xhc3MnLCAnZnJhbmN5LW1vZGFsLWZvb3RlcicpO1xyXG5cclxuICAgIGZvb3Rlci5hcHBlbmQoJ2J1dHRvbicpLnRleHQoJ09rJykub24oJ2NsaWNrJywgZnVuY3Rpb24oKSB7XHJcbiAgICAgIGlmIChmb3JtLm5vZGUoKS5jaGVja1ZhbGlkaXR5KCkpIHtcclxuICAgICAgICBkMy5ldmVudC5wcmV2ZW50RGVmYXVsdCgpO1xyXG4gICAgICAgIHNlbGYub3B0aW9ucy5jYWxsYmFja0hhbmRsZXIoc2VsZi5kYXRhLmNhbGxiYWNrKTtcclxuICAgICAgICBvdmVybGF5LnJlbW92ZSgpO1xyXG4gICAgICAgIHNlbGYuZWxlbWVudC5yZW1vdmUoKTtcclxuICAgICAgICBob2xkZXIucmVtb3ZlKCk7XHJcbiAgICAgIH1cclxuICAgICAgcmV0dXJuIGZhbHNlO1xyXG4gICAgfSk7XHJcbiAgICBmb290ZXIuYXBwZW5kKCdidXR0b24nKS50ZXh0KCdDYW5jZWwnKS5vbignY2xpY2snLCAoKSA9PiB7XHJcbiAgICAgIG92ZXJsYXkucmVtb3ZlKCk7XHJcbiAgICAgIHNlbGYuZWxlbWVudC5yZW1vdmUoKTtcclxuICAgICAgaG9sZGVyLnJlbW92ZSgpO1xyXG4gICAgICBkMy5ldmVudC5wcmV2ZW50RGVmYXVsdCgpO1xyXG4gICAgICByZXR1cm4gZmFsc2U7XHJcbiAgICB9KTtcclxuXHJcbiAgICAvLyBkaXNhYmxlIGtleWJvYXJkIHNob3J0Y3V0cyB3aGVuIHVzaW5nIHRoaXMgbW9kYWwgaW4gSnVweXRlclxyXG4gICAgUmVnaXN0ZXJKdXB5dGVyS2V5Ym9hcmRFdmVudHMoWycuZnJhbmN5JywgJy5mcmFuY3ktYXJnJywgJy5mcmFuY3ktb3ZlcmxheScsICcuZnJhbmN5LW1vZGFsJ10pO1xyXG5cclxuICAgIGNvbnRlbnQuc2VsZWN0QWxsKCcuZnJhbmN5LWFyZycpLm5vZGUoKS5mb2N1cygpO1xyXG5cclxuICAgIHRoaXMubG9nZ2VyLmRlYnVnKGBDYWxsYmFjayBNb2RhbCB1cGRhdGVkIFske21vZGFsSWR9XS4uLmApO1xyXG5cclxuICAgIHJldHVybiB0aGlzO1xyXG4gIH1cclxuXHJcbiAgdW5yZW5kZXIoKSB7fVxyXG59XHJcbiIsImltcG9ydCBCYXNlIGZyb20gJy4vYmFzZSc7XHJcblxyXG4vKiBnbG9iYWwgZDMgKi9cclxuXHJcbmV4cG9ydCBkZWZhdWx0IGNsYXNzIFJlbmRlcmVyIGV4dGVuZHMgQmFzZSB7XHJcblxyXG4gIGNvbnN0cnVjdG9yKHsgdmVyYm9zZSA9IGZhbHNlLCBhcHBlbmRUbywgY2FsbGJhY2tIYW5kbGVyIH0pIHtcclxuICAgIHN1cGVyKHsgdmVyYm9zZTogdmVyYm9zZSwgYXBwZW5kVG86IGFwcGVuZFRvLCBjYWxsYmFja0hhbmRsZXI6IGNhbGxiYWNrSGFuZGxlciB9KTtcclxuICAgIGlmIChuZXcudGFyZ2V0ID09PSBSZW5kZXJlcikge1xyXG4gICAgICB0aHJvdyBuZXcgVHlwZUVycm9yKCdDYW5ub3QgY29uc3RydWN0IFtSZW5kZXJlcl0gaW5zdGFuY2VzIGRpcmVjdGx5IScpO1xyXG4gICAgfVxyXG4gICAgaWYgKHRoaXMucmVuZGVyID09PSB1bmRlZmluZWQgfHwgdHlwZW9mIHRoaXMucmVuZGVyICE9PSAnZnVuY3Rpb24nKSB7XHJcbiAgICAgIHRocm93IG5ldyBUeXBlRXJyb3IoJ011c3Qgb3ZlcnJpZGUgW3JlbmRlcigpXSBtZXRob2QhJyk7XHJcbiAgICB9XHJcbiAgICBpZiAodGhpcy51bnJlbmRlciA9PT0gdW5kZWZpbmVkKSB7XHJcbiAgICAgIHRoaXMubG9nZ2VyLmRlYnVnKCdObyBbdW5yZW5kZXIoKV0gbWV0aG9kIHNwZWNpZmllZC4uLicpO1xyXG4gICAgfVxyXG4gICAgdGhpcy5lbGVtZW50ID0gdW5kZWZpbmVkO1xyXG4gICAgdGhpcy50cmFuc2l0aW9uRHVyYXRpb24gPSA3NTA7IC8vbXNcclxuICB9XHJcblxyXG4gIGdldCBIVE1MUGFyZW50KCkge1xyXG4gICAgcmV0dXJuIHRoaXMub3B0aW9ucy5hcHBlbmRUby5lbGVtZW50Lm5vZGUoKS50YWdOYW1lLnRvTG93ZXJDYXNlKCkgPT09ICdzdmcnID8gZDMuc2VsZWN0KHRoaXMub3B0aW9ucy5hcHBlbmRUby5lbGVtZW50Lm5vZGUoKS5wYXJlbnROb2RlKSA6IHRoaXMub3B0aW9ucy5hcHBlbmRUby5lbGVtZW50O1xyXG4gIH1cclxuXHJcbiAgZ2V0IFNWR1BhcmVudCgpIHtcclxuICAgIHJldHVybiB0aGlzLm9wdGlvbnMuYXBwZW5kVG8uZWxlbWVudC5ub2RlKCkudGFnTmFtZS50b0xvd2VyQ2FzZSgpID09PSAnZGl2JyA/IHRoaXMub3B0aW9ucy5hcHBlbmRUby5lbGVtZW50LnNlbGVjdCgnc3ZnJykgOiB0aGlzLm9wdGlvbnMuYXBwZW5kVG8uZWxlbWVudDtcclxuICB9XHJcblxyXG59XHJcbiIsImltcG9ydCBSZW5kZXJlciBmcm9tICcuL3JlbmRlcmVyJztcclxuaW1wb3J0IHsgcmVxdWlyZXMgfSBmcm9tICcuLi9kZWNvcmF0b3IvZGF0YSc7XHJcblxyXG4vKiBnbG9iYWwgZDMgKi9cclxuXHJcbmV4cG9ydCBkZWZhdWx0IGNsYXNzIFRvb2x0aXAgZXh0ZW5kcyBSZW5kZXJlciB7XHJcblxyXG4gIGNvbnN0cnVjdG9yKHsgdmVyYm9zZSA9IGZhbHNlLCBhcHBlbmRUbywgY2FsbGJhY2tIYW5kbGVyIH0pIHtcclxuICAgIHN1cGVyKHsgdmVyYm9zZTogdmVyYm9zZSwgYXBwZW5kVG86IGFwcGVuZFRvLCBjYWxsYmFja0hhbmRsZXI6IGNhbGxiYWNrSGFuZGxlciB9KTtcclxuICB9XHJcblxyXG4gIEByZXF1aXJlcygpXHJcbiAgcmVuZGVyKCkge1xyXG5cclxuICAgIHRoaXMuZWxlbWVudCA9IHRoaXMuSFRNTFBhcmVudC5zZWxlY3QoJ2Rpdi5mcmFuY3ktdG9vbHRpcC1ob2xkZXInKTtcclxuICAgIC8vIGNoZWNrIGlmIHRoZSB3aW5kb3cgaXMgYWxyZWFkeSBwcmVzZW50XHJcbiAgICBpZiAoIXRoaXMuZWxlbWVudC5ub2RlKCkpIHtcclxuICAgICAgdGhpcy5lbGVtZW50ID0gdGhpcy5IVE1MUGFyZW50LmFwcGVuZCgnZGl2JylcclxuICAgICAgICAuYXR0cignY2xhc3MnLCAnZnJhbmN5LXRvb2x0aXAtaG9sZGVyJyk7XHJcbiAgICB9XHJcblxyXG4gICAgLy8gY2hlY2sgaWYgaXQgZXhpc3RzIGFscmVhZHlcclxuICAgIGlmICh0aGlzLmVsZW1lbnQuc2VsZWN0QWxsKCcqJykubm9kZSgpKSB7XHJcbiAgICAgIHJldHVybjtcclxuICAgIH1cclxuXHJcbiAgICBsZXQgcG9zID0gZDMubW91c2UodGhpcy5TVkdQYXJlbnQubm9kZSgpKTtcclxuXHJcbiAgICAvLyBUT0RPIGZpeCBhbHdheXMgdmlzaWJsZSB0b29sdGlwLCBmaW5lIHVudGlsIHNvbWVvbmUgY29tcGxhaW5zIGFib3V0IDpQXHJcbiAgICB0aGlzLmVsZW1lbnQuc3R5bGUoJ2xlZnQnLCAocG9zWzBdICsgNSkgKyAncHgnKS5zdHlsZSgndG9wJywgKHBvc1sxXSAtIDUpICsgJ3B4Jyk7XHJcblxyXG4gICAgbGV0IHRhYmxlID0gdGhpcy5lbGVtZW50LmFwcGVuZCgnZGl2JykuYXR0cignY2xhc3MnLCAnZnJhbmN5LXRvb2x0aXAnKVxyXG4gICAgICAuYXBwZW5kKCdkaXYnKS5hdHRyKCdjbGFzcycsICdmcmFuY3ktdGFibGUnKVxyXG4gICAgICAuYXBwZW5kKCdkaXYnKS5hdHRyKCdjbGFzcycsICdmcmFuY3ktdGFibGUtYm9keScpO1xyXG4gICAgbGV0IHNlbGYgPSB0aGlzO1xyXG4gICAgT2JqZWN0LmtleXModGhpcy5kYXRhKS5tYXAoZnVuY3Rpb24oa2V5KSB7XHJcbiAgICAgIGxldCByb3cgPSB0YWJsZS5hcHBlbmQoJ2RpdicpLmF0dHIoJ2NsYXNzJywgJ2ZyYW5jeS10YWJsZS1yb3cnKTtcclxuICAgICAgcm93LmFwcGVuZCgnZGl2JykuYXR0cignY2xhc3MnLCAnZnJhbmN5LXRhYmxlLWNlbGwnKS50ZXh0KHNlbGYuZGF0YVtrZXldLnRpdGxlKTtcclxuICAgICAgcm93LmFwcGVuZCgnZGl2JykuYXR0cignY2xhc3MnLCAnZnJhbmN5LXRhYmxlLWNlbGwnKS50ZXh0KHNlbGYuZGF0YVtrZXldLnRleHQpO1xyXG4gICAgfSk7XHJcblxyXG4gICAgLy8gc2hvdyB0b29sdGlwXHJcbiAgICB0aGlzLmVsZW1lbnQuc3R5bGUoJ2Rpc3BsYXknLCAnYmxvY2snKTtcclxuXHJcbiAgICByZXR1cm4gdGhpcztcclxuICB9XHJcblxyXG4gIHVucmVuZGVyKCkge1xyXG4gICAgaWYgKHRoaXMuZWxlbWVudCkge1xyXG4gICAgICB0aGlzLmVsZW1lbnQuc2VsZWN0QWxsKCcqJykucmVtb3ZlKCk7XHJcbiAgICAgIHRoaXMuZWxlbWVudC5zdHlsZSgnZGlzcGxheScsIG51bGwpO1xyXG4gICAgfVxyXG4gIH1cclxufVxyXG4iLCJpbXBvcnQgTG9nZ2VyIGZyb20gJy4uL3V0aWwvbG9nZ2VyJztcclxuXHJcbi8qIGdsb2JhbCBKdXB5dGVyLCBNYXRoSmF4LCBkMyAqL1xyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIFJlZ2lzdGVyTWF0aEpheChlbGVtZW50KSB7XHJcbiAgaWYgKCFlbGVtZW50KSByZXR1cm47XHJcbiAgc2V0VGltZW91dCgoKSA9PiB7XHJcbiAgICB0cnkge1xyXG4gICAgICBNYXRoSmF4Lkh1Yi5Db25maWcoe1xyXG4gICAgICAgIGV4dGVuc2lvbnM6IFtcInRleDJqYXguanNcIl0sXHJcbiAgICAgICAgamF4OiBbXCJpbnB1dC9UZVhcIiwgXCJvdXRwdXQvU1ZHXCJdLFxyXG4gICAgICAgIHRleDJqYXg6IHtcclxuICAgICAgICAgIGlubGluZU1hdGg6IFtcclxuICAgICAgICAgICAgWyckJywgJyQnXSxcclxuICAgICAgICAgICAgW1wiXFxcXChcIiwgXCJcXFxcKVwiXVxyXG4gICAgICAgICAgXSxcclxuICAgICAgICAgIGRpc3BsYXlNYXRoOiBbXHJcbiAgICAgICAgICAgIFsnJCQnLCAnJCQnXSxcclxuICAgICAgICAgICAgW1wiXFxcXFtcIiwgXCJcXFxcXVwiXVxyXG4gICAgICAgICAgXSxcclxuICAgICAgICAgIHByb2Nlc3NFc2NhcGVzOiB0cnVlXHJcbiAgICAgICAgfSxcclxuICAgICAgICBza2lwU3RhcnR1cFR5cGVzZXQ6IHRydWVcclxuICAgICAgfSk7XHJcblxyXG4gICAgICBNYXRoSmF4Lkh1Yi5SZWdpc3Rlci5TdGFydHVwSG9vaygnRW5kJywgZnVuY3Rpb24oKSB7XHJcbiAgICAgICAgc2V0VGltZW91dCgoKSA9PiB7XHJcbiAgICAgICAgICBlbGVtZW50LnNlbGVjdEFsbCgnLmZyYW5jeS1sYWJlbCcpLmVhY2goZnVuY3Rpb24oKSB7XHJcbiAgICAgICAgICAgIHZhciBzZWxmID0gZDMuc2VsZWN0KHRoaXMpLFxyXG4gICAgICAgICAgICAgIG1hdGhKYXggPSBzZWxmLnNlbGVjdCgndGV4dD5zcGFuPnN2ZycpO1xyXG4gICAgICAgICAgICBpZiAobWF0aEpheC5ub2RlKCkpIHtcclxuICAgICAgICAgICAgICBzZXRUaW1lb3V0KCgpID0+IHtcclxuICAgICAgICAgICAgICAgIG1hdGhKYXguYXR0cigneCcsIHNlbGYuYXR0cigneCcpKTtcclxuICAgICAgICAgICAgICAgIG1hdGhKYXguYXR0cigneScsIC0xNSk7XHJcbiAgICAgICAgICAgICAgICBkMy5zZWxlY3Qoc2VsZi5ub2RlKCkucGFyZW50Tm9kZSkuYXBwZW5kKGZ1bmN0aW9uKCkge1xyXG4gICAgICAgICAgICAgICAgICByZXR1cm4gbWF0aEpheC5ub2RlKCk7XHJcbiAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgICAgIHNlbGYuc2VsZWN0QWxsKCcqJykucmVtb3ZlKCk7XHJcbiAgICAgICAgICAgICAgfSwgMTApO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICB9KTtcclxuICAgICAgICB9LCAyNTApO1xyXG4gICAgICB9KTtcclxuXHJcbiAgICAgIE1hdGhKYXguSHViLlF1ZXVlKFtcInNldFJlbmRlcmVyXCIsIE1hdGhKYXguSHViLCBcIlNWR1wiXSwgWydUeXBlc2V0JywgTWF0aEpheC5IdWIsIGVsZW1lbnQubm9kZSgpXSk7XHJcblxyXG4gICAgICBNYXRoSmF4Lkh1Yi5Db25maWd1cmVkKCk7XHJcbiAgICB9XHJcbiAgICBjYXRjaCAoZSkge1xyXG4gICAgICBpZiAoZS5uYW1lID09PSAnUmVmZXJlbmNlRXJyb3InKSB7XHJcbiAgICAgICAgbmV3IExvZ2dlcigpLmluZm8oJ0l0IHNlZW1zIE1hdGhKYXggaXMgbm90IGxvYWRlZC4uLicsIGUpO1xyXG4gICAgICB9XHJcbiAgICB9XHJcblxyXG4gIH0sIDEwKTtcclxufVxyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIFJlZ2lzdGVySnVweXRlcktleWJvYXJkRXZlbnRzKGNsYXNzZXMpIHtcclxuICAvLyBkaXNhYmxlIGtleWJvYXJkIHNob3J0Y3V0cyBpbiBKdXB5dGVyIGZvciBjbGFzc2VzXHJcbiAgaWYgKCFjbGFzc2VzKSByZXR1cm47XHJcbiAgdHJ5IHtcclxuICAgIGNsYXNzZXMubWFwKChjbCkgPT4ge1xyXG4gICAgICBKdXB5dGVyLmtleWJvYXJkX21hbmFnZXIucmVnaXN0ZXJfZXZlbnRzKGNsKTtcclxuICAgIH0pO1xyXG4gIH1cclxuICBjYXRjaCAoZSkge1xyXG4gICAgaWYgKGUubmFtZSA9PT0gJ1JlZmVyZW5jZUVycm9yJykge1xyXG4gICAgICBuZXcgTG9nZ2VyKCkuaW5mbygnSXQgc2VlbXMgd2VcXCdyZSBub3QgcnVubmluZyBvbiBKdXB5dGVyLi4uJywgZSk7XHJcbiAgICB9XHJcbiAgfVxyXG59XHJcbiIsIi8qKlxyXG4gKiBUaGlzIGNsYXNzIGNvbnRhaW5zIG1ldGhvZHMgdG8gZGVhbCB3aXRoIEpTT04uXHJcbiAqL1xyXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBKc29uVXRpbHMge1xyXG5cclxuICAvKipcclxuICAgKiBQYXJzZXMgYW4gaW5wdXQgbmQgY2hlY2tzIHdoZXRoZXIgdGhpcyBpbnB1dCBpcyB2YWxpZCBhbmQgcmV0dXJucyBhIEpTT04gb2JqZWN0LlxyXG4gICAqIEBwYXJhbSBpbnB1dCAtIHRoZSBpbnB1dCB0byBwYXJzZVxyXG4gICAqIEBwYXJhbSBwYXJ0aWFsIC0gaWYgdGhlIGlucHV0IGlzIG5vdCBhIGNvbXBsZXRlIEZyYW5jeSBKU09OIE9iamVjdFxyXG4gICAqIEByZXR1cm5zIHtqc29ufSAtIGlmIHRoZSBpbnB1dCBpcyBhIHZhbGlkIEpTT04gb2JqZWN0LCBvdGhlcndpc2UgcmV0dXJucyB7dW5kZWZpbmVkfVxyXG4gICAqL1xyXG4gIHN0YXRpYyBwYXJzZShpbnB1dCwgcGFydGlhbCkge1xyXG4gICAgaWYgKCFpbnB1dCkgcmV0dXJuO1xyXG4gICAgaW5wdXQgPSB0eXBlb2YgaW5wdXQgIT09IFwic3RyaW5nXCIgPyBKU09OLnN0cmluZ2lmeShpbnB1dCkgOiBpbnB1dDtcclxuICAgIGlucHV0ID0gaW5wdXQucmVwbGFjZSgvW1xcblxcclxcYlxcXFxdK3woZ2FwPikvZywgJycpO1xyXG4gICAgbGV0IGpzb25SZWdleCA9IC97KD86W15dKSp9L2c7XHJcbiAgICBsZXQgbWF0Y2ggPSBqc29uUmVnZXguZXhlYyhpbnB1dCk7XHJcbiAgICBpZiAobWF0Y2gpIHtcclxuICAgICAgaW5wdXQgPSBtYXRjaFswXTtcclxuICAgICAgdHJ5IHtcclxuICAgICAgICBsZXQganNvbiA9IEpTT04ucGFyc2UoaW5wdXQpO1xyXG4gICAgICAgIHJldHVybiBqc29uLm1pbWUgPT09IEpzb25VdGlscy5NSU1FIHx8IHBhcnRpYWwgPyBqc29uIDogdW5kZWZpbmVkO1xyXG4gICAgICB9XHJcbiAgICAgIGNhdGNoIChlKSB7XHJcbiAgICAgICAgLyogZXNsaW50LWRpc2FibGUgbm8tY29uc29sZSAqL1xyXG4gICAgICAgIGNvbnNvbGUuZXJyb3IoZSk7XHJcbiAgICAgICAgLyogZXNsaW50LWVuYWJsZSBuby1jb25zb2xlICovXHJcbiAgICAgIH1cclxuICAgIH1cclxuICB9XHJcblxyXG4gIHN0YXRpYyBnZXQgTUlNRSgpIHtcclxuICAgIHJldHVybiAnYXBwbGljYXRpb24vdm5kLmZyYW5jeStqc29uJztcclxuICB9XHJcbn1cclxuIiwiLyoqXHJcbiAqIFRoaXMgY2xhc3MgcHJvdmlkZXMgYSBsb2dnZXIgZm9yIHRoZSBGcmFuY3kgYXBwbGljYXRpb24uXHJcbiAqL1xyXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBMb2dnZXIge1xyXG5cclxuICAvKipcclxuICAgKiBMb2dnZXIgY29uc3RydWN0b3JcclxuICAgKiBAcGFyYW0gdmVyYm9zZSBwcmludHMgZXh0cmEgbG9nIGluZm9ybWF0aW9uIHRvIGNvbnNvbGUubG9nLCBkZWZhdWx0cyB0byBmYWxzZVxyXG4gICAqL1xyXG4gIGNvbnN0cnVjdG9yKHsgdmVyYm9zZSA9IGZhbHNlIH0gPSB7fSkge1xyXG4gICAgdGhpcy52ZXJib3NlID0gdmVyYm9zZTtcclxuICAgIHRoaXMuY29uc29sZSA9IGNvbnNvbGU7XHJcbiAgfVxyXG5cclxuICAvKipcclxuICAgKiBDcmVhdGVzIGEgW0RFQlVHXSBlbnRyeSBpbiB0aGUgY29uc29sZSBsb2dcclxuICAgKiBAcGFyYW0gbWVzc2FnZSB0aGUgbWVzc2FnZSB0byBwcmludFxyXG4gICAqL1xyXG4gIGRlYnVnKG1lc3NhZ2UpIHtcclxuICAgIGlmICh0aGlzLnZlcmJvc2UpIHtcclxuICAgICAgdGhpcy5jb25zb2xlLmRlYnVnKExvZ2dlci5fZm9ybWF0KCdERUJVRycsIG1lc3NhZ2UpKTtcclxuICAgIH1cclxuICB9XHJcblxyXG4gIC8qKlxyXG4gICAqIENyZWF0ZXMgYSBbSU5GT10gZW50cnkgaW4gdGhlIGNvbnNvbGUgbG9nXHJcbiAgICogQHBhcmFtIG1lc3NhZ2UgdGhlIG1lc3NhZ2UgdG8gcHJpbnRcclxuICAgKi9cclxuICBpbmZvKG1lc3NhZ2UpIHtcclxuICAgIHRoaXMuY29uc29sZS5pbmZvKExvZ2dlci5fZm9ybWF0KCdJTkZPJywgbWVzc2FnZSkpO1xyXG4gIH1cclxuXHJcbiAgLyoqXHJcbiAgICogQ3JlYXRlcyBhIFtFUlJPUl0gZW50cnkgaW4gdGhlIGNvbnNvbGUgbG9nXHJcbiAgICogQHBhcmFtIG1lc3NhZ2UgdGhlIG1lc3NhZ2UgdG8gcHJpbnRcclxuICAgKiBAcGFyYW0gZXJyb3IgdGhlIGVycm9yIE9iamVjdCB0byBhdHRhY2ggdG8gdGhlIG1lc3NhZ2VcclxuICAgKi9cclxuICBlcnJvcihtZXNzYWdlLCBlcnJvcikge1xyXG4gICAgdGhpcy5jb25zb2xlLmVycm9yKExvZ2dlci5fZm9ybWF0KCdFUlJPUicsIG1lc3NhZ2UpLCBlcnJvcik7XHJcbiAgfVxyXG5cclxuICAvKipcclxuICAgKiBDcmVhdGVzIGEgW1dBUk5dIGVudHJ5IGluIHRoZSBjb25zb2xlIGxvZ1xyXG4gICAqIEBwYXJhbSBtZXNzYWdlIHRoZSBtZXNzYWdlIHRvIHByaW50XHJcbiAgICogQHBhcmFtIGVycm9yIHRoZSBlcnJvciBPYmplY3QgdG8gYXR0YWNoIHRvIHRoZSBtZXNzYWdlXHJcbiAgICovXHJcbiAgd2FybihtZXNzYWdlLCBlcnJvcikge1xyXG4gICAgZXJyb3IgPSBlcnJvciB8fCB7fTtcclxuICAgIHRoaXMuY29uc29sZS5lcnJvcihMb2dnZXIuX2Zvcm1hdCgnV0FSTicsIG1lc3NhZ2UpLCBlcnJvcik7XHJcbiAgfVxyXG5cclxuICAvKipcclxuICAgKiBUaGlzIGlzIGEgcHJpdmF0ZSBtZXRob2QgdGhhdCBmb3JtYXRzIGFsbCBsb2cgbWVzc2FnZXNcclxuICAgKiBAcGFyYW0gbGV2ZWwgdGhlIGxvZyBsZXZlbFxyXG4gICAqIEBwYXJhbSBtZXNzYWdlIHRoZSBtZXNzYWdlIHRvIHByaW50XHJcbiAgICovXHJcbiAgc3RhdGljIF9mb3JtYXQobGV2ZWwsIG1lc3NhZ2UpIHtcclxuICAgIHJldHVybiBgWyR7bGV2ZWx9XSAtICR7bmV3IERhdGUoKS50b0lTT1N0cmluZygpfSAtICR7bWVzc2FnZX1gO1xyXG4gIH1cclxufVxyXG4iXX0=\n"]}